(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function LR(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var tg={exports:{}},Us={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT;function HR(){if(hT)return Us;hT=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var h in s)h!=="key"&&(l[h]=s[h])}else l=s;return s=l.ref,{$$typeof:o,type:r,key:u,ref:s!==void 0?s:null,props:l}}return Us.Fragment=e,Us.jsx=t,Us.jsxs=t,Us}var fT;function zR(){return fT||(fT=1,tg.exports=HR()),tg.exports}var ne=zR(),ng={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function BR(){if(gT)return we;gT=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function A(R,J,ae){this.props=R,this.context=J,this.refs=E,this.updater=ae||S}A.prototype.isReactComponent={},A.prototype.setState=function(R,J){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,J,"setState")},A.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function w(){}w.prototype=A.prototype;function k(R,J,ae){this.props=R,this.context=J,this.refs=E,this.updater=ae||S}var I=k.prototype=new w;I.constructor=k,T(I,A.prototype),I.isPureReactComponent=!0;var B=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function Y(R,J,ae,oe,ge,Ne){return ae=Ne.ref,{$$typeof:o,type:R,key:J,ref:ae!==void 0?ae:null,props:Ne}}function G(R,J){return Y(R.type,J,void 0,void 0,void 0,R.props)}function H(R){return typeof R=="object"&&R!==null&&R.$$typeof===o}function ie(R){var J={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ae){return J[ae]})}var fe=/\/+/g;function Ae(R,J){return typeof R=="object"&&R!==null&&R.key!=null?ie(""+R.key):J.toString(36)}function be(){}function Se(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(be,be):(R.status="pending",R.then(function(J){R.status==="pending"&&(R.status="fulfilled",R.value=J)},function(J){R.status==="pending"&&(R.status="rejected",R.reason=J)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Ee(R,J,ae,oe,ge){var Ne=typeof R;(Ne==="undefined"||Ne==="boolean")&&(R=null);var me=!1;if(R===null)me=!0;else switch(Ne){case"bigint":case"string":case"number":me=!0;break;case"object":switch(R.$$typeof){case o:case e:me=!0;break;case p:return me=R._init,Ee(me(R._payload),J,ae,oe,ge)}}if(me)return ge=ge(R),me=oe===""?"."+Ae(R,0):oe,B(ge)?(ae="",me!=null&&(ae=me.replace(fe,"$&/")+"/"),Ee(ge,J,ae,"",function(on){return on})):ge!=null&&(H(ge)&&(ge=G(ge,ae+(ge.key==null||R&&R.key===ge.key?"":(""+ge.key).replace(fe,"$&/")+"/")+me)),J.push(ge)),1;me=0;var bt=oe===""?".":oe+":";if(B(R))for(var ze=0;ze<R.length;ze++)oe=R[ze],Ne=bt+Ae(oe,ze),me+=Ee(oe,J,ae,Ne,ge);else if(ze=C(R),typeof ze=="function")for(R=ze.call(R),ze=0;!(oe=R.next()).done;)oe=oe.value,Ne=bt+Ae(oe,ze++),me+=Ee(oe,J,ae,Ne,ge);else if(Ne==="object"){if(typeof R.then=="function")return Ee(Se(R),J,ae,oe,ge);throw J=String(R),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return me}function F(R,J,ae){if(R==null)return R;var oe=[],ge=0;return Ee(R,oe,"","",function(Ne){return J.call(ae,Ne,ge++)}),oe}function te(R){if(R._status===-1){var J=R._result;J=J(),J.then(function(ae){(R._status===0||R._status===-1)&&(R._status=1,R._result=ae)},function(ae){(R._status===0||R._status===-1)&&(R._status=2,R._result=ae)}),R._status===-1&&(R._status=0,R._result=J)}if(R._status===1)return R._result.default;throw R._result}var de=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Ie(){}return we.Children={map:F,forEach:function(R,J,ae){F(R,function(){J.apply(this,arguments)},ae)},count:function(R){var J=0;return F(R,function(){J++}),J},toArray:function(R){return F(R,function(J){return J})||[]},only:function(R){if(!H(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},we.Component=A,we.Fragment=t,we.Profiler=s,we.PureComponent=k,we.StrictMode=r,we.Suspense=f,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,we.__COMPILER_RUNTIME={__proto__:null,c:function(R){return L.H.useMemoCache(R)}},we.cache=function(R){return function(){return R.apply(null,arguments)}},we.cloneElement=function(R,J,ae){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var oe=T({},R.props),ge=R.key,Ne=void 0;if(J!=null)for(me in J.ref!==void 0&&(Ne=void 0),J.key!==void 0&&(ge=""+J.key),J)!K.call(J,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&J.ref===void 0||(oe[me]=J[me]);var me=arguments.length-2;if(me===1)oe.children=ae;else if(1<me){for(var bt=Array(me),ze=0;ze<me;ze++)bt[ze]=arguments[ze+2];oe.children=bt}return Y(R.type,ge,void 0,void 0,Ne,oe)},we.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},we.createElement=function(R,J,ae){var oe,ge={},Ne=null;if(J!=null)for(oe in J.key!==void 0&&(Ne=""+J.key),J)K.call(J,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ge[oe]=J[oe]);var me=arguments.length-2;if(me===1)ge.children=ae;else if(1<me){for(var bt=Array(me),ze=0;ze<me;ze++)bt[ze]=arguments[ze+2];ge.children=bt}if(R&&R.defaultProps)for(oe in me=R.defaultProps,me)ge[oe]===void 0&&(ge[oe]=me[oe]);return Y(R,Ne,void 0,void 0,null,ge)},we.createRef=function(){return{current:null}},we.forwardRef=function(R){return{$$typeof:h,render:R}},we.isValidElement=H,we.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:te}},we.memo=function(R,J){return{$$typeof:m,type:R,compare:J===void 0?null:J}},we.startTransition=function(R){var J=L.T,ae={};L.T=ae;try{var oe=R(),ge=L.S;ge!==null&&ge(ae,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ie,de)}catch(Ne){de(Ne)}finally{L.T=J}},we.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},we.use=function(R){return L.H.use(R)},we.useActionState=function(R,J,ae){return L.H.useActionState(R,J,ae)},we.useCallback=function(R,J){return L.H.useCallback(R,J)},we.useContext=function(R){return L.H.useContext(R)},we.useDebugValue=function(){},we.useDeferredValue=function(R,J){return L.H.useDeferredValue(R,J)},we.useEffect=function(R,J,ae){var oe=L.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(R,J)},we.useId=function(){return L.H.useId()},we.useImperativeHandle=function(R,J,ae){return L.H.useImperativeHandle(R,J,ae)},we.useInsertionEffect=function(R,J){return L.H.useInsertionEffect(R,J)},we.useLayoutEffect=function(R,J){return L.H.useLayoutEffect(R,J)},we.useMemo=function(R,J){return L.H.useMemo(R,J)},we.useOptimistic=function(R,J){return L.H.useOptimistic(R,J)},we.useReducer=function(R,J,ae){return L.H.useReducer(R,J,ae)},we.useRef=function(R){return L.H.useRef(R)},we.useState=function(R){return L.H.useState(R)},we.useSyncExternalStore=function(R,J,ae){return L.H.useSyncExternalStore(R,J,ae)},we.useTransition=function(){return L.H.useTransition()},we.version="19.1.1",we}var mT;function Sm(){return mT||(mT=1,ng.exports=BR()),ng.exports}var D=Sm();const Wr=LR(D);var ig={exports:{}},Ls={},rg={exports:{}},og={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function KR(){return pT||(pT=1,function(o){function e(F,te){var de=F.length;F.push(te);e:for(;0<de;){var Ie=de-1>>>1,R=F[Ie];if(0<s(R,te))F[Ie]=te,F[de]=R,de=Ie;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var te=F[0],de=F.pop();if(de!==te){F[0]=de;e:for(var Ie=0,R=F.length,J=R>>>1;Ie<J;){var ae=2*(Ie+1)-1,oe=F[ae],ge=ae+1,Ne=F[ge];if(0>s(oe,de))ge<R&&0>s(Ne,oe)?(F[Ie]=Ne,F[ge]=de,Ie=ge):(F[Ie]=oe,F[ae]=de,Ie=ae);else if(ge<R&&0>s(Ne,de))F[Ie]=Ne,F[ge]=de,Ie=ge;else break e}}return te}function s(F,te){var de=F.sortIndex-te.sortIndex;return de!==0?de:F.id-te.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();o.unstable_now=function(){return u.now()-h}}var f=[],m=[],p=1,v=null,C=3,S=!1,T=!1,E=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function B(F){for(var te=t(m);te!==null;){if(te.callback===null)r(m);else if(te.startTime<=F)r(m),te.sortIndex=te.expirationTime,e(f,te);else break;te=t(m)}}function L(F){if(E=!1,B(F),!T)if(t(f)!==null)T=!0,K||(K=!0,Ae());else{var te=t(m);te!==null&&Ee(L,te.startTime-F)}}var K=!1,Y=-1,G=5,H=-1;function ie(){return A?!0:!(o.unstable_now()-H<G)}function fe(){if(A=!1,K){var F=o.unstable_now();H=F;var te=!0;try{e:{T=!1,E&&(E=!1,k(Y),Y=-1),S=!0;var de=C;try{t:{for(B(F),v=t(f);v!==null&&!(v.expirationTime>F&&ie());){var Ie=v.callback;if(typeof Ie=="function"){v.callback=null,C=v.priorityLevel;var R=Ie(v.expirationTime<=F);if(F=o.unstable_now(),typeof R=="function"){v.callback=R,B(F),te=!0;break t}v===t(f)&&r(f),B(F)}else r(f);v=t(f)}if(v!==null)te=!0;else{var J=t(m);J!==null&&Ee(L,J.startTime-F),te=!1}}break e}finally{v=null,C=de,S=!1}te=void 0}}finally{te?Ae():K=!1}}}var Ae;if(typeof I=="function")Ae=function(){I(fe)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Se=be.port2;be.port1.onmessage=fe,Ae=function(){Se.postMessage(null)}}else Ae=function(){w(fe,0)};function Ee(F,te){Y=w(function(){F(o.unstable_now())},te)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(F){F.callback=null},o.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<F?Math.floor(1e3/F):5},o.unstable_getCurrentPriorityLevel=function(){return C},o.unstable_next=function(F){switch(C){case 1:case 2:case 3:var te=3;break;default:te=C}var de=C;C=te;try{return F()}finally{C=de}},o.unstable_requestPaint=function(){A=!0},o.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=C;C=F;try{return te()}finally{C=de}},o.unstable_scheduleCallback=function(F,te,de){var Ie=o.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ie+de:Ie):de=Ie,F){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=de+R,F={id:p++,callback:te,priorityLevel:F,startTime:de,expirationTime:R,sortIndex:-1},de>Ie?(F.sortIndex=de,e(m,F),t(f)===null&&F===t(m)&&(E?(k(Y),Y=-1):E=!0,Ee(L,de-Ie))):(F.sortIndex=R,e(f,F),T||S||(T=!0,K||(K=!0,Ae()))),F},o.unstable_shouldYield=ie,o.unstable_wrapCallback=function(F){var te=C;return function(){var de=C;C=te;try{return F.apply(this,arguments)}finally{C=de}}}}(og)),og}var yT;function FR(){return yT||(yT=1,rg.exports=KR()),rg.exports}var ag={exports:{}},Pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function GR(){if(vT)return Pt;vT=1;var o=Sm();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:f,containerInfo:m,implementation:p}}var u=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pt.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,p)},Pt.flushSync=function(f){var m=u.T,p=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=p,r.d.f()}},Pt.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Pt.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Pt.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,v=h(p,m.crossOrigin),C=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:C,fetchPriority:S}):p==="script"&&r.d.X(f,{crossOrigin:v,integrity:C,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Pt.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=h(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Pt.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,v=h(p,m.crossOrigin);r.d.L(f,p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Pt.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=h(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Pt.requestFormReset=function(f){r.d.r(f)},Pt.unstable_batchedUpdates=function(f,m){return f(m)},Pt.useFormState=function(f,m,p){return u.H.useFormState(f,m,p)},Pt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Pt.version="19.1.1",Pt}var CT;function pE(){if(CT)return ag.exports;CT=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),ag.exports=GR(),ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _T;function qR(){if(_T)return Ls;_T=1;var o=FR(),e=Sm(),t=pE();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(r(188))}function f(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(r(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return h(d),n;if(g===c)return h(d),i;g=g.sibling}throw Error(r(188))}if(a.return!==c.return)a=d,c=g;else{for(var y=!1,_=d.child;_;){if(_===a){y=!0,a=d,c=g;break}if(_===c){y=!0,c=d,a=g;break}_=_.sibling}if(!y){for(_=g.child;_;){if(_===a){y=!0,a=g,c=d;break}if(_===c){y=!0,c=g,a=d;break}_=_.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?n:i}function m(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=m(n),i!==null)return i;n=n.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),I=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function Ae(n){return n===null||typeof n!="object"?null:(n=fe&&n[fe]||n["@@iterator"],typeof n=="function"?n:null)}var be=Symbol.for("react.client.reference");function Se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===be?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case L:return"Suspense";case K:return"SuspenseList";case H:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case I:return(n.displayName||"Context")+".Provider";case k:return(n._context.displayName||"Context")+".Consumer";case B:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Y:return i=n.displayName||null,i!==null?i:Se(n.type)||"Memo";case G:i=n._payload,n=n._init;try{return Se(n(i))}catch{}}return null}var Ee=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ie=[],R=-1;function J(n){return{current:n}}function ae(n){0>R||(n.current=Ie[R],Ie[R]=null,R--)}function oe(n,i){R++,Ie[R]=n.current,n.current=i}var ge=J(null),Ne=J(null),me=J(null),bt=J(null);function ze(n,i){switch(oe(me,i),oe(Ne,n),oe(ge,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?B_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=B_(i),n=K_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(ge),oe(ge,n)}function on(){ae(ge),ae(Ne),ae(me)}function vo(n){n.memoizedState!==null&&oe(bt,n);var i=ge.current,a=K_(i,n.type);i!==a&&(oe(Ne,n),oe(ge,a))}function Il(n){Ne.current===n&&(ae(ge),ae(Ne)),bt.current===n&&(ae(bt),Ns._currentValue=de)}var Bd=Object.prototype.hasOwnProperty,Kd=o.unstable_scheduleCallback,Fd=o.unstable_cancelCallback,m0=o.unstable_shouldYield,p0=o.unstable_requestPaint,Vn=o.unstable_now,y0=o.unstable_getCurrentPriorityLevel,_y=o.unstable_ImmediatePriority,Ty=o.unstable_UserBlockingPriority,Nl=o.unstable_NormalPriority,v0=o.unstable_LowPriority,Sy=o.unstable_IdlePriority,C0=o.log,_0=o.unstable_setDisableYieldValue,za=null,an=null;function Gi(n){if(typeof C0=="function"&&_0(n),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(za,n)}catch{}}var sn=Math.clz32?Math.clz32:E0,T0=Math.log,S0=Math.LN2;function E0(n){return n>>>=0,n===0?32:31-(T0(n)/S0|0)|0}var Ml=256,xl=4194304;function Or(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Dl(n,i,a){var c=n.pendingLanes;if(c===0)return 0;var d=0,g=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var _=c&134217727;return _!==0?(c=_&~g,c!==0?d=Or(c):(y&=_,y!==0?d=Or(y):a||(a=_&~n,a!==0&&(d=Or(a))))):(_=c&~g,_!==0?d=Or(_):y!==0?d=Or(y):a||(a=c&~n,a!==0&&(d=Or(a)))),d===0?0:i!==0&&i!==d&&(i&g)===0&&(g=d&-d,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:d}function Ba(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function A0(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ey(){var n=Ml;return Ml<<=1,(Ml&4194048)===0&&(Ml=256),n}function Ay(){var n=xl;return xl<<=1,(xl&62914560)===0&&(xl=4194304),n}function Gd(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Ka(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function b0(n,i,a,c,d,g){var y=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var _=n.entanglements,b=n.expirationTimes,P=n.hiddenUpdates;for(a=y&~a;0<a;){var q=31-sn(a),X=1<<q;_[q]=0,b[q]=-1;var U=P[q];if(U!==null)for(P[q]=null,q=0;q<U.length;q++){var z=U[q];z!==null&&(z.lane&=-536870913)}a&=~X}c!==0&&by(n,c,0),g!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=g&~(y&~i))}function by(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-sn(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|a&4194090}function wy(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-sn(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}function qd(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function jd(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ky(){var n=te.p;return n!==0?n:(n=window.event,n===void 0?32:aT(n.type))}function w0(n,i){var a=te.p;try{return te.p=n,i()}finally{te.p=a}}var qi=Math.random().toString(36).slice(2),xt="__reactFiber$"+qi,Vt="__reactProps$"+qi,Co="__reactContainer$"+qi,Yd="__reactEvents$"+qi,k0="__reactListeners$"+qi,R0="__reactHandles$"+qi,Ry="__reactResources$"+qi,Fa="__reactMarker$"+qi;function Vd(n){delete n[xt],delete n[Vt],delete n[Yd],delete n[k0],delete n[R0]}function _o(n){var i=n[xt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Co]||a[xt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=j_(n);n!==null;){if(a=n[xt])return a;n=j_(n)}return i}n=a,a=n.parentNode}return null}function To(n){if(n=n[xt]||n[Co]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Ga(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function So(n){var i=n[Ry];return i||(i=n[Ry]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function yt(n){n[Fa]=!0}var Oy=new Set,Iy={};function Ir(n,i){Eo(n,i),Eo(n+"Capture",i)}function Eo(n,i){for(Iy[n]=i,n=0;n<i.length;n++)Oy.add(i[n])}var O0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ny={},My={};function I0(n){return Bd.call(My,n)?!0:Bd.call(Ny,n)?!1:O0.test(n)?My[n]=!0:(Ny[n]=!0,!1)}function Pl(n,i,a){if(I0(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Ul(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function di(n,i,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+c)}}var Qd,xy;function Ao(n){if(Qd===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Qd=i&&i[1]||"",xy=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qd+n+xy}var $d=!1;function Xd(n,i){if(!n||$d)return"";$d=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(z){var U=z}Reflect.construct(n,[],X)}else{try{X.call()}catch(z){U=z}n.call(X.prototype)}}else{try{throw Error()}catch(z){U=z}(X=n())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(z){if(z&&U&&typeof z.stack=="string")return[z.stack,U.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),y=g[0],_=g[1];if(y&&_){var b=y.split(`
`),P=_.split(`
`);for(d=c=0;c<b.length&&!b[c].includes("DetermineComponentFrameRoot");)c++;for(;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;if(c===b.length||d===P.length)for(c=b.length-1,d=P.length-1;1<=c&&0<=d&&b[c]!==P[d];)d--;for(;1<=c&&0<=d;c--,d--)if(b[c]!==P[d]){if(c!==1||d!==1)do if(c--,d--,0>d||b[c]!==P[d]){var q=`
`+b[c].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=c&&0<=d);break}}}finally{$d=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ao(a):""}function N0(n){switch(n.tag){case 26:case 27:case 5:return Ao(n.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 15:return Xd(n.type,!1);case 11:return Xd(n.type.render,!1);case 1:return Xd(n.type,!0);case 31:return Ao("Activity");default:return""}}function Dy(n){try{var i="";do i+=N0(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Py(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function M0(n){var i=Py(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(y){c=""+y,g.call(this,y)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ll(n){n._valueTracker||(n._valueTracker=M0(n))}function Uy(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Py(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Hl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var x0=/[\n"\\]/g;function _n(n){return n.replace(x0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Jd(n,i,a,c,d,g,y,_){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),i!=null?y==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Cn(i)):n.value!==""+Cn(i)&&(n.value=""+Cn(i)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),i!=null?Wd(n,y,Cn(i)):a!=null?Wd(n,y,Cn(a)):c!=null&&n.removeAttribute("value"),d==null&&g!=null&&(n.defaultChecked=!!g),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+Cn(_):n.removeAttribute("name")}function Ly(n,i,a,c,d,g,y,_){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+Cn(a):"",i=i!=null?""+Cn(i):a,_||i===n.value||(n.value=i),n.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=_?n.checked:!!c,n.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y)}function Wd(n,i,a){i==="number"&&Hl(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function bo(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Cn(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function Hy(n,i,a){if(i!=null&&(i=""+Cn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+Cn(a):""}function zy(n,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(r(92));if(Ee(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=Cn(i),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c)}function wo(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var D0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function By(n,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,a):typeof a!="number"||a===0||D0.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Ky(n,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&a[d]!==c&&By(n,d,c)}else for(var g in i)i.hasOwnProperty(g)&&By(n,g,i[g])}function Zd(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(n){return U0.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var eh=null;function th(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ko=null,Ro=null;function Fy(n){var i=To(n);if(i&&(n=i.stateNode)){var a=n[Vt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Jd(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_n(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=c[Vt]||null;if(!d)throw Error(r(90));Jd(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===n.form&&Uy(c)}break e;case"textarea":Hy(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&bo(n,!!a.multiple,i,!1)}}}var nh=!1;function Gy(n,i,a){if(nh)return n(i,a);nh=!0;try{var c=n(i);return c}finally{if(nh=!1,(ko!==null||Ro!==null)&&(Ac(),ko&&(i=ko,n=Ro,Ro=ko=null,Fy(i),n)))for(i=0;i<n.length;i++)Fy(n[i])}}function qa(n,i){var a=n.stateNode;if(a===null)return null;var c=a[Vt]||null;if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ih=!1;if(hi)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){ih=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{ih=!1}var ji=null,rh=null,Bl=null;function qy(){if(Bl)return Bl;var n,i=rh,a=i.length,c,d="value"in ji?ji.value:ji.textContent,g=d.length;for(n=0;n<a&&i[n]===d[n];n++);var y=a-n;for(c=1;c<=y&&i[a-c]===d[g-c];c++);return Bl=d.slice(n,1<c?1-c:void 0)}function Kl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Fl(){return!0}function jy(){return!1}function Qt(n){function i(a,c,d,g,y){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=y,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(a=n[_],this[_]=a?a(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Fl:jy,this.isPropagationStopped=jy,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),i}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Qt(Nr),Ya=p({},Nr,{view:0,detail:0}),L0=Qt(Ya),oh,ah,Va,ql=p({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lh,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Va&&(Va&&n.type==="mousemove"?(oh=n.screenX-Va.screenX,ah=n.screenY-Va.screenY):ah=oh=0,Va=n),oh)},movementY:function(n){return"movementY"in n?n.movementY:ah}}),Yy=Qt(ql),H0=p({},ql,{dataTransfer:0}),z0=Qt(H0),B0=p({},Ya,{relatedTarget:0}),sh=Qt(B0),K0=p({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),F0=Qt(K0),G0=p({},Nr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),q0=Qt(G0),j0=p({},Nr,{data:0}),Vy=Qt(j0),Y0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $0(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Q0[n])?!!i[n]:!1}function lh(){return $0}var X0=p({},Ya,{key:function(n){if(n.key){var i=Y0[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Kl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?V0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lh,charCode:function(n){return n.type==="keypress"?Kl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Kl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),J0=Qt(X0),W0=p({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qy=Qt(W0),Z0=p({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lh}),ek=Qt(Z0),tk=p({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),nk=Qt(tk),ik=p({},ql,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),rk=Qt(ik),ok=p({},Nr,{newState:0,oldState:0}),ak=Qt(ok),sk=[9,13,27,32],ch=hi&&"CompositionEvent"in window,Qa=null;hi&&"documentMode"in document&&(Qa=document.documentMode);var lk=hi&&"TextEvent"in window&&!Qa,$y=hi&&(!ch||Qa&&8<Qa&&11>=Qa),Xy=" ",Jy=!1;function Wy(n,i){switch(n){case"keyup":return sk.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zy(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Oo=!1;function ck(n,i){switch(n){case"compositionend":return Zy(i);case"keypress":return i.which!==32?null:(Jy=!0,Xy);case"textInput":return n=i.data,n===Xy&&Jy?null:n;default:return null}}function uk(n,i){if(Oo)return n==="compositionend"||!ch&&Wy(n,i)?(n=qy(),Bl=rh=ji=null,Oo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return $y&&i.locale!=="ko"?null:i.data;default:return null}}var dk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!dk[n.type]:i==="textarea"}function tv(n,i,a,c){ko?Ro?Ro.push(c):Ro=[c]:ko=c,i=Ic(i,"onChange"),0<i.length&&(a=new Gl("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var $a=null,Xa=null;function hk(n){P_(n,0)}function jl(n){var i=Ga(n);if(Uy(i))return n}function nv(n,i){if(n==="change")return i}var iv=!1;if(hi){var uh;if(hi){var dh="oninput"in document;if(!dh){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),dh=typeof rv.oninput=="function"}uh=dh}else uh=!1;iv=uh&&(!document.documentMode||9<document.documentMode)}function ov(){$a&&($a.detachEvent("onpropertychange",av),Xa=$a=null)}function av(n){if(n.propertyName==="value"&&jl(Xa)){var i=[];tv(i,Xa,n,th(n)),Gy(hk,i)}}function fk(n,i,a){n==="focusin"?(ov(),$a=i,Xa=a,$a.attachEvent("onpropertychange",av)):n==="focusout"&&ov()}function gk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return jl(Xa)}function mk(n,i){if(n==="click")return jl(i)}function pk(n,i){if(n==="input"||n==="change")return jl(i)}function yk(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var ln=typeof Object.is=="function"?Object.is:yk;function Ja(n,i){if(ln(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!Bd.call(i,d)||!ln(n[d],i[d]))return!1}return!0}function sv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function lv(n,i){var a=sv(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=sv(a)}}function cv(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?cv(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function uv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Hl(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Hl(n.document)}return i}function hh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var vk=hi&&"documentMode"in document&&11>=document.documentMode,Io=null,fh=null,Wa=null,gh=!1;function dv(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gh||Io==null||Io!==Hl(c)||(c=Io,"selectionStart"in c&&hh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Wa&&Ja(Wa,c)||(Wa=c,c=Ic(fh,"onSelect"),0<c.length&&(i=new Gl("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Io)))}function Mr(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var No={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},mh={},hv={};hi&&(hv=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function xr(n){if(mh[n])return mh[n];if(!No[n])return n;var i=No[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in hv)return mh[n]=i[a];return n}var fv=xr("animationend"),gv=xr("animationiteration"),mv=xr("animationstart"),Ck=xr("transitionrun"),_k=xr("transitionstart"),Tk=xr("transitioncancel"),pv=xr("transitionend"),yv=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function xn(n,i){yv.set(n,i),Ir(i,[n])}var vv=new WeakMap;function Tn(n,i){if(typeof n=="object"&&n!==null){var a=vv.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Dy(i)},vv.set(n,i),i)}return{value:n,source:i,stack:Dy(i)}}var Sn=[],Mo=0,yh=0;function Yl(){for(var n=Mo,i=yh=Mo=0;i<n;){var a=Sn[i];Sn[i++]=null;var c=Sn[i];Sn[i++]=null;var d=Sn[i];Sn[i++]=null;var g=Sn[i];if(Sn[i++]=null,c!==null&&d!==null){var y=c.pending;y===null?d.next=d:(d.next=y.next,y.next=d),c.pending=d}g!==0&&Cv(a,d,g)}}function Vl(n,i,a,c){Sn[Mo++]=n,Sn[Mo++]=i,Sn[Mo++]=a,Sn[Mo++]=c,yh|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function vh(n,i,a,c){return Vl(n,i,a,c),Ql(n)}function xo(n,i){return Vl(n,null,null,i),Ql(n)}function Cv(n,i,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var d=!1,g=n.return;g!==null;)g.childLanes|=a,c=g.alternate,c!==null&&(c.childLanes|=a),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(d=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,d&&i!==null&&(d=31-sn(a),n=g.hiddenUpdates,c=n[d],c===null?n[d]=[i]:c.push(i),i.lane=a|536870912),g):null}function Ql(n){if(50<Es)throw Es=0,bf=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Do={};function Sk(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(n,i,a,c){return new Sk(n,i,a,c)}function Ch(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fi(n,i){var a=n.alternate;return a===null?(a=cn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function _v(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function $l(n,i,a,c,d,g){var y=0;if(c=n,typeof n=="function")Ch(n)&&(y=1);else if(typeof n=="string")y=AR(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case H:return n=cn(31,a,i,d),n.elementType=H,n.lanes=g,n;case T:return Dr(a.children,d,g,i);case E:y=8,d|=24;break;case A:return n=cn(12,a,i,d|2),n.elementType=A,n.lanes=g,n;case L:return n=cn(13,a,i,d),n.elementType=L,n.lanes=g,n;case K:return n=cn(19,a,i,d),n.elementType=K,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case w:case I:y=10;break e;case k:y=9;break e;case B:y=11;break e;case Y:y=14;break e;case G:y=16,c=null;break e}y=29,a=Error(r(130,n===null?"null":typeof n,"")),c=null}return i=cn(y,a,i,d),i.elementType=n,i.type=c,i.lanes=g,i}function Dr(n,i,a,c){return n=cn(7,n,c,i),n.lanes=a,n}function _h(n,i,a){return n=cn(6,n,null,i),n.lanes=a,n}function Th(n,i,a){return i=cn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Po=[],Uo=0,Xl=null,Jl=0,En=[],An=0,Pr=null,gi=1,mi="";function Ur(n,i){Po[Uo++]=Jl,Po[Uo++]=Xl,Xl=n,Jl=i}function Tv(n,i,a){En[An++]=gi,En[An++]=mi,En[An++]=Pr,Pr=n;var c=gi;n=mi;var d=32-sn(c)-1;c&=~(1<<d),a+=1;var g=32-sn(i)+d;if(30<g){var y=d-d%5;g=(c&(1<<y)-1).toString(32),c>>=y,d-=y,gi=1<<32-sn(i)+d|a<<d|c,mi=g+n}else gi=1<<g|a<<d|c,mi=n}function Sh(n){n.return!==null&&(Ur(n,1),Tv(n,1,0))}function Eh(n){for(;n===Xl;)Xl=Po[--Uo],Po[Uo]=null,Jl=Po[--Uo],Po[Uo]=null;for(;n===Pr;)Pr=En[--An],En[An]=null,mi=En[--An],En[An]=null,gi=En[--An],En[An]=null}var Bt=null,at=null,He=!1,Lr=null,Qn=!1,Ah=Error(r(519));function Hr(n){var i=Error(r(418,""));throw ts(Tn(i,n)),Ah}function Sv(n){var i=n.stateNode,a=n.type,c=n.memoizedProps;switch(i[xt]=n,i[Vt]=c,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<bs.length;a++)xe(bs[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Ly(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ll(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),zy(i,c.value,c.defaultValue,c.children),Ll(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||z_(i.textContent,a)?(c.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),c.onScroll!=null&&xe("scroll",i),c.onScrollEnd!=null&&xe("scrollend",i),c.onClick!=null&&(i.onclick=Nc),i=!0):i=!1,i||Hr(n)}function Ev(n){for(Bt=n.return;Bt;)switch(Bt.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Bt=Bt.return}}function Za(n){if(n!==Bt)return!1;if(!He)return Ev(n),He=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Kf(n.type,n.memoizedProps)),a=!a),a&&at&&Hr(n),Ev(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){at=Pn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}at=null}}else i===27?(i=at,sr(n.type)?(n=jf,jf=null,at=n):at=i):at=Bt?Pn(n.stateNode.nextSibling):null;return!0}function es(){at=Bt=null,He=!1}function Av(){var n=Lr;return n!==null&&(Jt===null?Jt=n:Jt.push.apply(Jt,n),Lr=null),n}function ts(n){Lr===null?Lr=[n]:Lr.push(n)}var bh=J(null),zr=null,pi=null;function Yi(n,i,a){oe(bh,i._currentValue),i._currentValue=a}function yi(n){n._currentValue=bh.current,ae(bh)}function wh(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function kh(n,i,a,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){var y=d.child;g=g.firstContext;e:for(;g!==null;){var _=g;g=d;for(var b=0;b<i.length;b++)if(_.context===i[b]){g.lanes|=a,_=g.alternate,_!==null&&(_.lanes|=a),wh(g.return,a,n),c||(y=null);break e}g=_.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(r(341));y.lanes|=a,g=y.alternate,g!==null&&(g.lanes|=a),wh(y,a,n),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function ns(n,i,a,c){n=null;for(var d=i,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var _=d.type;ln(d.pendingProps.value,y.value)||(n!==null?n.push(_):n=[_])}}else if(d===bt.current){if(y=d.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Ns):n=[Ns])}d=d.return}n!==null&&kh(i,n,a,c),i.flags|=262144}function Wl(n){for(n=n.firstContext;n!==null;){if(!ln(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Br(n){zr=n,pi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Dt(n){return bv(zr,n)}function Zl(n,i){return zr===null&&Br(n),bv(n,i)}function bv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},pi===null){if(n===null)throw Error(r(308));pi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else pi=pi.next=i;return a}var Ek=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},Ak=o.unstable_scheduleCallback,bk=o.unstable_NormalPriority,ft={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rh(){return{controller:new Ek,data:new Map,refCount:0}}function is(n){n.refCount--,n.refCount===0&&Ak(bk,function(){n.controller.abort()})}var rs=null,Oh=0,Lo=0,Ho=null;function wk(n,i){if(rs===null){var a=rs=[];Oh=0,Lo=Mf(),Ho={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Oh++,i.then(wv,wv),i}function wv(){if(--Oh===0&&rs!==null){Ho!==null&&(Ho.status="fulfilled");var n=rs;rs=null,Lo=0,Ho=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function kk(n,i){var a=[],c={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),c}var kv=F.S;F.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&wk(n,i),kv!==null&&kv(n,i)};var Kr=J(null);function Ih(){var n=Kr.current;return n!==null?n:We.pooledCache}function ec(n,i){i===null?oe(Kr,Kr.current):oe(Kr,i.pool)}function Rv(){var n=Ih();return n===null?null:{parent:ft._currentValue,pool:n}}var os=Error(r(460)),Ov=Error(r(474)),tc=Error(r(542)),Nh={then:function(){}};function Iv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function nc(){}function Nv(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(nc,nc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,xv(n),n;default:if(typeof i.status=="string")i.then(nc,nc);else{if(n=We,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,xv(n),n}throw as=i,os}}var as=null;function Mv(){if(as===null)throw Error(r(459));var n=as;return as=null,n}function xv(n){if(n===os||n===tc)throw Error(r(483))}var Vi=!1;function Mh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xh(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Qi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function $i(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=Ql(n),Cv(n,null,a),i}return Vl(n,c,i,a),Ql(n)}function ss(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,wy(n,a)}}function Dh(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?d=g=y:g=g.next=y,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Ph=!1;function ls(){if(Ph){var n=Ho;if(n!==null)throw n}}function cs(n,i,a,c){Ph=!1;var d=n.updateQueue;Vi=!1;var g=d.firstBaseUpdate,y=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var b=_,P=b.next;b.next=null,y===null?g=P:y.next=P,y=b;var q=n.alternate;q!==null&&(q=q.updateQueue,_=q.lastBaseUpdate,_!==y&&(_===null?q.firstBaseUpdate=P:_.next=P,q.lastBaseUpdate=b))}if(g!==null){var X=d.baseState;y=0,q=P=b=null,_=g;do{var U=_.lane&-536870913,z=U!==_.lane;if(z?(De&U)===U:(c&U)===U){U!==0&&U===Lo&&(Ph=!0),q!==null&&(q=q.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var _e=n,ye=_;U=i;var Ve=a;switch(ye.tag){case 1:if(_e=ye.payload,typeof _e=="function"){X=_e.call(Ve,X,U);break e}X=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ye.payload,U=typeof _e=="function"?_e.call(Ve,X,U):_e,U==null)break e;X=p({},X,U);break e;case 2:Vi=!0}}U=_.callback,U!==null&&(n.flags|=64,z&&(n.flags|=8192),z=d.callbacks,z===null?d.callbacks=[U]:z.push(U))}else z={lane:U,tag:_.tag,payload:_.payload,callback:_.callback,next:null},q===null?(P=q=z,b=X):q=q.next=z,y|=U;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;z=_,_=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);q===null&&(b=X),d.baseState=b,d.firstBaseUpdate=P,d.lastBaseUpdate=q,g===null&&(d.shared.lanes=0),ir|=y,n.lanes=y,n.memoizedState=X}}function Dv(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function Pv(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Dv(a[n],i)}var zo=J(null),ic=J(0);function Uv(n,i){n=Ai,oe(ic,n),oe(zo,i),Ai=n|i.baseLanes}function Uh(){oe(ic,Ai),oe(zo,zo.current)}function Lh(){Ai=ic.current,ae(zo),ae(ic)}var Xi=0,ke=null,je=null,ut=null,rc=!1,Bo=!1,Fr=!1,oc=0,us=0,Ko=null,Rk=0;function lt(){throw Error(r(321))}function Hh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!ln(n[a],i[a]))return!1;return!0}function zh(n,i,a,c,d,g){return Xi=g,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=n===null||n.memoizedState===null?CC:_C,Fr=!1,g=a(c,d),Fr=!1,Bo&&(g=Hv(i,a,c,d)),Lv(n),g}function Lv(n){F.H=dc;var i=je!==null&&je.next!==null;if(Xi=0,ut=je=ke=null,rc=!1,us=0,Ko=null,i)throw Error(r(300));n===null||vt||(n=n.dependencies,n!==null&&Wl(n)&&(vt=!0))}function Hv(n,i,a,c){ke=n;var d=0;do{if(Bo&&(Ko=null),us=0,Bo=!1,25<=d)throw Error(r(301));if(d+=1,ut=je=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}F.H=Pk,g=i(a,c)}while(Bo);return g}function Ok(){var n=F.H,i=n.useState()[0];return i=typeof i.then=="function"?ds(i):i,n=n.useState()[0],(je!==null?je.memoizedState:null)!==n&&(ke.flags|=1024),i}function Bh(){var n=oc!==0;return oc=0,n}function Kh(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Fh(n){if(rc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rc=!1}Xi=0,ut=je=ke=null,Bo=!1,us=oc=0,Ko=null}function $t(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ke.memoizedState=ut=n:ut=ut.next=n,ut}function dt(){if(je===null){var n=ke.alternate;n=n!==null?n.memoizedState:null}else n=je.next;var i=ut===null?ke.memoizedState:ut.next;if(i!==null)ut=i,je=n;else{if(n===null)throw ke.alternate===null?Error(r(467)):Error(r(310));je=n,n={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},ut===null?ke.memoizedState=ut=n:ut=ut.next=n}return ut}function Gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ds(n){var i=us;return us+=1,Ko===null&&(Ko=[]),n=Nv(Ko,n,i),i=ke,(ut===null?i.memoizedState:ut.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?CC:_C),n}function ac(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ds(n);if(n.$$typeof===I)return Dt(n)}throw Error(r(438,String(n)))}function qh(n){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Gh(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),c=0;c<n;c++)a[c]=ie;return i.index++,a}function vi(n,i){return typeof i=="function"?i(n):i}function sc(n){var i=dt();return jh(i,je,n)}function jh(n,i,a){var c=n.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var d=n.baseQueue,g=c.pending;if(g!==null){if(d!==null){var y=d.next;d.next=g.next,g.next=y}i.baseQueue=d=g,c.pending=null}if(g=n.baseState,d===null)n.memoizedState=g;else{i=d.next;var _=y=null,b=null,P=i,q=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(De&X)===X:(Xi&X)===X){var U=P.revertLane;if(U===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Lo&&(q=!0);else if((Xi&U)===U){P=P.next,U===Lo&&(q=!0);continue}else X={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(_=b=X,y=g):b=b.next=X,ke.lanes|=U,ir|=U;X=P.action,Fr&&a(g,X),g=P.hasEagerState?P.eagerState:a(g,X)}else U={lane:X,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(_=b=U,y=g):b=b.next=U,ke.lanes|=X,ir|=X;P=P.next}while(P!==null&&P!==i);if(b===null?y=g:b.next=_,!ln(g,n.memoizedState)&&(vt=!0,q&&(a=Ho,a!==null)))throw a;n.memoizedState=g,n.baseState=y,n.baseQueue=b,c.lastRenderedState=g}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Yh(n){var i=dt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var y=d=d.next;do g=n(g,y.action),y=y.next;while(y!==d);ln(g,i.memoizedState)||(vt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function zv(n,i,a){var c=ke,d=dt(),g=He;if(g){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!ln((je||d).memoizedState,a);y&&(d.memoizedState=a,vt=!0),d=d.queue;var _=Fv.bind(null,c,d,n);if(hs(2048,8,_,[n]),d.getSnapshot!==i||y||ut!==null&&ut.memoizedState.tag&1){if(c.flags|=2048,Fo(9,lc(),Kv.bind(null,c,d,a,i),null),We===null)throw Error(r(349));g||(Xi&124)!==0||Bv(c,i,a)}return a}function Bv(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=Gh(),ke.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Kv(n,i,a,c){i.value=a,i.getSnapshot=c,Gv(i)&&qv(n)}function Fv(n,i,a){return a(function(){Gv(i)&&qv(n)})}function Gv(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!ln(n,a)}catch{return!0}}function qv(n){var i=xo(n,2);i!==null&&gn(i,n,2)}function Vh(n){var i=$t();if(typeof n=="function"){var a=n;if(n=a(),Fr){Gi(!0);try{a()}finally{Gi(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:n},i}function jv(n,i,a,c){return n.baseState=a,jh(n,je,typeof c=="function"?c:vi)}function Ik(n,i,a,c,d){if(uc(n))throw Error(r(485));if(n=i.action,n!==null){var g={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){g.listeners.push(y)}};F.T!==null?a(!0):g.isTransition=!1,c(g),a=i.pending,a===null?(g.next=i.pending=g,Yv(i,g)):(g.next=a.next,i.pending=a.next=g)}}function Yv(n,i){var a=i.action,c=i.payload,d=n.state;if(i.isTransition){var g=F.T,y={};F.T=y;try{var _=a(d,c),b=F.S;b!==null&&b(y,_),Vv(n,i,_)}catch(P){Qh(n,i,P)}finally{F.T=g}}else try{g=a(d,c),Vv(n,i,g)}catch(P){Qh(n,i,P)}}function Vv(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Qv(n,i,c)},function(c){return Qh(n,i,c)}):Qv(n,i,a)}function Qv(n,i,a){i.status="fulfilled",i.value=a,$v(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Yv(n,a)))}function Qh(n,i,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,$v(i),i=i.next;while(i!==c)}n.action=null}function $v(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Xv(n,i){return i}function Jv(n,i){if(He){var a=We.formState;if(a!==null){e:{var c=ke;if(He){if(at){t:{for(var d=at,g=Qn;d.nodeType!==8;){if(!g){d=null;break t}if(d=Pn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){at=Pn(d.nextSibling),c=d.data==="F!";break e}}Hr(c)}c=!1}c&&(i=a[0])}}return a=$t(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xv,lastRenderedState:i},a.queue=c,a=pC.bind(null,ke,c),c.dispatch=a,c=Vh(!1),g=Zh.bind(null,ke,!1,c.queue),c=$t(),d={state:i,dispatch:null,action:n,pending:null},c.queue=d,a=Ik.bind(null,ke,d,g,a),d.dispatch=a,c.memoizedState=n,[i,a,!1]}function Wv(n){var i=dt();return Zv(i,je,n)}function Zv(n,i,a){if(i=jh(n,i,Xv)[0],n=sc(vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=ds(i)}catch(y){throw y===os?tc:y}else c=i;i=dt();var d=i.queue,g=d.dispatch;return a!==i.memoizedState&&(ke.flags|=2048,Fo(9,lc(),Nk.bind(null,d,a),null)),[c,g,n]}function Nk(n,i){n.action=i}function eC(n){var i=dt(),a=je;if(a!==null)return Zv(i,a,n);dt(),i=i.memoizedState,a=dt();var c=a.queue.dispatch;return a.memoizedState=n,[i,c,!1]}function Fo(n,i,a,c){return n={tag:n,create:a,deps:c,inst:i,next:null},i=ke.updateQueue,i===null&&(i=Gh(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n),n}function lc(){return{destroy:void 0,resource:void 0}}function tC(){return dt().memoizedState}function cc(n,i,a,c){var d=$t();c=c===void 0?null:c,ke.flags|=n,d.memoizedState=Fo(1|i,lc(),a,c)}function hs(n,i,a,c){var d=dt();c=c===void 0?null:c;var g=d.memoizedState.inst;je!==null&&c!==null&&Hh(c,je.memoizedState.deps)?d.memoizedState=Fo(i,g,a,c):(ke.flags|=n,d.memoizedState=Fo(1|i,g,a,c))}function nC(n,i){cc(8390656,8,n,i)}function iC(n,i){hs(2048,8,n,i)}function rC(n,i){return hs(4,2,n,i)}function oC(n,i){return hs(4,4,n,i)}function aC(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function sC(n,i,a){a=a!=null?a.concat([n]):null,hs(4,4,aC.bind(null,i,n),a)}function $h(){}function lC(n,i){var a=dt();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&Hh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function cC(n,i){var a=dt();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&Hh(i,c[1]))return c[0];if(c=n(),Fr){Gi(!0);try{n()}finally{Gi(!1)}}return a.memoizedState=[c,i],c}function Xh(n,i,a){return a===void 0||(Xi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=h_(),ke.lanes|=n,ir|=n,a)}function uC(n,i,a,c){return ln(a,i)?a:zo.current!==null?(n=Xh(n,a,c),ln(n,i)||(vt=!0),n):(Xi&42)===0?(vt=!0,n.memoizedState=a):(n=h_(),ke.lanes|=n,ir|=n,i)}function dC(n,i,a,c,d){var g=te.p;te.p=g!==0&&8>g?g:8;var y=F.T,_={};F.T=_,Zh(n,!1,i,a);try{var b=d(),P=F.S;if(P!==null&&P(_,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var q=kk(b,c);fs(n,i,q,fn(n))}else fs(n,i,c,fn(n))}catch(X){fs(n,i,{then:function(){},status:"rejected",reason:X},fn())}finally{te.p=g,F.T=y}}function Mk(){}function Jh(n,i,a,c){if(n.tag!==5)throw Error(r(476));var d=hC(n).queue;dC(n,d,i,de,a===null?Mk:function(){return fC(n),a(c)})}function hC(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function fC(n){var i=hC(n).next.queue;fs(n,i,{},fn())}function Wh(){return Dt(Ns)}function gC(){return dt().memoizedState}function mC(){return dt().memoizedState}function xk(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=fn();n=Qi(a);var c=$i(i,n,a);c!==null&&(gn(c,i,a),ss(c,i,a)),i={cache:Rh()},n.payload=i;return}i=i.return}}function Dk(n,i,a){var c=fn();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uc(n)?yC(i,a):(a=vh(n,i,a,c),a!==null&&(gn(a,n,c),vC(a,i,c)))}function pC(n,i,a){var c=fn();fs(n,i,a,c)}function fs(n,i,a,c){var d={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(n))yC(i,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var y=i.lastRenderedState,_=g(y,a);if(d.hasEagerState=!0,d.eagerState=_,ln(_,y))return Vl(n,i,d,0),We===null&&Yl(),!1}catch{}finally{}if(a=vh(n,i,d,c),a!==null)return gn(a,n,c),vC(a,i,c),!0}return!1}function Zh(n,i,a,c){if(c={lane:2,revertLane:Mf(),action:c,hasEagerState:!1,eagerState:null,next:null},uc(n)){if(i)throw Error(r(479))}else i=vh(n,a,c,2),i!==null&&gn(i,n,2)}function uc(n){var i=n.alternate;return n===ke||i!==null&&i===ke}function yC(n,i){Bo=rc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function vC(n,i,a){if((a&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,wy(n,a)}}var dc={readContext:Dt,use:ac,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},CC={readContext:Dt,use:ac,useCallback:function(n,i){return $t().memoizedState=[n,i===void 0?null:i],n},useContext:Dt,useEffect:nC,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,cc(4194308,4,aC.bind(null,i,n),a)},useLayoutEffect:function(n,i){return cc(4194308,4,n,i)},useInsertionEffect:function(n,i){cc(4,2,n,i)},useMemo:function(n,i){var a=$t();i=i===void 0?null:i;var c=n();if(Fr){Gi(!0);try{n()}finally{Gi(!1)}}return a.memoizedState=[c,i],c},useReducer:function(n,i,a){var c=$t();if(a!==void 0){var d=a(i);if(Fr){Gi(!0);try{a(i)}finally{Gi(!1)}}}else d=i;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=Dk.bind(null,ke,n),[c.memoizedState,n]},useRef:function(n){var i=$t();return n={current:n},i.memoizedState=n},useState:function(n){n=Vh(n);var i=n.queue,a=pC.bind(null,ke,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:$h,useDeferredValue:function(n,i){var a=$t();return Xh(a,n,i)},useTransition:function(){var n=Vh(!1);return n=dC.bind(null,ke,n.queue,!0,!1),$t().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var c=ke,d=$t();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),We===null)throw Error(r(349));(De&124)!==0||Bv(c,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,nC(Fv.bind(null,c,g,n),[n]),c.flags|=2048,Fo(9,lc(),Kv.bind(null,c,g,a,i),null),a},useId:function(){var n=$t(),i=We.identifierPrefix;if(He){var a=mi,c=gi;a=(c&~(1<<32-sn(c)-1)).toString(32)+a,i=""+i+"R"+a,a=oc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Rk++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Wh,useFormState:Jv,useActionState:Jv,useOptimistic:function(n){var i=$t();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Zh.bind(null,ke,!0,a),a.dispatch=i,[n,i]},useMemoCache:qh,useCacheRefresh:function(){return $t().memoizedState=xk.bind(null,ke)}},_C={readContext:Dt,use:ac,useCallback:lC,useContext:Dt,useEffect:iC,useImperativeHandle:sC,useInsertionEffect:rC,useLayoutEffect:oC,useMemo:cC,useReducer:sc,useRef:tC,useState:function(){return sc(vi)},useDebugValue:$h,useDeferredValue:function(n,i){var a=dt();return uC(a,je.memoizedState,n,i)},useTransition:function(){var n=sc(vi)[0],i=dt().memoizedState;return[typeof n=="boolean"?n:ds(n),i]},useSyncExternalStore:zv,useId:gC,useHostTransitionStatus:Wh,useFormState:Wv,useActionState:Wv,useOptimistic:function(n,i){var a=dt();return jv(a,je,n,i)},useMemoCache:qh,useCacheRefresh:mC},Pk={readContext:Dt,use:ac,useCallback:lC,useContext:Dt,useEffect:iC,useImperativeHandle:sC,useInsertionEffect:rC,useLayoutEffect:oC,useMemo:cC,useReducer:Yh,useRef:tC,useState:function(){return Yh(vi)},useDebugValue:$h,useDeferredValue:function(n,i){var a=dt();return je===null?Xh(a,n,i):uC(a,je.memoizedState,n,i)},useTransition:function(){var n=Yh(vi)[0],i=dt().memoizedState;return[typeof n=="boolean"?n:ds(n),i]},useSyncExternalStore:zv,useId:gC,useHostTransitionStatus:Wh,useFormState:eC,useActionState:eC,useOptimistic:function(n,i){var a=dt();return je!==null?jv(a,je,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:qh,useCacheRefresh:mC},Go=null,gs=0;function hc(n){var i=gs;return gs+=1,Go===null&&(Go=[]),Nv(Go,n,i)}function ms(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function fc(n,i){throw i.$$typeof===v?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function TC(n){var i=n._init;return i(n._payload)}function SC(n){function i(M,O){if(n){var x=M.deletions;x===null?(M.deletions=[O],M.flags|=16):x.push(O)}}function a(M,O){if(!n)return null;for(;O!==null;)i(M,O),O=O.sibling;return null}function c(M){for(var O=new Map;M!==null;)M.key!==null?O.set(M.key,M):O.set(M.index,M),M=M.sibling;return O}function d(M,O){return M=fi(M,O),M.index=0,M.sibling=null,M}function g(M,O,x){return M.index=x,n?(x=M.alternate,x!==null?(x=x.index,x<O?(M.flags|=67108866,O):x):(M.flags|=67108866,O)):(M.flags|=1048576,O)}function y(M){return n&&M.alternate===null&&(M.flags|=67108866),M}function _(M,O,x,V){return O===null||O.tag!==6?(O=_h(x,M.mode,V),O.return=M,O):(O=d(O,x),O.return=M,O)}function b(M,O,x,V){var ce=x.type;return ce===T?q(M,O,x.props.children,V,x.key):O!==null&&(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===G&&TC(ce)===O.type)?(O=d(O,x.props),ms(O,x),O.return=M,O):(O=$l(x.type,x.key,x.props,null,M.mode,V),ms(O,x),O.return=M,O)}function P(M,O,x,V){return O===null||O.tag!==4||O.stateNode.containerInfo!==x.containerInfo||O.stateNode.implementation!==x.implementation?(O=Th(x,M.mode,V),O.return=M,O):(O=d(O,x.children||[]),O.return=M,O)}function q(M,O,x,V,ce){return O===null||O.tag!==7?(O=Dr(x,M.mode,V,ce),O.return=M,O):(O=d(O,x),O.return=M,O)}function X(M,O,x){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=_h(""+O,M.mode,x),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return x=$l(O.type,O.key,O.props,null,M.mode,x),ms(x,O),x.return=M,x;case S:return O=Th(O,M.mode,x),O.return=M,O;case G:var V=O._init;return O=V(O._payload),X(M,O,x)}if(Ee(O)||Ae(O))return O=Dr(O,M.mode,x,null),O.return=M,O;if(typeof O.then=="function")return X(M,hc(O),x);if(O.$$typeof===I)return X(M,Zl(M,O),x);fc(M,O)}return null}function U(M,O,x,V){var ce=O!==null?O.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return ce!==null?null:_(M,O,""+x,V);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C:return x.key===ce?b(M,O,x,V):null;case S:return x.key===ce?P(M,O,x,V):null;case G:return ce=x._init,x=ce(x._payload),U(M,O,x,V)}if(Ee(x)||Ae(x))return ce!==null?null:q(M,O,x,V,null);if(typeof x.then=="function")return U(M,O,hc(x),V);if(x.$$typeof===I)return U(M,O,Zl(M,x),V);fc(M,x)}return null}function z(M,O,x,V,ce){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return M=M.get(x)||null,_(O,M,""+V,ce);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return M=M.get(V.key===null?x:V.key)||null,b(O,M,V,ce);case S:return M=M.get(V.key===null?x:V.key)||null,P(O,M,V,ce);case G:var Re=V._init;return V=Re(V._payload),z(M,O,x,V,ce)}if(Ee(V)||Ae(V))return M=M.get(x)||null,q(O,M,V,ce,null);if(typeof V.then=="function")return z(M,O,x,hc(V),ce);if(V.$$typeof===I)return z(M,O,x,Zl(O,V),ce);fc(O,V)}return null}function _e(M,O,x,V){for(var ce=null,Re=null,he=O,ve=O=0,_t=null;he!==null&&ve<x.length;ve++){he.index>ve?(_t=he,he=null):_t=he.sibling;var Le=U(M,he,x[ve],V);if(Le===null){he===null&&(he=_t);break}n&&he&&Le.alternate===null&&i(M,he),O=g(Le,O,ve),Re===null?ce=Le:Re.sibling=Le,Re=Le,he=_t}if(ve===x.length)return a(M,he),He&&Ur(M,ve),ce;if(he===null){for(;ve<x.length;ve++)he=X(M,x[ve],V),he!==null&&(O=g(he,O,ve),Re===null?ce=he:Re.sibling=he,Re=he);return He&&Ur(M,ve),ce}for(he=c(he);ve<x.length;ve++)_t=z(he,M,ve,x[ve],V),_t!==null&&(n&&_t.alternate!==null&&he.delete(_t.key===null?ve:_t.key),O=g(_t,O,ve),Re===null?ce=_t:Re.sibling=_t,Re=_t);return n&&he.forEach(function(hr){return i(M,hr)}),He&&Ur(M,ve),ce}function ye(M,O,x,V){if(x==null)throw Error(r(151));for(var ce=null,Re=null,he=O,ve=O=0,_t=null,Le=x.next();he!==null&&!Le.done;ve++,Le=x.next()){he.index>ve?(_t=he,he=null):_t=he.sibling;var hr=U(M,he,Le.value,V);if(hr===null){he===null&&(he=_t);break}n&&he&&hr.alternate===null&&i(M,he),O=g(hr,O,ve),Re===null?ce=hr:Re.sibling=hr,Re=hr,he=_t}if(Le.done)return a(M,he),He&&Ur(M,ve),ce;if(he===null){for(;!Le.done;ve++,Le=x.next())Le=X(M,Le.value,V),Le!==null&&(O=g(Le,O,ve),Re===null?ce=Le:Re.sibling=Le,Re=Le);return He&&Ur(M,ve),ce}for(he=c(he);!Le.done;ve++,Le=x.next())Le=z(he,M,ve,Le.value,V),Le!==null&&(n&&Le.alternate!==null&&he.delete(Le.key===null?ve:Le.key),O=g(Le,O,ve),Re===null?ce=Le:Re.sibling=Le,Re=Le);return n&&he.forEach(function(UR){return i(M,UR)}),He&&Ur(M,ve),ce}function Ve(M,O,x,V){if(typeof x=="object"&&x!==null&&x.type===T&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case C:e:{for(var ce=x.key;O!==null;){if(O.key===ce){if(ce=x.type,ce===T){if(O.tag===7){a(M,O.sibling),V=d(O,x.props.children),V.return=M,M=V;break e}}else if(O.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===G&&TC(ce)===O.type){a(M,O.sibling),V=d(O,x.props),ms(V,x),V.return=M,M=V;break e}a(M,O);break}else i(M,O);O=O.sibling}x.type===T?(V=Dr(x.props.children,M.mode,V,x.key),V.return=M,M=V):(V=$l(x.type,x.key,x.props,null,M.mode,V),ms(V,x),V.return=M,M=V)}return y(M);case S:e:{for(ce=x.key;O!==null;){if(O.key===ce)if(O.tag===4&&O.stateNode.containerInfo===x.containerInfo&&O.stateNode.implementation===x.implementation){a(M,O.sibling),V=d(O,x.children||[]),V.return=M,M=V;break e}else{a(M,O);break}else i(M,O);O=O.sibling}V=Th(x,M.mode,V),V.return=M,M=V}return y(M);case G:return ce=x._init,x=ce(x._payload),Ve(M,O,x,V)}if(Ee(x))return _e(M,O,x,V);if(Ae(x)){if(ce=Ae(x),typeof ce!="function")throw Error(r(150));return x=ce.call(x),ye(M,O,x,V)}if(typeof x.then=="function")return Ve(M,O,hc(x),V);if(x.$$typeof===I)return Ve(M,O,Zl(M,x),V);fc(M,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,O!==null&&O.tag===6?(a(M,O.sibling),V=d(O,x),V.return=M,M=V):(a(M,O),V=_h(x,M.mode,V),V.return=M,M=V),y(M)):a(M,O)}return function(M,O,x,V){try{gs=0;var ce=Ve(M,O,x,V);return Go=null,ce}catch(he){if(he===os||he===tc)throw he;var Re=cn(29,he,null,M.mode);return Re.lanes=V,Re.return=M,Re}finally{}}}var qo=SC(!0),EC=SC(!1),bn=J(null),$n=null;function Ji(n){var i=n.alternate;oe(gt,gt.current&1),oe(bn,n),$n===null&&(i===null||zo.current!==null||i.memoizedState!==null)&&($n=n)}function AC(n){if(n.tag===22){if(oe(gt,gt.current),oe(bn,n),$n===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&($n=n)}}else Wi()}function Wi(){oe(gt,gt.current),oe(bn,bn.current)}function Ci(n){ae(bn),$n===n&&($n=null),ae(gt)}var gt=J(0);function gc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||qf(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ef(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:p({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var tf={enqueueSetState:function(n,i,a){n=n._reactInternals;var c=fn(),d=Qi(c);d.payload=i,a!=null&&(d.callback=a),i=$i(n,d,c),i!==null&&(gn(i,n,c),ss(i,n,c))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=fn(),d=Qi(c);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=$i(n,d,c),i!==null&&(gn(i,n,c),ss(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=fn(),c=Qi(a);c.tag=2,i!=null&&(c.callback=i),i=$i(n,c,a),i!==null&&(gn(i,n,a),ss(i,n,a))}};function bC(n,i,a,c,d,g,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,y):i.prototype&&i.prototype.isPureReactComponent?!Ja(a,c)||!Ja(d,g):!0}function wC(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&tf.enqueueReplaceState(i,i.state,null)}function Gr(n,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(n=n.defaultProps){a===i&&(a=p({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var mc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function kC(n){mc(n)}function RC(n){console.error(n)}function OC(n){mc(n)}function pc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function IC(n,i,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function nf(n,i,a){return a=Qi(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(n,i)},a}function NC(n){return n=Qi(n),n.tag=3,n}function MC(n,i,a,c){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;n.payload=function(){return d(g)},n.callback=function(){IC(i,a,c)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){IC(i,a,c),typeof d!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var _=c.stack;this.componentDidCatch(c.value,{componentStack:_!==null?_:""})})}function Uk(n,i,a,c,d){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&ns(i,a,d,!0),a=bn.current,a!==null){switch(a.tag){case 13:return $n===null?kf():a.alternate===null&&st===0&&(st=3),a.flags&=-257,a.flags|=65536,a.lanes=d,c===Nh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),Of(n,c,d)),!1;case 22:return a.flags|=65536,c===Nh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),Of(n,c,d)),!1}throw Error(r(435,a.tag))}return Of(n,c,d),kf(),!1}if(He)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==Ah&&(n=Error(r(422),{cause:c}),ts(Tn(n,a)))):(c!==Ah&&(i=Error(r(423),{cause:c}),ts(Tn(i,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=Tn(c,a),d=nf(n.stateNode,c,d),Dh(n,d),st!==4&&(st=2)),!1;var g=Error(r(520),{cause:c});if(g=Tn(g,a),Ss===null?Ss=[g]:Ss.push(g),st!==4&&(st=2),i===null)return!0;c=Tn(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=nf(a.stateNode,c,n),Dh(a,n),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(rr===null||!rr.has(g))))return a.flags|=65536,d&=-d,a.lanes|=d,d=NC(d),MC(d,n,a,c),Dh(a,d),!1}a=a.return}while(a!==null);return!1}var xC=Error(r(461)),vt=!1;function wt(n,i,a,c){i.child=n===null?EC(i,null,a,c):qo(i,n.child,a,c)}function DC(n,i,a,c,d){a=a.render;var g=i.ref;if("ref"in c){var y={};for(var _ in c)_!=="ref"&&(y[_]=c[_])}else y=c;return Br(i),c=zh(n,i,a,y,g,d),_=Bh(),n!==null&&!vt?(Kh(n,i,d),_i(n,i,d)):(He&&_&&Sh(i),i.flags|=1,wt(n,i,c,d),i.child)}function PC(n,i,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!Ch(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,UC(n,i,g,c,d)):(n=$l(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!df(n,d)){var y=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ja,a(y,c)&&n.ref===i.ref)return _i(n,i,d)}return i.flags|=1,n=fi(g,c),n.ref=i.ref,n.return=i,i.child=n}function UC(n,i,a,c,d){if(n!==null){var g=n.memoizedProps;if(Ja(g,c)&&n.ref===i.ref)if(vt=!1,i.pendingProps=c=g,df(n,d))(n.flags&131072)!==0&&(vt=!0);else return i.lanes=n.lanes,_i(n,i,d)}return rf(n,i,a,c,d)}function LC(n,i,a){var c=i.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=g!==null?g.baseLanes|a:a,n!==null){for(d=i.child=n.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;i.childLanes=g&~c}else i.childLanes=0,i.child=null;return HC(n,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ec(i,g!==null?g.cachePool:null),g!==null?Uv(i,g):Uh(),AC(i);else return i.lanes=i.childLanes=536870912,HC(n,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(ec(i,g.cachePool),Uv(i,g),Wi(),i.memoizedState=null):(n!==null&&ec(i,null),Uh(),Wi());return wt(n,i,d,a),i.child}function HC(n,i,a,c){var d=Ih();return d=d===null?null:{parent:ft._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&ec(i,null),Uh(),AC(i),n!==null&&ns(n,i,c,!0),null}function yc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function rf(n,i,a,c,d){return Br(i),a=zh(n,i,a,c,void 0,d),c=Bh(),n!==null&&!vt?(Kh(n,i,d),_i(n,i,d)):(He&&c&&Sh(i),i.flags|=1,wt(n,i,a,d),i.child)}function zC(n,i,a,c,d,g){return Br(i),i.updateQueue=null,a=Hv(i,c,a,d),Lv(n),c=Bh(),n!==null&&!vt?(Kh(n,i,g),_i(n,i,g)):(He&&c&&Sh(i),i.flags|=1,wt(n,i,a,g),i.child)}function BC(n,i,a,c,d){if(Br(i),i.stateNode===null){var g=Do,y=a.contextType;typeof y=="object"&&y!==null&&(g=Dt(y)),g=new a(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=tf,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Mh(i),y=a.contextType,g.context=typeof y=="object"&&y!==null?Dt(y):Do,g.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(ef(i,a,y,c),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(y=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),y!==g.state&&tf.enqueueReplaceState(g,g.state,null),cs(i,c,g,d),ls(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){g=i.stateNode;var _=i.memoizedProps,b=Gr(a,_);g.props=b;var P=g.context,q=a.contextType;y=Do,typeof q=="object"&&q!==null&&(y=Dt(q));var X=a.getDerivedStateFromProps;q=typeof X=="function"||typeof g.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_||P!==y)&&wC(i,g,c,y),Vi=!1;var U=i.memoizedState;g.state=U,cs(i,c,g,d),ls(),P=i.memoizedState,_||U!==P||Vi?(typeof X=="function"&&(ef(i,a,X,c),P=i.memoizedState),(b=Vi||bC(i,a,b,c,U,P,y))?(q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),g.props=c,g.state=P,g.context=y,c=b):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,xh(n,i),y=i.memoizedProps,q=Gr(a,y),g.props=q,X=i.pendingProps,U=g.context,P=a.contextType,b=Do,typeof P=="object"&&P!==null&&(b=Dt(P)),_=a.getDerivedStateFromProps,(P=typeof _=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==X||U!==b)&&wC(i,g,c,b),Vi=!1,U=i.memoizedState,g.state=U,cs(i,c,g,d),ls();var z=i.memoizedState;y!==X||U!==z||Vi||n!==null&&n.dependencies!==null&&Wl(n.dependencies)?(typeof _=="function"&&(ef(i,a,_,c),z=i.memoizedState),(q=Vi||bC(i,a,q,c,U,z,b)||n!==null&&n.dependencies!==null&&Wl(n.dependencies))?(P||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,z,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,z,b)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===n.memoizedProps&&U===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&U===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=z),g.props=c,g.state=z,g.context=b,c=q):(typeof g.componentDidUpdate!="function"||y===n.memoizedProps&&U===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&U===n.memoizedState||(i.flags|=1024),c=!1)}return g=c,yc(n,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,n!==null&&c?(i.child=qo(i,n.child,null,d),i.child=qo(i,null,a,d)):wt(n,i,a,d),i.memoizedState=g.state,n=i.child):n=_i(n,i,d),n}function KC(n,i,a,c){return es(),i.flags|=256,wt(n,i,a,c),i.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function af(n){return{baseLanes:n,cachePool:Rv()}}function sf(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=wn),n}function FC(n,i,a){var c=i.pendingProps,d=!1,g=(i.flags&128)!==0,y;if((y=g)||(y=n!==null&&n.memoizedState===null?!1:(gt.current&2)!==0),y&&(d=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,n===null){if(He){if(d?Ji(i):Wi(),He){var _=at,b;if(b=_){e:{for(b=_,_=Qn;b.nodeType!==8;){if(!_){_=null;break e}if(b=Pn(b.nextSibling),b===null){_=null;break e}}_=b}_!==null?(i.memoizedState={dehydrated:_,treeContext:Pr!==null?{id:gi,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},b=cn(18,null,null,0),b.stateNode=_,b.return=i,i.child=b,Bt=i,at=null,b=!0):b=!1}b||Hr(i)}if(_=i.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return qf(_)?i.lanes=32:i.lanes=536870912,null;Ci(i)}return _=c.children,c=c.fallback,d?(Wi(),d=i.mode,_=vc({mode:"hidden",children:_},d),c=Dr(c,d,a,null),_.return=i,c.return=i,_.sibling=c,i.child=_,d=i.child,d.memoizedState=af(a),d.childLanes=sf(n,y,a),i.memoizedState=of,c):(Ji(i),lf(i,_))}if(b=n.memoizedState,b!==null&&(_=b.dehydrated,_!==null)){if(g)i.flags&256?(Ji(i),i.flags&=-257,i=cf(n,i,a)):i.memoizedState!==null?(Wi(),i.child=n.child,i.flags|=128,i=null):(Wi(),d=c.fallback,_=i.mode,c=vc({mode:"visible",children:c.children},_),d=Dr(d,_,a,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,qo(i,n.child,null,a),c=i.child,c.memoizedState=af(a),c.childLanes=sf(n,y,a),i.memoizedState=of,i=d);else if(Ji(i),qf(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var P=y.dgst;y=P,c=Error(r(419)),c.stack="",c.digest=y,ts({value:c,source:null,stack:null}),i=cf(n,i,a)}else if(vt||ns(n,i,a,!1),y=(a&n.childLanes)!==0,vt||y){if(y=We,y!==null&&(c=a&-a,c=(c&42)!==0?1:qd(c),c=(c&(y.suspendedLanes|a))!==0?0:c,c!==0&&c!==b.retryLane))throw b.retryLane=c,xo(n,c),gn(y,n,c),xC;_.data==="$?"||kf(),i=cf(n,i,a)}else _.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=b.treeContext,at=Pn(_.nextSibling),Bt=i,He=!0,Lr=null,Qn=!1,n!==null&&(En[An++]=gi,En[An++]=mi,En[An++]=Pr,gi=n.id,mi=n.overflow,Pr=i),i=lf(i,c.children),i.flags|=4096);return i}return d?(Wi(),d=c.fallback,_=i.mode,b=n.child,P=b.sibling,c=fi(b,{mode:"hidden",children:c.children}),c.subtreeFlags=b.subtreeFlags&65011712,P!==null?d=fi(P,d):(d=Dr(d,_,a,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,_=n.child.memoizedState,_===null?_=af(a):(b=_.cachePool,b!==null?(P=ft._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Rv(),_={baseLanes:_.baseLanes|a,cachePool:b}),d.memoizedState=_,d.childLanes=sf(n,y,a),i.memoizedState=of,c):(Ji(i),a=n.child,n=a.sibling,a=fi(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,n!==null&&(y=i.deletions,y===null?(i.deletions=[n],i.flags|=16):y.push(n)),i.child=a,i.memoizedState=null,a)}function lf(n,i){return i=vc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function vc(n,i){return n=cn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function cf(n,i,a){return qo(i,n.child,null,a),n=lf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function GC(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),wh(n.return,i,a)}function uf(n,i,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function qC(n,i,a){var c=i.pendingProps,d=c.revealOrder,g=c.tail;if(wt(n,i,c.children,a),c=gt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&GC(n,a,i);else if(n.tag===19)GC(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(oe(gt,c),d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&gc(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),uf(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&gc(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}uf(i,!0,a,null,g);break;case"together":uf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _i(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ir|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(ns(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,a=fi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=fi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function df(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Wl(n)))}function Lk(n,i,a){switch(i.tag){case 3:ze(i,i.stateNode.containerInfo),Yi(i,ft,n.memoizedState.cache),es();break;case 27:case 5:vo(i);break;case 4:ze(i,i.stateNode.containerInfo);break;case 10:Yi(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Ji(i),i.flags|=128,null):(a&i.child.childLanes)!==0?FC(n,i,a):(Ji(i),n=_i(n,i,a),n!==null?n.sibling:null);Ji(i);break;case 19:var d=(n.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(ns(n,i,a,!1),c=(a&i.childLanes)!==0),d){if(c)return qC(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(gt,gt.current),c)break;return null;case 22:case 23:return i.lanes=0,LC(n,i,a);case 24:Yi(i,ft,n.memoizedState.cache)}return _i(n,i,a)}function jC(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)vt=!0;else{if(!df(n,a)&&(i.flags&128)===0)return vt=!1,Lk(n,i,a);vt=(n.flags&131072)!==0}else vt=!1,He&&(i.flags&1048576)!==0&&Tv(i,Jl,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var c=i.elementType,d=c._init;if(c=d(c._payload),i.type=c,typeof c=="function")Ch(c)?(n=Gr(c,n),i.tag=1,i=BC(null,i,c,n,a)):(i.tag=0,i=rf(null,i,c,n,a));else{if(c!=null){if(d=c.$$typeof,d===B){i.tag=11,i=DC(null,i,c,n,a);break e}else if(d===Y){i.tag=14,i=PC(null,i,c,n,a);break e}}throw i=Se(c)||c,Error(r(306,i,""))}}return i;case 0:return rf(n,i,i.type,i.pendingProps,a);case 1:return c=i.type,d=Gr(c,i.pendingProps),BC(n,i,c,d,a);case 3:e:{if(ze(i,i.stateNode.containerInfo),n===null)throw Error(r(387));c=i.pendingProps;var g=i.memoizedState;d=g.element,xh(n,i),cs(i,c,null,a);var y=i.memoizedState;if(c=y.cache,Yi(i,ft,c),c!==g.cache&&kh(i,[ft],a,!0),ls(),c=y.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=KC(n,i,c,a);break e}else if(c!==d){d=Tn(Error(r(424)),i),ts(d),i=KC(n,i,c,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(at=Pn(n.firstChild),Bt=i,He=!0,Lr=null,Qn=!0,a=EC(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(es(),c===d){i=_i(n,i,a);break e}wt(n,i,c,a)}i=i.child}return i;case 26:return yc(n,i),n===null?(a=$_(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,n=i.pendingProps,c=Mc(me.current).createElement(a),c[xt]=i,c[Vt]=n,Rt(c,a,n),yt(c),i.stateNode=c):i.memoizedState=$_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return vo(i),n===null&&He&&(c=i.stateNode=Y_(i.type,i.pendingProps,me.current),Bt=i,Qn=!0,d=at,sr(i.type)?(jf=d,at=Pn(c.firstChild)):at=d),wt(n,i,i.pendingProps.children,a),yc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&He&&((d=c=at)&&(c=dR(c,i.type,i.pendingProps,Qn),c!==null?(i.stateNode=c,Bt=i,at=Pn(c.firstChild),Qn=!1,d=!0):d=!1),d||Hr(i)),vo(i),d=i.type,g=i.pendingProps,y=n!==null?n.memoizedProps:null,c=g.children,Kf(d,g)?c=null:y!==null&&Kf(d,y)&&(i.flags|=32),i.memoizedState!==null&&(d=zh(n,i,Ok,null,null,a),Ns._currentValue=d),yc(n,i),wt(n,i,c,a),i.child;case 6:return n===null&&He&&((n=a=at)&&(a=hR(a,i.pendingProps,Qn),a!==null?(i.stateNode=a,Bt=i,at=null,n=!0):n=!1),n||Hr(i)),null;case 13:return FC(n,i,a);case 4:return ze(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=qo(i,null,c,a):wt(n,i,c,a),i.child;case 11:return DC(n,i,i.type,i.pendingProps,a);case 7:return wt(n,i,i.pendingProps,a),i.child;case 8:return wt(n,i,i.pendingProps.children,a),i.child;case 12:return wt(n,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,Yi(i,i.type,c.value),wt(n,i,c.children,a),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,Br(i),d=Dt(d),c=c(d),i.flags|=1,wt(n,i,c,a),i.child;case 14:return PC(n,i,i.type,i.pendingProps,a);case 15:return UC(n,i,i.type,i.pendingProps,a);case 19:return qC(n,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},n===null?(a=vc(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=fi(n.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return LC(n,i,a);case 24:return Br(i),c=Dt(ft),n===null?(d=Ih(),d===null&&(d=We,g=Rh(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=a),d=g),i.memoizedState={parent:c,cache:d},Mh(i),Yi(i,ft,d)):((n.lanes&a)!==0&&(xh(n,i),cs(i,null,null,a),ls()),d=n.memoizedState,g=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Yi(i,ft,c)):(c=g.cache,Yi(i,ft,c),c!==d.cache&&kh(i,[ft],a,!0))),wt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Ti(n){n.flags|=4}function YC(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!eT(i)){if(i=bn.current,i!==null&&((De&4194048)===De?$n!==null:(De&62914560)!==De&&(De&536870912)===0||i!==$n))throw as=Nh,Ov;n.flags|=8192}}function Cc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ay():536870912,n.lanes|=i,Qo|=i)}function ps(n,i){if(!He)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function it(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function Hk(n,i,a){var c=i.pendingProps;switch(Eh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),yi(ft),on(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Za(i)?Ti(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Av())),it(i),null;case 26:return a=i.memoizedState,n===null?(Ti(i),a!==null?(it(i),YC(i,a)):(it(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Ti(i),it(i),YC(i,a)):(it(i),i.flags&=-16777217):(n.memoizedProps!==c&&Ti(i),it(i),i.flags&=-16777217),null;case 27:Il(i),a=me.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Ti(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return it(i),null}n=ge.current,Za(i)?Sv(i):(n=Y_(d,c,a),i.stateNode=n,Ti(i))}return it(i),null;case 5:if(Il(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Ti(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return it(i),null}if(n=ge.current,Za(i))Sv(i);else{switch(d=Mc(me.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?d.createElement(a,{is:c.is}):d.createElement(a)}}n[xt]=i,n[Vt]=c;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(Rt(n,a,c),a){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ti(i)}}return it(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&Ti(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(n=me.current,Za(i)){if(n=i.stateNode,a=i.memoizedProps,c=null,d=Bt,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[xt]=i,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||z_(n.nodeValue,a)),n||Hr(i)}else n=Mc(n).createTextNode(c),n[xt]=i,i.stateNode=n}return it(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Za(i),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[xt]=i}else es(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),d=!1}else d=Av(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ci(i),i):(Ci(i),null)}if(Ci(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,n=n!==null&&n.memoizedState!==null,a){c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),it(i),null;case 4:return on(),n===null&&Uf(i.stateNode.containerInfo),it(i),null;case 10:return yi(i.type),it(i),null;case 19:if(ae(gt),d=i.memoizedState,d===null)return it(i),null;if(c=(i.flags&128)!==0,g=d.rendering,g===null)if(c)ps(d,!1);else{if(st!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=gc(n),g!==null){for(i.flags|=128,ps(d,!1),n=g.updateQueue,i.updateQueue=n,Cc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)_v(a,n),a=a.sibling;return oe(gt,gt.current&1|2),i.child}n=n.sibling}d.tail!==null&&Vn()>Sc&&(i.flags|=128,c=!0,ps(d,!1),i.lanes=4194304)}else{if(!c)if(n=gc(g),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,Cc(i,n),ps(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!He)return it(i),null}else 2*Vn()-d.renderingStartTime>Sc&&a!==536870912&&(i.flags|=128,c=!0,ps(d,!1),i.lanes=4194304);d.isBackwards?(g.sibling=i.child,i.child=g):(n=d.last,n!==null?n.sibling=g:i.child=g,d.last=g)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Vn(),i.sibling=null,n=gt.current,oe(gt,c?n&1|2:n&1),i):(it(i),null);case 22:case 23:return Ci(i),Lh(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),n!==null&&ae(Kr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),yi(ft),it(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function zk(n,i){switch(Eh(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return yi(ft),on(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Il(i),null;case 13:if(Ci(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));es()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ae(gt),null;case 4:return on(),null;case 10:return yi(i.type),null;case 22:case 23:return Ci(i),Lh(),n!==null&&ae(Kr),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return yi(ft),null;case 25:return null;default:return null}}function VC(n,i){switch(Eh(i),i.tag){case 3:yi(ft),on();break;case 26:case 27:case 5:Il(i);break;case 4:on();break;case 13:Ci(i);break;case 19:ae(gt);break;case 10:yi(i.type);break;case 22:case 23:Ci(i),Lh(),n!==null&&ae(Kr);break;case 24:yi(ft)}}function ys(n,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var d=c.next;a=d;do{if((a.tag&n)===n){c=void 0;var g=a.create,y=a.inst;c=g(),y.destroy=c}a=a.next}while(a!==d)}}catch(_){Xe(i,i.return,_)}}function Zi(n,i,a){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&n)===n){var y=c.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,d=i;var b=a,P=_;try{P()}catch(q){Xe(d,b,q)}}}c=c.next}while(c!==g)}}catch(q){Xe(i,i.return,q)}}function QC(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Pv(i,a)}catch(c){Xe(n,n.return,c)}}}function $C(n,i,a){a.props=Gr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){Xe(n,i,c)}}function vs(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(d){Xe(n,i,d)}}function Xn(n,i){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(d){Xe(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Xe(n,i,d)}else a.current=null}function XC(n){var i=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(d){Xe(n,n.return,d)}}function hf(n,i,a){try{var c=n.stateNode;aR(c,n.type,a,i),c[Vt]=i}catch(d){Xe(n,n.return,d)}}function JC(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&sr(n.type)||n.tag===4}function ff(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||JC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&sr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gf(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Nc));else if(c!==4&&(c===27&&sr(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(gf(n,i,a),n=n.sibling;n!==null;)gf(n,i,a),n=n.sibling}function _c(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(c===27&&sr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(_c(n,i,a),n=n.sibling;n!==null;)_c(n,i,a),n=n.sibling}function WC(n){var i=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Rt(i,c,a),i[xt]=n,i[Vt]=a}catch(g){Xe(n,n.return,g)}}var Si=!1,ct=!1,mf=!1,ZC=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function Bk(n,i){if(n=n.containerInfo,zf=Hc,n=uv(n),hh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var y=0,_=-1,b=-1,P=0,q=0,X=n,U=null;t:for(;;){for(var z;X!==a||d!==0&&X.nodeType!==3||(_=y+d),X!==g||c!==0&&X.nodeType!==3||(b=y+c),X.nodeType===3&&(y+=X.nodeValue.length),(z=X.firstChild)!==null;)U=X,X=z;for(;;){if(X===n)break t;if(U===a&&++P===d&&(_=y),U===g&&++q===c&&(b=y),(z=X.nextSibling)!==null)break;X=U,U=X.parentNode}X=z}a=_===-1||b===-1?null:{start:_,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bf={focusedElem:n,selectionRange:a},Hc=!1,Ct=i;Ct!==null;)if(i=Ct,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ct=n;else for(;Ct!==null;){switch(i=Ct,g=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,a=i,d=g.memoizedProps,g=g.memoizedState,c=a.stateNode;try{var _e=Gr(a.type,d,a.elementType===a.type);n=c.getSnapshotBeforeUpdate(_e,g),c.__reactInternalSnapshotBeforeUpdate=n}catch(ye){Xe(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Gf(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Gf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,Ct=n;break}Ct=i.return}}function e_(n,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:er(n,a),c&4&&ys(5,a);break;case 1:if(er(n,a),c&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(y){Xe(a,a.return,y)}else{var d=Gr(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(y){Xe(a,a.return,y)}}c&64&&QC(a),c&512&&vs(a,a.return);break;case 3:if(er(n,a),c&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Pv(n,i)}catch(y){Xe(a,a.return,y)}}break;case 27:i===null&&c&4&&WC(a);case 26:case 5:er(n,a),i===null&&c&4&&XC(a),c&512&&vs(a,a.return);break;case 12:er(n,a);break;case 13:er(n,a),c&4&&i_(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=$k.bind(null,a),fR(n,a))));break;case 22:if(c=a.memoizedState!==null||Si,!c){i=i!==null&&i.memoizedState!==null||ct,d=Si;var g=ct;Si=c,(ct=i)&&!g?tr(n,a,(a.subtreeFlags&8772)!==0):er(n,a),Si=d,ct=g}break;case 30:break;default:er(n,a)}}function t_(n){var i=n.alternate;i!==null&&(n.alternate=null,t_(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Vd(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ze=null,Xt=!1;function Ei(n,i,a){for(a=a.child;a!==null;)n_(n,i,a),a=a.sibling}function n_(n,i,a){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(za,a)}catch{}switch(a.tag){case 26:ct||Xn(a,i),Ei(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||Xn(a,i);var c=Ze,d=Xt;sr(a.type)&&(Ze=a.stateNode,Xt=!1),Ei(n,i,a),ks(a.stateNode),Ze=c,Xt=d;break;case 5:ct||Xn(a,i);case 6:if(c=Ze,d=Xt,Ze=null,Ei(n,i,a),Ze=c,Xt=d,Ze!==null)if(Xt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(g){Xe(a,i,g)}else try{Ze.removeChild(a.stateNode)}catch(g){Xe(a,i,g)}break;case 18:Ze!==null&&(Xt?(n=Ze,q_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ps(n)):q_(Ze,a.stateNode));break;case 4:c=Ze,d=Xt,Ze=a.stateNode.containerInfo,Xt=!0,Ei(n,i,a),Ze=c,Xt=d;break;case 0:case 11:case 14:case 15:ct||Zi(2,a,i),ct||Zi(4,a,i),Ei(n,i,a);break;case 1:ct||(Xn(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&$C(a,i,c)),Ei(n,i,a);break;case 21:Ei(n,i,a);break;case 22:ct=(c=ct)||a.memoizedState!==null,Ei(n,i,a),ct=c;break;default:Ei(n,i,a)}}function i_(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ps(n)}catch(a){Xe(i,i.return,a)}}function Kk(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new ZC),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new ZC),i;default:throw Error(r(435,n.tag))}}function pf(n,i){var a=Kk(n);i.forEach(function(c){var d=Xk.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}function un(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c],g=n,y=i,_=y;e:for(;_!==null;){switch(_.tag){case 27:if(sr(_.type)){Ze=_.stateNode,Xt=!1;break e}break;case 5:Ze=_.stateNode,Xt=!1;break e;case 3:case 4:Ze=_.stateNode.containerInfo,Xt=!0;break e}_=_.return}if(Ze===null)throw Error(r(160));n_(g,y,d),Ze=null,Xt=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)r_(i,n),i=i.sibling}var Dn=null;function r_(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:un(i,n),dn(n),c&4&&(Zi(3,n,n.return),ys(3,n),Zi(5,n,n.return));break;case 1:un(i,n),dn(n),c&512&&(ct||a===null||Xn(a,a.return)),c&64&&Si&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var d=Dn;if(un(i,n),dn(n),c&512&&(ct||a===null||Xn(a,a.return)),c&4){var g=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Fa]||g[xt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),Rt(g,c,a),g[xt]=n,yt(g),c=g;break e;case"link":var y=W_("link","href",d).get(c+(a.href||""));if(y){for(var _=0;_<y.length;_++)if(g=y[_],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(_,1);break t}}g=d.createElement(c),Rt(g,c,a),d.head.appendChild(g);break;case"meta":if(y=W_("meta","content",d).get(c+(a.content||""))){for(_=0;_<y.length;_++)if(g=y[_],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(_,1);break t}}g=d.createElement(c),Rt(g,c,a),d.head.appendChild(g);break;default:throw Error(r(468,c))}g[xt]=n,yt(g),c=g}n.stateNode=c}else Z_(d,n.type,n.stateNode);else n.stateNode=J_(d,c,n.memoizedProps);else g!==c?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,c===null?Z_(d,n.type,n.stateNode):J_(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&hf(n,n.memoizedProps,a.memoizedProps)}break;case 27:un(i,n),dn(n),c&512&&(ct||a===null||Xn(a,a.return)),a!==null&&c&4&&hf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(un(i,n),dn(n),c&512&&(ct||a===null||Xn(a,a.return)),n.flags&32){d=n.stateNode;try{wo(d,"")}catch(z){Xe(n,n.return,z)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,hf(n,d,a!==null?a.memoizedProps:d)),c&1024&&(mf=!0);break;case 6:if(un(i,n),dn(n),c&4){if(n.stateNode===null)throw Error(r(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(z){Xe(n,n.return,z)}}break;case 3:if(Pc=null,d=Dn,Dn=xc(i.containerInfo),un(i,n),Dn=d,dn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ps(i.containerInfo)}catch(z){Xe(n,n.return,z)}mf&&(mf=!1,o_(n));break;case 4:c=Dn,Dn=xc(n.stateNode.containerInfo),un(i,n),dn(n),Dn=c;break;case 12:un(i,n),dn(n);break;case 13:un(i,n),dn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sf=Vn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,pf(n,c)));break;case 22:d=n.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,P=Si,q=ct;if(Si=P||d,ct=q||b,un(i,n),ct=q,Si=P,dn(n),c&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||b||Si||ct||qr(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(g=b.stateNode,d)y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=b.stateNode;var X=b.memoizedProps.style,U=X!=null&&X.hasOwnProperty("display")?X.display:null;_.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(z){Xe(b,b.return,z)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=d?"":b.memoizedProps}catch(z){Xe(b,b.return,z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,pf(n,a))));break;case 19:un(i,n),dn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,pf(n,c)));break;case 30:break;case 21:break;default:un(i,n),dn(n)}}function dn(n){var i=n.flags;if(i&2){try{for(var a,c=n.return;c!==null;){if(JC(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,g=ff(n);_c(n,g,d);break;case 5:var y=a.stateNode;a.flags&32&&(wo(y,""),a.flags&=-33);var _=ff(n);_c(n,_,y);break;case 3:case 4:var b=a.stateNode.containerInfo,P=ff(n);gf(n,P,b);break;default:throw Error(r(161))}}catch(q){Xe(n,n.return,q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function o_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;o_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function er(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)e_(n,i.alternate,i),i=i.sibling}function qr(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Zi(4,i,i.return),qr(i);break;case 1:Xn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&$C(i,i.return,a),qr(i);break;case 27:ks(i.stateNode);case 26:case 5:Xn(i,i.return),qr(i);break;case 22:i.memoizedState===null&&qr(i);break;case 30:qr(i);break;default:qr(i)}n=n.sibling}}function tr(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=n,g=i,y=g.flags;switch(g.tag){case 0:case 11:case 15:tr(d,g,a),ys(4,g);break;case 1:if(tr(d,g,a),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(P){Xe(c,c.return,P)}if(c=g,d=c.updateQueue,d!==null){var _=c.stateNode;try{var b=d.shared.hiddenCallbacks;if(b!==null)for(d.shared.hiddenCallbacks=null,d=0;d<b.length;d++)Dv(b[d],_)}catch(P){Xe(c,c.return,P)}}a&&y&64&&QC(g),vs(g,g.return);break;case 27:WC(g);case 26:case 5:tr(d,g,a),a&&c===null&&y&4&&XC(g),vs(g,g.return);break;case 12:tr(d,g,a);break;case 13:tr(d,g,a),a&&y&4&&i_(d,g);break;case 22:g.memoizedState===null&&tr(d,g,a),vs(g,g.return);break;case 30:break;default:tr(d,g,a)}i=i.sibling}}function yf(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&is(a))}function vf(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&is(n))}function Jn(n,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)a_(n,i,a,c),i=i.sibling}function a_(n,i,a,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(n,i,a,c),d&2048&&ys(9,i);break;case 1:Jn(n,i,a,c);break;case 3:Jn(n,i,a,c),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&is(n)));break;case 12:if(d&2048){Jn(n,i,a,c),n=i.stateNode;try{var g=i.memoizedProps,y=g.id,_=g.onPostCommit;typeof _=="function"&&_(y,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(b){Xe(i,i.return,b)}}else Jn(n,i,a,c);break;case 13:Jn(n,i,a,c);break;case 23:break;case 22:g=i.stateNode,y=i.alternate,i.memoizedState!==null?g._visibility&2?Jn(n,i,a,c):Cs(n,i):g._visibility&2?Jn(n,i,a,c):(g._visibility|=2,jo(n,i,a,c,(i.subtreeFlags&10256)!==0)),d&2048&&yf(y,i);break;case 24:Jn(n,i,a,c),d&2048&&vf(i.alternate,i);break;default:Jn(n,i,a,c)}}function jo(n,i,a,c,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=n,y=i,_=a,b=c,P=y.flags;switch(y.tag){case 0:case 11:case 15:jo(g,y,_,b,d),ys(8,y);break;case 23:break;case 22:var q=y.stateNode;y.memoizedState!==null?q._visibility&2?jo(g,y,_,b,d):Cs(g,y):(q._visibility|=2,jo(g,y,_,b,d)),d&&P&2048&&yf(y.alternate,y);break;case 24:jo(g,y,_,b,d),d&&P&2048&&vf(y.alternate,y);break;default:jo(g,y,_,b,d)}i=i.sibling}}function Cs(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,c=i,d=c.flags;switch(c.tag){case 22:Cs(a,c),d&2048&&yf(c.alternate,c);break;case 24:Cs(a,c),d&2048&&vf(c.alternate,c);break;default:Cs(a,c)}i=i.sibling}}var _s=8192;function Yo(n){if(n.subtreeFlags&_s)for(n=n.child;n!==null;)s_(n),n=n.sibling}function s_(n){switch(n.tag){case 26:Yo(n),n.flags&_s&&n.memoizedState!==null&&wR(Dn,n.memoizedState,n.memoizedProps);break;case 5:Yo(n);break;case 3:case 4:var i=Dn;Dn=xc(n.stateNode.containerInfo),Yo(n),Dn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=_s,_s=16777216,Yo(n),_s=i):Yo(n));break;default:Yo(n)}}function l_(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Ts(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Ct=c,u_(c,n)}l_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)c_(n),n=n.sibling}function c_(n){switch(n.tag){case 0:case 11:case 15:Ts(n),n.flags&2048&&Zi(9,n,n.return);break;case 3:Ts(n);break;case 12:Ts(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Tc(n)):Ts(n);break;default:Ts(n)}}function Tc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Ct=c,u_(c,n)}l_(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Zi(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}n=n.sibling}}function u_(n,i){for(;Ct!==null;){var a=Ct;switch(a.tag){case 0:case 11:case 15:Zi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:is(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Ct=c;else e:for(a=n;Ct!==null;){c=Ct;var d=c.sibling,g=c.return;if(t_(c),c===a){Ct=null;break e}if(d!==null){d.return=g,Ct=d;break e}Ct=g}}}var Fk={getCacheForType:function(n){var i=Dt(ft),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},Gk=typeof WeakMap=="function"?WeakMap:Map,Ke=0,We=null,Me=null,De=0,Fe=0,hn=null,nr=!1,Vo=!1,Cf=!1,Ai=0,st=0,ir=0,jr=0,_f=0,wn=0,Qo=0,Ss=null,Jt=null,Tf=!1,Sf=0,Sc=1/0,Ec=null,rr=null,kt=0,or=null,$o=null,Xo=0,Ef=0,Af=null,d_=null,Es=0,bf=null;function fn(){if((Ke&2)!==0&&De!==0)return De&-De;if(F.T!==null){var n=Lo;return n!==0?n:Mf()}return ky()}function h_(){wn===0&&(wn=(De&536870912)===0||He?Ey():536870912);var n=bn.current;return n!==null&&(n.flags|=32),wn}function gn(n,i,a){(n===We&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)&&(Jo(n,0),ar(n,De,wn,!1)),Ka(n,a),((Ke&2)===0||n!==We)&&(n===We&&((Ke&2)===0&&(jr|=a),st===4&&ar(n,De,wn,!1)),Wn(n))}function f_(n,i,a){if((Ke&6)!==0)throw Error(r(327));var c=!a&&(i&124)===0&&(i&n.expiredLanes)===0||Ba(n,i),d=c?Yk(n,i):Rf(n,i,!0),g=c;do{if(d===0){Vo&&!c&&ar(n,i,0,!1);break}else{if(a=n.current.alternate,g&&!qk(a)){d=Rf(n,i,!1),g=!1;continue}if(d===2){if(g=i,n.errorRecoveryDisabledLanes&g)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var _=n;d=Ss;var b=_.current.memoizedState.isDehydrated;if(b&&(Jo(_,y).flags|=256),y=Rf(_,y,!1),y!==2){if(Cf&&!b){_.errorRecoveryDisabledLanes|=g,jr|=g,d=4;break e}g=Jt,Jt=d,g!==null&&(Jt===null?Jt=g:Jt.push.apply(Jt,g))}d=y}if(g=!1,d!==2)continue}}if(d===1){Jo(n,0),ar(n,i,0,!0);break}e:{switch(c=n,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ar(c,i,wn,!nr);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=Sf+300-Vn(),10<d)){if(ar(c,i,wn,!nr),Dl(c,0,!0)!==0)break e;c.timeoutHandle=F_(g_.bind(null,c,a,Jt,Ec,Tf,i,wn,jr,Qo,nr,g,2,-0,0),d);break e}g_(c,a,Jt,Ec,Tf,i,wn,jr,Qo,nr,g,0,-0,0)}}break}while(!0);Wn(n)}function g_(n,i,a,c,d,g,y,_,b,P,q,X,U,z){if(n.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Is={stylesheets:null,count:0,unsuspend:bR},s_(i),X=kR(),X!==null)){n.cancelPendingCommit=X(T_.bind(null,n,i,g,a,c,d,y,_,b,q,1,U,z)),ar(n,g,y,!P);return}T_(n,i,g,a,c,d,y,_,b)}function qk(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!ln(g(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ar(n,i,a,c){i&=~_f,i&=~jr,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var d=i;0<d;){var g=31-sn(d),y=1<<g;c[g]=-1,d&=~y}a!==0&&by(n,a,i)}function Ac(){return(Ke&6)===0?(As(0),!1):!0}function wf(){if(Me!==null){if(Fe===0)var n=Me.return;else n=Me,pi=zr=null,Fh(n),Go=null,gs=0,n=Me;for(;n!==null;)VC(n.alternate,n),n=n.return;Me=null}}function Jo(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,lR(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),wf(),We=n,Me=a=fi(n.current,null),De=i,Fe=0,hn=null,nr=!1,Vo=Ba(n,i),Cf=!1,Qo=wn=_f=jr=ir=st=0,Jt=Ss=null,Tf=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var d=31-sn(c),g=1<<d;i|=n[d],c&=~g}return Ai=i,Yl(),a}function m_(n,i){ke=null,F.H=dc,i===os||i===tc?(i=Mv(),Fe=3):i===Ov?(i=Mv(),Fe=4):Fe=i===xC?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,Me===null&&(st=1,pc(n,Tn(i,n.current)))}function p_(){var n=F.H;return F.H=dc,n===null?dc:n}function y_(){var n=F.A;return F.A=Fk,n}function kf(){st=4,nr||(De&4194048)!==De&&bn.current!==null||(Vo=!0),(ir&134217727)===0&&(jr&134217727)===0||We===null||ar(We,De,wn,!1)}function Rf(n,i,a){var c=Ke;Ke|=2;var d=p_(),g=y_();(We!==n||De!==i)&&(Ec=null,Jo(n,i)),i=!1;var y=st;e:do try{if(Fe!==0&&Me!==null){var _=Me,b=hn;switch(Fe){case 8:wf(),y=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var P=Fe;if(Fe=0,hn=null,Wo(n,_,b,P),a&&Vo){y=0;break e}break;default:P=Fe,Fe=0,hn=null,Wo(n,_,b,P)}}jk(),y=st;break}catch(q){m_(n,q)}while(!0);return i&&n.shellSuspendCounter++,pi=zr=null,Ke=c,F.H=d,F.A=g,Me===null&&(We=null,De=0,Yl()),y}function jk(){for(;Me!==null;)v_(Me)}function Yk(n,i){var a=Ke;Ke|=2;var c=p_(),d=y_();We!==n||De!==i?(Ec=null,Sc=Vn()+500,Jo(n,i)):Vo=Ba(n,i);e:do try{if(Fe!==0&&Me!==null){i=Me;var g=hn;t:switch(Fe){case 1:Fe=0,hn=null,Wo(n,i,g,1);break;case 2:case 9:if(Iv(g)){Fe=0,hn=null,C_(i);break}i=function(){Fe!==2&&Fe!==9||We!==n||(Fe=7),Wn(n)},g.then(i,i);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Iv(g)?(Fe=0,hn=null,C_(i)):(Fe=0,hn=null,Wo(n,i,g,7));break;case 5:var y=null;switch(Me.tag){case 26:y=Me.memoizedState;case 5:case 27:var _=Me;if(!y||eT(y)){Fe=0,hn=null;var b=_.sibling;if(b!==null)Me=b;else{var P=_.return;P!==null?(Me=P,bc(P)):Me=null}break t}}Fe=0,hn=null,Wo(n,i,g,5);break;case 6:Fe=0,hn=null,Wo(n,i,g,6);break;case 8:wf(),st=6;break e;default:throw Error(r(462))}}Vk();break}catch(q){m_(n,q)}while(!0);return pi=zr=null,F.H=c,F.A=d,Ke=a,Me!==null?0:(We=null,De=0,Yl(),st)}function Vk(){for(;Me!==null&&!m0();)v_(Me)}function v_(n){var i=jC(n.alternate,n,Ai);n.memoizedProps=n.pendingProps,i===null?bc(n):Me=i}function C_(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=zC(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=zC(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Fh(i);default:VC(a,i),i=Me=_v(i,Ai),i=jC(a,i,Ai)}n.memoizedProps=n.pendingProps,i===null?bc(n):Me=i}function Wo(n,i,a,c){pi=zr=null,Fh(i),Go=null,gs=0;var d=i.return;try{if(Uk(n,d,i,a,De)){st=1,pc(n,Tn(a,n.current)),Me=null;return}}catch(g){if(d!==null)throw Me=d,g;st=1,pc(n,Tn(a,n.current)),Me=null;return}i.flags&32768?(He||c===1?n=!0:Vo||(De&536870912)!==0?n=!1:(nr=n=!0,(c===2||c===9||c===3||c===6)&&(c=bn.current,c!==null&&c.tag===13&&(c.flags|=16384))),__(i,n)):bc(i)}function bc(n){var i=n;do{if((i.flags&32768)!==0){__(i,nr);return}n=i.return;var a=Hk(i.alternate,i,Ai);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=n}while(i!==null);st===0&&(st=5)}function __(n,i){do{var a=zk(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);st=6,Me=null}function T_(n,i,a,c,d,g,y,_,b){n.cancelPendingCommit=null;do wc();while(kt!==0);if((Ke&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(g=i.lanes|i.childLanes,g|=yh,b0(n,a,g,y,_,b),n===We&&(Me=We=null,De=0),$o=i,or=n,Xo=a,Ef=g,Af=d,d_=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Jk(Nl,function(){return w_(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,d=te.p,te.p=2,y=Ke,Ke|=4;try{Bk(n,i,a)}finally{Ke=y,te.p=d,F.T=c}}kt=1,S_(),E_(),A_()}}function S_(){if(kt===1){kt=0;var n=or,i=$o,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var c=te.p;te.p=2;var d=Ke;Ke|=4;try{r_(i,n);var g=Bf,y=uv(n.containerInfo),_=g.focusedElem,b=g.selectionRange;if(y!==_&&_&&_.ownerDocument&&cv(_.ownerDocument.documentElement,_)){if(b!==null&&hh(_)){var P=b.start,q=b.end;if(q===void 0&&(q=P),"selectionStart"in _)_.selectionStart=P,_.selectionEnd=Math.min(q,_.value.length);else{var X=_.ownerDocument||document,U=X&&X.defaultView||window;if(U.getSelection){var z=U.getSelection(),_e=_.textContent.length,ye=Math.min(b.start,_e),Ve=b.end===void 0?ye:Math.min(b.end,_e);!z.extend&&ye>Ve&&(y=Ve,Ve=ye,ye=y);var M=lv(_,ye),O=lv(_,Ve);if(M&&O&&(z.rangeCount!==1||z.anchorNode!==M.node||z.anchorOffset!==M.offset||z.focusNode!==O.node||z.focusOffset!==O.offset)){var x=X.createRange();x.setStart(M.node,M.offset),z.removeAllRanges(),ye>Ve?(z.addRange(x),z.extend(O.node,O.offset)):(x.setEnd(O.node,O.offset),z.addRange(x))}}}}for(X=[],z=_;z=z.parentNode;)z.nodeType===1&&X.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<X.length;_++){var V=X[_];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Hc=!!zf,Bf=zf=null}finally{Ke=d,te.p=c,F.T=a}}n.current=i,kt=2}}function E_(){if(kt===2){kt=0;var n=or,i=$o,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var c=te.p;te.p=2;var d=Ke;Ke|=4;try{e_(n,i.alternate,i)}finally{Ke=d,te.p=c,F.T=a}}kt=3}}function A_(){if(kt===4||kt===3){kt=0,p0();var n=or,i=$o,a=Xo,c=d_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,$o=or=null,b_(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(rr=null),jd(a),i=i.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(za,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=F.T,d=te.p,te.p=2,F.T=null;try{for(var g=n.onRecoverableError,y=0;y<c.length;y++){var _=c[y];g(_.value,{componentStack:_.stack})}}finally{F.T=i,te.p=d}}(Xo&3)!==0&&wc(),Wn(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===bf?Es++:(Es=0,bf=n):Es=0,As(0)}}function b_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,is(i)))}function wc(n){return S_(),E_(),A_(),w_()}function w_(){if(kt!==5)return!1;var n=or,i=Ef;Ef=0;var a=jd(Xo),c=F.T,d=te.p;try{te.p=32>a?32:a,F.T=null,a=Af,Af=null;var g=or,y=Xo;if(kt=0,$o=or=null,Xo=0,(Ke&6)!==0)throw Error(r(331));var _=Ke;if(Ke|=4,c_(g.current),a_(g,g.current,y,a),Ke=_,As(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(za,g)}catch{}return!0}finally{te.p=d,F.T=c,b_(n,i)}}function k_(n,i,a){i=Tn(a,i),i=nf(n.stateNode,i,2),n=$i(n,i,2),n!==null&&(Ka(n,2),Wn(n))}function Xe(n,i,a){if(n.tag===3)k_(n,n,a);else for(;i!==null;){if(i.tag===3){k_(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(rr===null||!rr.has(c))){n=Tn(a,n),a=NC(2),c=$i(i,a,2),c!==null&&(MC(a,c,i,n),Ka(c,2),Wn(c));break}}i=i.return}}function Of(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Gk;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(Cf=!0,d.add(a),n=Qk.bind(null,n,i,a),i.then(n,n))}function Qk(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,We===n&&(De&a)===a&&(st===4||st===3&&(De&62914560)===De&&300>Vn()-Sf?(Ke&2)===0&&Jo(n,0):_f|=a,Qo===De&&(Qo=0)),Wn(n)}function R_(n,i){i===0&&(i=Ay()),n=xo(n,i),n!==null&&(Ka(n,i),Wn(n))}function $k(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),R_(n,a)}function Xk(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),R_(n,a)}function Jk(n,i){return Kd(n,i)}var kc=null,Zo=null,If=!1,Rc=!1,Nf=!1,Yr=0;function Wn(n){n!==Zo&&n.next===null&&(Zo===null?kc=Zo=n:Zo=Zo.next=n),Rc=!0,If||(If=!0,Zk())}function As(n,i){if(!Nf&&Rc){Nf=!0;do for(var a=!1,c=kc;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var y=c.suspendedLanes,_=c.pingedLanes;g=(1<<31-sn(42|n)+1)-1,g&=d&~(y&~_),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,M_(c,g))}else g=De,g=Dl(c,c===We?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ba(c,g)||(a=!0,M_(c,g));c=c.next}while(a);Nf=!1}}function Wk(){O_()}function O_(){Rc=If=!1;var n=0;Yr!==0&&(sR()&&(n=Yr),Yr=0);for(var i=Vn(),a=null,c=kc;c!==null;){var d=c.next,g=I_(c,i);g===0?(c.next=null,a===null?kc=d:a.next=d,d===null&&(Zo=a)):(a=c,(n!==0||(g&3)!==0)&&(Rc=!0)),c=d}As(n)}function I_(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var y=31-sn(g),_=1<<y,b=d[y];b===-1?((_&a)===0||(_&c)!==0)&&(d[y]=A0(_,i)):b<=i&&(n.expiredLanes|=_),g&=~_}if(i=We,a=De,a=Dl(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===i&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Fd(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Ba(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(c!==null&&Fd(c),jd(a)){case 2:case 8:a=Ty;break;case 32:a=Nl;break;case 268435456:a=Sy;break;default:a=Nl}return c=N_.bind(null,n),a=Kd(a,c),n.callbackPriority=i,n.callbackNode=a,i}return c!==null&&c!==null&&Fd(c),n.callbackPriority=2,n.callbackNode=null,2}function N_(n,i){if(kt!==0&&kt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(wc()&&n.callbackNode!==a)return null;var c=De;return c=Dl(n,n===We?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(f_(n,c,i),I_(n,Vn()),n.callbackNode!=null&&n.callbackNode===a?N_.bind(null,n):null)}function M_(n,i){if(wc())return null;f_(n,i,!0)}function Zk(){cR(function(){(Ke&6)!==0?Kd(_y,Wk):O_()})}function Mf(){return Yr===0&&(Yr=Ey()),Yr}function x_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:zl(""+n)}function D_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function eR(n,i,a,c,d){if(i==="submit"&&a&&a.stateNode===d){var g=x_((d[Vt]||null).action),y=c.submitter;y&&(i=(i=y[Vt]||null)?x_(i.formAction):y.getAttribute("formAction"),i!==null&&(g=i,y=null));var _=new Gl("action","action",null,c,d);n.push({event:_,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Yr!==0){var b=y?D_(d,y):new FormData(d);Jh(a,{pending:!0,data:b,method:d.method,action:g},null,b)}}else typeof g=="function"&&(_.preventDefault(),b=y?D_(d,y):new FormData(d),Jh(a,{pending:!0,data:b,method:d.method,action:g},g,b))},currentTarget:d}]})}}for(var xf=0;xf<ph.length;xf++){var Df=ph[xf],tR=Df.toLowerCase(),nR=Df[0].toUpperCase()+Df.slice(1);xn(tR,"on"+nR)}xn(fv,"onAnimationEnd"),xn(gv,"onAnimationIteration"),xn(mv,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Ck,"onTransitionRun"),xn(_k,"onTransitionStart"),xn(Tk,"onTransitionCancel"),xn(pv,"onTransitionEnd"),Eo("onMouseEnter",["mouseout","mouseover"]),Eo("onMouseLeave",["mouseout","mouseover"]),Eo("onPointerEnter",["pointerout","pointerover"]),Eo("onPointerLeave",["pointerout","pointerover"]),Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bs));function P_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var y=c.length-1;0<=y;y--){var _=c[y],b=_.instance,P=_.currentTarget;if(_=_.listener,b!==g&&d.isPropagationStopped())break e;g=_,d.currentTarget=P;try{g(d)}catch(q){mc(q)}d.currentTarget=null,g=b}else for(y=0;y<c.length;y++){if(_=c[y],b=_.instance,P=_.currentTarget,_=_.listener,b!==g&&d.isPropagationStopped())break e;g=_,d.currentTarget=P;try{g(d)}catch(q){mc(q)}d.currentTarget=null,g=b}}}}function xe(n,i){var a=i[Yd];a===void 0&&(a=i[Yd]=new Set);var c=n+"__bubble";a.has(c)||(U_(i,n,2,!1),a.add(c))}function Pf(n,i,a){var c=0;i&&(c|=4),U_(a,n,c,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Uf(n){if(!n[Oc]){n[Oc]=!0,Oy.forEach(function(a){a!=="selectionchange"&&(iR.has(a)||Pf(a,!1,n),Pf(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,Pf("selectionchange",!1,i))}}function U_(n,i,a,c){switch(aT(i)){case 2:var d=IR;break;case 8:d=NR;break;default:d=Xf}a=d.bind(null,i,a,n),d=void 0,!ih||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function Lf(n,i,a,c,d){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var _=c.stateNode.containerInfo;if(_===d)break;if(y===4)for(y=c.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;_!==null;){if(y=_o(_),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){c=g=y;continue e}_=_.parentNode}}c=c.return}Gy(function(){var P=g,q=th(a),X=[];e:{var U=yv.get(n);if(U!==void 0){var z=Gl,_e=n;switch(n){case"keypress":if(Kl(a)===0)break e;case"keydown":case"keyup":z=J0;break;case"focusin":_e="focus",z=sh;break;case"focusout":_e="blur",z=sh;break;case"beforeblur":case"afterblur":z=sh;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=z0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=ek;break;case fv:case gv:case mv:z=F0;break;case pv:z=nk;break;case"scroll":case"scrollend":z=L0;break;case"wheel":z=rk;break;case"copy":case"cut":case"paste":z=q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Qy;break;case"toggle":case"beforetoggle":z=ak}var ye=(i&4)!==0,Ve=!ye&&(n==="scroll"||n==="scrollend"),M=ye?U!==null?U+"Capture":null:U;ye=[];for(var O=P,x;O!==null;){var V=O;if(x=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||x===null||M===null||(V=qa(O,M),V!=null&&ye.push(ws(O,V,x))),Ve)break;O=O.return}0<ye.length&&(U=new z(U,_e,null,a,q),X.push({event:U,listeners:ye}))}}if((i&7)===0){e:{if(U=n==="mouseover"||n==="pointerover",z=n==="mouseout"||n==="pointerout",U&&a!==eh&&(_e=a.relatedTarget||a.fromElement)&&(_o(_e)||_e[Co]))break e;if((z||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,z?(_e=a.relatedTarget||a.toElement,z=P,_e=_e?_o(_e):null,_e!==null&&(Ve=l(_e),ye=_e.tag,_e!==Ve||ye!==5&&ye!==27&&ye!==6)&&(_e=null)):(z=null,_e=P),z!==_e)){if(ye=Yy,V="onMouseLeave",M="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(ye=Qy,V="onPointerLeave",M="onPointerEnter",O="pointer"),Ve=z==null?U:Ga(z),x=_e==null?U:Ga(_e),U=new ye(V,O+"leave",z,a,q),U.target=Ve,U.relatedTarget=x,V=null,_o(q)===P&&(ye=new ye(M,O+"enter",_e,a,q),ye.target=x,ye.relatedTarget=Ve,V=ye),Ve=V,z&&_e)t:{for(ye=z,M=_e,O=0,x=ye;x;x=ea(x))O++;for(x=0,V=M;V;V=ea(V))x++;for(;0<O-x;)ye=ea(ye),O--;for(;0<x-O;)M=ea(M),x--;for(;O--;){if(ye===M||M!==null&&ye===M.alternate)break t;ye=ea(ye),M=ea(M)}ye=null}else ye=null;z!==null&&L_(X,U,z,ye,!1),_e!==null&&Ve!==null&&L_(X,Ve,_e,ye,!0)}}e:{if(U=P?Ga(P):window,z=U.nodeName&&U.nodeName.toLowerCase(),z==="select"||z==="input"&&U.type==="file")var ce=nv;else if(ev(U))if(iv)ce=pk;else{ce=gk;var Re=fk}else z=U.nodeName,!z||z.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?P&&Zd(P.elementType)&&(ce=nv):ce=mk;if(ce&&(ce=ce(n,P))){tv(X,ce,a,q);break e}Re&&Re(n,U,P),n==="focusout"&&P&&U.type==="number"&&P.memoizedProps.value!=null&&Wd(U,"number",U.value)}switch(Re=P?Ga(P):window,n){case"focusin":(ev(Re)||Re.contentEditable==="true")&&(Io=Re,fh=P,Wa=null);break;case"focusout":Wa=fh=Io=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,dv(X,a,q);break;case"selectionchange":if(vk)break;case"keydown":case"keyup":dv(X,a,q)}var he;if(ch)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Oo?Wy(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&($y&&a.locale!=="ko"&&(Oo||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Oo&&(he=qy()):(ji=q,rh="value"in ji?ji.value:ji.textContent,Oo=!0)),Re=Ic(P,ve),0<Re.length&&(ve=new Vy(ve,n,null,a,q),X.push({event:ve,listeners:Re}),he?ve.data=he:(he=Zy(a),he!==null&&(ve.data=he)))),(he=lk?ck(n,a):uk(n,a))&&(ve=Ic(P,"onBeforeInput"),0<ve.length&&(Re=new Vy("onBeforeInput","beforeinput",null,a,q),X.push({event:Re,listeners:ve}),Re.data=he)),eR(X,n,P,a,q)}P_(X,i)})}function ws(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Ic(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=qa(n,a),d!=null&&c.unshift(ws(n,d,g)),d=qa(n,i),d!=null&&c.push(ws(n,d,g))),n.tag===3)return c;n=n.return}return[]}function ea(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function L_(n,i,a,c,d){for(var g=i._reactName,y=[];a!==null&&a!==c;){var _=a,b=_.alternate,P=_.stateNode;if(_=_.tag,b!==null&&b===c)break;_!==5&&_!==26&&_!==27||P===null||(b=P,d?(P=qa(a,g),P!=null&&y.unshift(ws(a,P,b))):d||(P=qa(a,g),P!=null&&y.push(ws(a,P,b)))),a=a.return}y.length!==0&&n.push({event:i,listeners:y})}var rR=/\r\n?/g,oR=/\u0000|\uFFFD/g;function H_(n){return(typeof n=="string"?n:""+n).replace(rR,`
`).replace(oR,"")}function z_(n,i){return i=H_(i),H_(n)===i}function Nc(){}function Ye(n,i,a,c,d,g){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||wo(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&wo(n,""+c);break;case"className":Ul(n,"class",c);break;case"tabIndex":Ul(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ul(n,a,c);break;case"style":Ky(n,c,g);break;case"data":if(i!=="object"){Ul(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=zl(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Ye(n,i,"name",d.name,d,null),Ye(n,i,"formEncType",d.formEncType,d,null),Ye(n,i,"formMethod",d.formMethod,d,null),Ye(n,i,"formTarget",d.formTarget,d,null)):(Ye(n,i,"encType",d.encType,d,null),Ye(n,i,"method",d.method,d,null),Ye(n,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=zl(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=Nc);break;case"onScroll":c!=null&&xe("scroll",n);break;case"onScrollEnd":c!=null&&xe("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=zl(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":xe("beforetoggle",n),xe("toggle",n),Pl(n,"popover",c);break;case"xlinkActuate":di(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":di(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":di(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":di(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":di(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":di(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":di(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":di(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":di(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Pl(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=P0.get(a)||a,Pl(n,a,c))}}function Hf(n,i,a,c,d,g){switch(a){case"style":Ky(n,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=a}}break;case"children":typeof c=="string"?wo(n,c):(typeof c=="number"||typeof c=="bigint")&&wo(n,""+c);break;case"onScroll":c!=null&&xe("scroll",n);break;case"onScrollEnd":c!=null&&xe("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Iy.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),g=n[Vt]||null,g=g!=null?g[a]:null,typeof g=="function"&&n.removeEventListener(i,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,c,d);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):Pl(n,a,c)}}}function Rt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",n),xe("load",n);var c=!1,d=!1,g;for(g in a)if(a.hasOwnProperty(g)){var y=a[g];if(y!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ye(n,i,g,y,a,null)}}d&&Ye(n,i,"srcSet",a.srcSet,a,null),c&&Ye(n,i,"src",a.src,a,null);return;case"input":xe("invalid",n);var _=g=y=d=null,b=null,P=null;for(c in a)if(a.hasOwnProperty(c)){var q=a[c];if(q!=null)switch(c){case"name":d=q;break;case"type":y=q;break;case"checked":b=q;break;case"defaultChecked":P=q;break;case"value":g=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:Ye(n,i,c,q,a,null)}}Ly(n,g,_,b,P,y,d,!1),Ll(n);return;case"select":xe("invalid",n),c=y=g=null;for(d in a)if(a.hasOwnProperty(d)&&(_=a[d],_!=null))switch(d){case"value":g=_;break;case"defaultValue":y=_;break;case"multiple":c=_;default:Ye(n,i,d,_,a,null)}i=g,a=y,n.multiple=!!c,i!=null?bo(n,!!c,i,!1):a!=null&&bo(n,!!c,a,!0);return;case"textarea":xe("invalid",n),g=d=c=null;for(y in a)if(a.hasOwnProperty(y)&&(_=a[y],_!=null))switch(y){case"value":c=_;break;case"defaultValue":d=_;break;case"children":g=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Ye(n,i,y,_,a,null)}zy(n,c,d,g),Ll(n);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(c=a[b],c!=null))switch(b){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ye(n,i,b,c,a,null)}return;case"dialog":xe("beforetoggle",n),xe("toggle",n),xe("cancel",n),xe("close",n);break;case"iframe":case"object":xe("load",n);break;case"video":case"audio":for(c=0;c<bs.length;c++)xe(bs[c],n);break;case"image":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"embed":case"source":case"link":xe("error",n),xe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(c=a[P],c!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ye(n,i,P,c,a,null)}return;default:if(Zd(i)){for(q in a)a.hasOwnProperty(q)&&(c=a[q],c!==void 0&&Hf(n,i,q,c,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(c=a[_],c!=null&&Ye(n,i,_,c,a,null))}function aR(n,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,y=null,_=null,b=null,P=null,q=null;for(z in a){var X=a[z];if(a.hasOwnProperty(z)&&X!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":b=X;default:c.hasOwnProperty(z)||Ye(n,i,z,null,c,X)}}for(var U in c){var z=c[U];if(X=a[U],c.hasOwnProperty(U)&&(z!=null||X!=null))switch(U){case"type":g=z;break;case"name":d=z;break;case"checked":P=z;break;case"defaultChecked":q=z;break;case"value":y=z;break;case"defaultValue":_=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:z!==X&&Ye(n,i,U,z,c,X)}}Jd(n,y,_,b,P,q,g,d);return;case"select":z=y=_=U=null;for(g in a)if(b=a[g],a.hasOwnProperty(g)&&b!=null)switch(g){case"value":break;case"multiple":z=b;default:c.hasOwnProperty(g)||Ye(n,i,g,null,c,b)}for(d in c)if(g=c[d],b=a[d],c.hasOwnProperty(d)&&(g!=null||b!=null))switch(d){case"value":U=g;break;case"defaultValue":_=g;break;case"multiple":y=g;default:g!==b&&Ye(n,i,d,g,c,b)}i=_,a=y,c=z,U!=null?bo(n,!!a,U,!1):!!c!=!!a&&(i!=null?bo(n,!!a,i,!0):bo(n,!!a,a?[]:"",!1));return;case"textarea":z=U=null;for(_ in a)if(d=a[_],a.hasOwnProperty(_)&&d!=null&&!c.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ye(n,i,_,null,c,d)}for(y in c)if(d=c[y],g=a[y],c.hasOwnProperty(y)&&(d!=null||g!=null))switch(y){case"value":U=d;break;case"defaultValue":z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Ye(n,i,y,d,c,g)}Hy(n,U,z);return;case"option":for(var _e in a)if(U=a[_e],a.hasOwnProperty(_e)&&U!=null&&!c.hasOwnProperty(_e))switch(_e){case"selected":n.selected=!1;break;default:Ye(n,i,_e,null,c,U)}for(b in c)if(U=c[b],z=a[b],c.hasOwnProperty(b)&&U!==z&&(U!=null||z!=null))switch(b){case"selected":n.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ye(n,i,b,U,c,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)U=a[ye],a.hasOwnProperty(ye)&&U!=null&&!c.hasOwnProperty(ye)&&Ye(n,i,ye,null,c,U);for(P in c)if(U=c[P],z=a[P],c.hasOwnProperty(P)&&U!==z&&(U!=null||z!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,i));break;default:Ye(n,i,P,U,c,z)}return;default:if(Zd(i)){for(var Ve in a)U=a[Ve],a.hasOwnProperty(Ve)&&U!==void 0&&!c.hasOwnProperty(Ve)&&Hf(n,i,Ve,void 0,c,U);for(q in c)U=c[q],z=a[q],!c.hasOwnProperty(q)||U===z||U===void 0&&z===void 0||Hf(n,i,q,U,c,z);return}}for(var M in a)U=a[M],a.hasOwnProperty(M)&&U!=null&&!c.hasOwnProperty(M)&&Ye(n,i,M,null,c,U);for(X in c)U=c[X],z=a[X],!c.hasOwnProperty(X)||U===z||U==null&&z==null||Ye(n,i,X,U,c,z)}var zf=null,Bf=null;function Mc(n){return n.nodeType===9?n:n.ownerDocument}function B_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Kf(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=null;function sR(){var n=window.event;return n&&n.type==="popstate"?n===Ff?!1:(Ff=n,!0):(Ff=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,lR=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,cR=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(n){return G_.resolve(null).then(n).catch(uR)}:F_;function uR(n){setTimeout(function(){throw n})}function sr(n){return n==="head"}function q_(n,i){var a=i,c=0,d=0;do{var g=a.nextSibling;if(n.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<c&&8>c){a=c;var y=n.ownerDocument;if(a&1&&ks(y.documentElement),a&2&&ks(y.body),a&4)for(a=y.head,ks(a),y=a.firstChild;y;){var _=y.nextSibling,b=y.nodeName;y[Fa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=_}}if(d===0){n.removeChild(g),Ps(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:c=a.charCodeAt(0)-48;else c=0;a=g}while(a);Ps(i)}function Gf(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gf(a),Vd(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function dR(n,i,a,c){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Fa])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Pn(n.nextSibling),n===null)break}return null}function hR(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Pn(n.nextSibling),n===null))return null;return n}function qf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function fR(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Pn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var jf=null;function j_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function Y_(n,i,a){switch(i=Mc(a),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function ks(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Vd(n)}var kn=new Map,V_=new Set;function xc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var bi=te.d;te.d={f:gR,r:mR,D:pR,C:yR,L:vR,m:CR,X:TR,S:_R,M:SR};function gR(){var n=bi.f(),i=Ac();return n||i}function mR(n){var i=To(n);i!==null&&i.tag===5&&i.type==="form"?fC(i):bi.r(n)}var ta=typeof document>"u"?null:document;function Q_(n,i,a){var c=ta;if(c&&typeof i=="string"&&i){var d=_n(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),V_.has(d)||(V_.add(d),n={rel:n,crossOrigin:a,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),Rt(i,"link",n),yt(i),c.head.appendChild(i)))}}function pR(n){bi.D(n),Q_("dns-prefetch",n,null)}function yR(n,i){bi.C(n,i),Q_("preconnect",n,i)}function vR(n,i,a){bi.L(n,i,a);var c=ta;if(c&&n&&i){var d='link[rel="preload"][as="'+_n(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+_n(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+_n(a.imageSizes)+'"]')):d+='[href="'+_n(n)+'"]';var g=d;switch(i){case"style":g=na(n);break;case"script":g=ia(n)}kn.has(g)||(n=p({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),kn.set(g,n),c.querySelector(d)!==null||i==="style"&&c.querySelector(Rs(g))||i==="script"&&c.querySelector(Os(g))||(i=c.createElement("link"),Rt(i,"link",n),yt(i),c.head.appendChild(i)))}}function CR(n,i){bi.m(n,i);var a=ta;if(a&&n){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+_n(c)+'"][href="'+_n(n)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ia(n)}if(!kn.has(g)&&(n=p({rel:"modulepreload",href:n},i),kn.set(g,n),a.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Os(g)))return}c=a.createElement("link"),Rt(c,"link",n),yt(c),a.head.appendChild(c)}}}function _R(n,i,a){bi.S(n,i,a);var c=ta;if(c&&n){var d=So(c).hoistableStyles,g=na(n);i=i||"default";var y=d.get(g);if(!y){var _={loading:0,preload:null};if(y=c.querySelector(Rs(g)))_.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":i},a),(a=kn.get(g))&&Yf(n,a);var b=y=c.createElement("link");yt(b),Rt(b,"link",n),b._p=new Promise(function(P,q){b.onload=P,b.onerror=q}),b.addEventListener("load",function(){_.loading|=1}),b.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Dc(y,i,c)}y={type:"stylesheet",instance:y,count:1,state:_},d.set(g,y)}}}function TR(n,i){bi.X(n,i);var a=ta;if(a&&n){var c=So(a).hoistableScripts,d=ia(n),g=c.get(d);g||(g=a.querySelector(Os(d)),g||(n=p({src:n,async:!0},i),(i=kn.get(d))&&Vf(n,i),g=a.createElement("script"),yt(g),Rt(g,"link",n),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function SR(n,i){bi.M(n,i);var a=ta;if(a&&n){var c=So(a).hoistableScripts,d=ia(n),g=c.get(d);g||(g=a.querySelector(Os(d)),g||(n=p({src:n,async:!0,type:"module"},i),(i=kn.get(d))&&Vf(n,i),g=a.createElement("script"),yt(g),Rt(g,"link",n),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function $_(n,i,a,c){var d=(d=me.current)?xc(d):null;if(!d)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=na(a.href),a=So(d).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=na(a.href);var g=So(d).hoistableStyles,y=g.get(n);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,y),(g=d.querySelector(Rs(n)))&&!g._p&&(y.instance=g,y.state.loading=5),kn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(n,a),g||ER(d,n,a,y.state))),i&&c===null)throw Error(r(528,""));return y}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ia(a),a=So(d).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function na(n){return'href="'+_n(n)+'"'}function Rs(n){return'link[rel="stylesheet"]['+n+"]"}function X_(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function ER(n,i,a,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Rt(i,"link",a),yt(i),n.head.appendChild(i))}function ia(n){return'[src="'+_n(n)+'"]'}function Os(n){return"script[async]"+n}function J_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+_n(a.href)+'"]');if(c)return i.instance=c,yt(c),c;var d=p({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),yt(c),Rt(c,"style",d),Dc(c,a.precedence,n),i.instance=c;case"stylesheet":d=na(a.href);var g=n.querySelector(Rs(d));if(g)return i.state.loading|=4,i.instance=g,yt(g),g;c=X_(a),(d=kn.get(d))&&Yf(c,d),g=(n.ownerDocument||n).createElement("link"),yt(g);var y=g;return y._p=new Promise(function(_,b){y.onload=_,y.onerror=b}),Rt(g,"link",c),i.state.loading|=4,Dc(g,a.precedence,n),i.instance=g;case"script":return g=ia(a.src),(d=n.querySelector(Os(g)))?(i.instance=d,yt(d),d):(c=a,(d=kn.get(g))&&(c=p({},a),Vf(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),yt(d),Rt(d,"link",c),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Dc(c,a.precedence,n));return i.instance}function Dc(n,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,y=0;y<c.length;y++){var _=c[y];if(_.dataset.precedence===i)g=_;else if(g!==d)break}g?g.parentNode.insertBefore(n,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Yf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Vf(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Pc=null;function W_(n,i,a){if(Pc===null){var c=new Map,d=Pc=new Map;d.set(a,c)}else d=Pc,c=d.get(a),c||(c=new Map,d.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var g=a[d];if(!(g[Fa]||g[xt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var y=g.getAttribute(i)||"";y=n+y;var _=c.get(y);_?_.push(g):c.set(y,[g])}}return c}function Z_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function AR(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function eT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Is=null;function bR(){}function wR(n,i,a){if(Is===null)throw Error(r(475));var c=Is;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=na(a.href),g=n.querySelector(Rs(d));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Uc.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=g,yt(g);return}g=n.ownerDocument||n,a=X_(a),(d=kn.get(d))&&Yf(a,d),g=g.createElement("link"),yt(g);var y=g;y._p=new Promise(function(_,b){y.onload=_,y.onerror=b}),Rt(g,"link",a),i.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Uc.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function kR(){if(Is===null)throw Error(r(475));var n=Is;return n.stylesheets&&n.count===0&&Qf(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&Qf(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Uc(){if(this.count--,this.count===0){if(this.stylesheets)Qf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Lc=null;function Qf(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Lc=new Map,i.forEach(RR,n),Lc=null,Uc.call(n))}function RR(n,i){if(!(i.state.loading&4)){var a=Lc.get(n);if(a)var c=a.get(null);else{a=new Map,Lc.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var y=d[g];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),c=y)}c&&a.set(null,c)}d=i.instance,y=d.getAttribute("data-precedence"),g=a.get(y)||c,g===c&&a.set(null,d),a.set(y,d),this.count++,c=Uc.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var Ns={$$typeof:I,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function OR(n,i,a,c,d,g,y,_){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.hiddenUpdates=Gd(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function tT(n,i,a,c,d,g,y,_,b,P,q,X){return n=new OR(n,i,a,y,_,b,P,X),i=1,g===!0&&(i|=24),g=cn(3,null,null,i),n.current=g,g.stateNode=n,i=Rh(),i.refCount++,n.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:a,cache:i},Mh(g),n}function nT(n){return n?(n=Do,n):Do}function iT(n,i,a,c,d,g){d=nT(d),c.context===null?c.context=d:c.pendingContext=d,c=Qi(i),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=$i(n,c,i),a!==null&&(gn(a,n,i),ss(a,n,i))}function rT(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function $f(n,i){rT(n,i),(n=n.alternate)&&rT(n,i)}function oT(n){if(n.tag===13){var i=xo(n,67108864);i!==null&&gn(i,n,67108864),$f(n,67108864)}}var Hc=!0;function IR(n,i,a,c){var d=F.T;F.T=null;var g=te.p;try{te.p=2,Xf(n,i,a,c)}finally{te.p=g,F.T=d}}function NR(n,i,a,c){var d=F.T;F.T=null;var g=te.p;try{te.p=8,Xf(n,i,a,c)}finally{te.p=g,F.T=d}}function Xf(n,i,a,c){if(Hc){var d=Jf(c);if(d===null)Lf(n,i,c,zc,a),sT(n,c);else if(xR(d,n,i,a,c))c.stopPropagation();else if(sT(n,c),i&4&&-1<MR.indexOf(n)){for(;d!==null;){var g=To(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var y=Or(g.pendingLanes);if(y!==0){var _=g;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var b=1<<31-sn(y);_.entanglements[1]|=b,y&=~b}Wn(g),(Ke&6)===0&&(Sc=Vn()+500,As(0))}}break;case 13:_=xo(g,2),_!==null&&gn(_,g,2),Ac(),$f(g,2)}if(g=Jf(c),g===null&&Lf(n,i,c,zc,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else Lf(n,i,c,null,a)}}function Jf(n){return n=th(n),Wf(n)}var zc=null;function Wf(n){if(zc=null,n=_o(n),n!==null){var i=l(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return zc=n,null}function aT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(y0()){case _y:return 2;case Ty:return 8;case Nl:case v0:return 32;case Sy:return 268435456;default:return 32}default:return 32}}var Zf=!1,lr=null,cr=null,ur=null,Ms=new Map,xs=new Map,dr=[],MR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sT(n,i){switch(n){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":cr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Ms.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(i.pointerId)}}function Ds(n,i,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=To(i),i!==null&&oT(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function xR(n,i,a,c,d){switch(i){case"focusin":return lr=Ds(lr,n,i,a,c,d),!0;case"dragenter":return cr=Ds(cr,n,i,a,c,d),!0;case"mouseover":return ur=Ds(ur,n,i,a,c,d),!0;case"pointerover":var g=d.pointerId;return Ms.set(g,Ds(Ms.get(g)||null,n,i,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,xs.set(g,Ds(xs.get(g)||null,n,i,a,c,d)),!0}return!1}function lT(n){var i=_o(n.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,w0(n.priority,function(){if(a.tag===13){var c=fn();c=qd(c);var d=xo(a,c);d!==null&&gn(d,a,c),$f(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Bc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Jf(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);eh=c,a.target.dispatchEvent(c),eh=null}else return i=To(a),i!==null&&oT(i),n.blockedOn=a,!1;i.shift()}return!0}function cT(n,i,a){Bc(n)&&a.delete(i)}function DR(){Zf=!1,lr!==null&&Bc(lr)&&(lr=null),cr!==null&&Bc(cr)&&(cr=null),ur!==null&&Bc(ur)&&(ur=null),Ms.forEach(cT),xs.forEach(cT)}function Kc(n,i){n.blockedOn===i&&(n.blockedOn=null,Zf||(Zf=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,DR)))}var Fc=null;function uT(n){Fc!==n&&(Fc=n,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Fc===n&&(Fc=null);for(var i=0;i<n.length;i+=3){var a=n[i],c=n[i+1],d=n[i+2];if(typeof c!="function"){if(Wf(c||a)===null)continue;break}var g=To(a);g!==null&&(n.splice(i,3),i-=3,Jh(g,{pending:!0,data:d,method:a.method,action:c},c,d))}}))}function Ps(n){function i(b){return Kc(b,n)}lr!==null&&Kc(lr,n),cr!==null&&Kc(cr,n),ur!==null&&Kc(ur,n),Ms.forEach(i),xs.forEach(i);for(var a=0;a<dr.length;a++){var c=dr[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<dr.length&&(a=dr[0],a.blockedOn===null);)lT(a),a.blockedOn===null&&dr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var d=a[c],g=a[c+1],y=d[Vt]||null;if(typeof g=="function")y||uT(a);else if(y){var _=null;if(g&&g.hasAttribute("formAction")){if(d=g,y=g[Vt]||null)_=y.formAction;else if(Wf(d)!==null)continue}else _=y.action;typeof _=="function"?a[c+1]=_:(a.splice(c,3),c-=3),uT(a)}}}function eg(n){this._internalRoot=n}Gc.prototype.render=eg.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,c=fn();iT(a,c,n,i,null,null)},Gc.prototype.unmount=eg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;iT(n.current,2,null,n,null,null),Ac(),i[Co]=null}};function Gc(n){this._internalRoot=n}Gc.prototype.unstable_scheduleHydration=function(n){if(n){var i=ky();n={blockedOn:null,target:n,priority:i};for(var a=0;a<dr.length&&i!==0&&i<dr[a].priority;a++);dr.splice(a,0,n),a===0&&lT(n)}};var dT=e.version;if(dT!=="19.1.1")throw Error(r(527,dT,"19.1.1"));te.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=f(i),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var PR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{za=qc.inject(PR),an=qc}catch{}}return Ls.createRoot=function(n,i){if(!s(n))throw Error(r(299));var a=!1,c="",d=kC,g=RC,y=OC,_=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(_=i.unstable_transitionCallbacks)),i=tT(n,1,!1,null,null,a,c,d,g,y,_,null),n[Co]=i.current,Uf(n),new eg(i)},Ls.hydrateRoot=function(n,i,a){if(!s(n))throw Error(r(299));var c=!1,d="",g=kC,y=RC,_=OC,b=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=tT(n,1,!0,i,a??null,c,d,g,y,_,b,P),i.context=nT(null),a=i.current,c=fn(),c=qd(c),d=Qi(c),d.callback=null,$i(a,d,c),a=c,i.current.lanes=a,Ka(i,a),Wn(i),n[Co]=i.current,Uf(n),new Gc(i)},Ls.version="19.1.1",Ls}var TT;function jR(){if(TT)return ig.exports;TT=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),ig.exports=qR(),ig.exports}var YR=jR();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ST="popstate";function VR(o={}){function e(r,s){let{pathname:l,search:u,hash:h}=r.location;return Og("",{pathname:l,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:nl(s)}return $R(e,t,null,o)}function nt(o,e){if(o===!1||o===null||typeof o>"u")throw new Error(e)}function Kn(o,e){if(!o){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QR(){return Math.random().toString(36).substring(2,10)}function ET(o,e){return{usr:o.state,key:o.key,idx:e}}function Og(o,e,t=null,r){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof e=="string"?wa(e):e,state:t,key:e&&e.key||r||QR()}}function nl({pathname:o="/",search:e="",hash:t=""}){return e&&e!=="?"&&(o+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(o+=t.charAt(0)==="#"?t:"#"+t),o}function wa(o){let e={};if(o){let t=o.indexOf("#");t>=0&&(e.hash=o.substring(t),o=o.substring(0,t));let r=o.indexOf("?");r>=0&&(e.search=o.substring(r),o=o.substring(0,r)),o&&(e.pathname=o)}return e}function $R(o,e,t,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,u=s.history,h="POP",f=null,m=p();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function p(){return(u.state||{idx:null}).idx}function v(){h="POP";let A=p(),w=A==null?null:A-m;m=A,f&&f({action:h,location:E.location,delta:w})}function C(A,w){h="PUSH";let k=Og(E.location,A,w);m=p()+1;let I=ET(k,m),B=E.createHref(k);try{u.pushState(I,"",B)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(B)}l&&f&&f({action:h,location:E.location,delta:1})}function S(A,w){h="REPLACE";let k=Og(E.location,A,w);m=p();let I=ET(k,m),B=E.createHref(k);u.replaceState(I,"",B),l&&f&&f({action:h,location:E.location,delta:0})}function T(A){return XR(A)}let E={get action(){return h},get location(){return o(s,u)},listen(A){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(ST,v),f=A,()=>{s.removeEventListener(ST,v),f=null}},createHref(A){return e(s,A)},createURL:T,encodeLocation(A){let w=T(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:C,replace:S,go(A){return u.go(A)}};return E}function XR(o,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),nt(t,"No window.location.(origin|href) available to create URL");let r=typeof o=="string"?o:nl(o);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function yE(o,e,t="/"){return JR(o,e,t,!1)}function JR(o,e,t,r){let s=typeof e=="string"?wa(e):e,l=Ui(s.pathname||"/",t);if(l==null)return null;let u=vE(o);WR(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=c1(l);h=s1(u[f],m,r)}return h}function vE(o,e=[],t=[],r=""){let s=(l,u,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(nt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Pi([r,f.relativePath]),p=t.concat(f);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),vE(l.children,e,p,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:o1(m,l.index),routesMeta:p})};return o.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))s(l,u);else for(let h of CE(l.path))s(l,u,h)}),e}function CE(o){let e=o.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let u=CE(r.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),s&&h.push(...u),h.map(f=>o.startsWith("/")&&f===""?"/":f)}function WR(o){o.sort((e,t)=>e.score!==t.score?t.score-e.score:a1(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var ZR=/^:[\w-]+$/,e1=3,t1=2,n1=1,i1=10,r1=-2,AT=o=>o==="*";function o1(o,e){let t=o.split("/"),r=t.length;return t.some(AT)&&(r+=r1),e&&(r+=t1),t.filter(s=>!AT(s)).reduce((s,l)=>s+(ZR.test(l)?e1:l===""?n1:i1),r)}function a1(o,e){return o.length===e.length&&o.slice(0,-1).every((r,s)=>r===e[s])?o[o.length-1]-e[e.length-1]:0}function s1(o,e,t=!1){let{routesMeta:r}=o,s={},l="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,p=l==="/"?e:e.slice(l.length)||"/",v=_u({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},p),C=f.route;if(!v&&m&&t&&!r[r.length-1].route.index&&(v=_u({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:Pi([l,v.pathname]),pathnameBase:f1(Pi([l,v.pathnameBase])),route:C}),v.pathnameBase!=="/"&&(l=Pi([l,v.pathnameBase]))}return u}function _u(o,e){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[t,r]=l1(o.path,o.caseSensitive,o.end),s=e.match(t);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((m,{paramName:p,isOptional:v},C)=>{if(p==="*"){let T=h[C]||"";u=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const S=h[C];return v&&!S?m[p]=void 0:m[p]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:o}}function l1(o,e=!1,t=!0){Kn(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let r=[],s="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(r.push({paramName:"*"}),s+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":o!==""&&o!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function c1(o){try{return o.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),o}}function Ui(o,e){if(e==="/")return o;if(!o.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=o.charAt(t);return r&&r!=="/"?null:o.slice(t)||"/"}function u1(o,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof o=="string"?wa(o):o;return{pathname:t?t.startsWith("/")?t:d1(t,e):e,search:g1(r),hash:m1(s)}}function d1(o,e){let t=e.replace(/\/+$/,"").split("/");return o.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function sg(o,e,t,r){return`Cannot include a '${o}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h1(o){return o.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Em(o){let e=h1(o);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Am(o,e,t,r=!1){let s;typeof o=="string"?s=wa(o):(s={...o},nt(!s.pathname||!s.pathname.includes("?"),sg("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),sg("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),sg("#","search","hash",s)));let l=o===""||s.pathname==="",u=l?"/":s.pathname,h;if(u==null)h=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),v-=1;s.pathname=C.join("/")}h=v>=0?e[v]:"/"}let f=u1(s,h),m=u&&u!=="/"&&u.endsWith("/"),p=(l||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||p)&&(f.pathname+="/"),f}var Pi=o=>o.join("/").replace(/\/\/+/g,"/"),f1=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),g1=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,m1=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function p1(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var _E=["POST","PUT","PATCH","DELETE"];new Set(_E);var y1=["GET",..._E];new Set(y1);var ka=D.createContext(null);ka.displayName="DataRouter";var ad=D.createContext(null);ad.displayName="DataRouterState";D.createContext(!1);var TE=D.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var v1=D.createContext(new Map);v1.displayName="Fetchers";var C1=D.createContext(null);C1.displayName="Await";var jn=D.createContext(null);jn.displayName="Navigation";var pl=D.createContext(null);pl.displayName="Location";var ui=D.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var bm=D.createContext(null);bm.displayName="RouteError";function _1(o,{relative:e}={}){nt(Ra(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=D.useContext(jn),{hash:s,pathname:l,search:u}=yl(o,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Pi([t,l])),r.createHref({pathname:h,search:u,hash:s})}function Ra(){return D.useContext(pl)!=null}function kr(){return nt(Ra(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(pl).location}var SE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EE(o){D.useContext(jn).static||D.useLayoutEffect(o)}function sd(){let{isDataRoute:o}=D.useContext(ui);return o?x1():T1()}function T1(){nt(Ra(),"useNavigate() may be used only in the context of a <Router> component.");let o=D.useContext(ka),{basename:e,navigator:t}=D.useContext(jn),{matches:r}=D.useContext(ui),{pathname:s}=kr(),l=JSON.stringify(Em(r)),u=D.useRef(!1);return EE(()=>{u.current=!0}),D.useCallback((f,m={})=>{if(Kn(u.current,SE),!u.current)return;if(typeof f=="number"){t.go(f);return}let p=Am(f,JSON.parse(l),s,m.relative==="path");o==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Pi([e,p.pathname])),(m.replace?t.replace:t.push)(p,m.state,m)},[e,t,l,s,o])}D.createContext(null);function yl(o,{relative:e}={}){let{matches:t}=D.useContext(ui),{pathname:r}=kr(),s=JSON.stringify(Em(t));return D.useMemo(()=>Am(o,JSON.parse(s),r,e==="path"),[o,s,r,e])}function S1(o,e){return AE(o,e)}function AE(o,e,t,r){nt(Ra(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=D.useContext(jn),{matches:l}=D.useContext(ui),u=l[l.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",p=u&&u.route;{let w=p&&p.path||"";bE(f,!p||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let v=kr(),C;if(e){let w=typeof e=="string"?wa(e):e;nt(m==="/"||w.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${w.pathname}" was given in the \`location\` prop.`),C=w}else C=v;let S=C.pathname||"/",T=S;if(m!=="/"){let w=m.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=yE(o,{pathname:T});Kn(p||E!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Kn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=k1(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},h,w.params),pathname:Pi([m,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?m:Pi([m,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,t,r);return e&&A?D.createElement(pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},A):A}function E1(){let o=M1(),e=p1(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),t=o instanceof Error?o.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",o),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:s},t):null,u)}var A1=D.createElement(E1,null),b1=class extends D.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,e){return e.location!==o.location||e.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:e.error,location:e.location,revalidation:o.revalidation||e.revalidation}}componentDidCatch(o,e){console.error("React Router caught the following error during render",o,e)}render(){return this.state.error!==void 0?D.createElement(ui.Provider,{value:this.props.routeContext},D.createElement(bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w1({routeContext:o,match:e,children:t}){let r=D.useContext(ka);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(ui.Provider,{value:o},t)}function k1(o,e=[],t=null,r=null){if(o==null){if(!t)return null;if(t.errors)o=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)o=t.matches;else return null}let s=o,l=t?.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:p,errors:v}=t,C=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||C){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,m,p)=>{let v,C=!1,S=null,T=null;t&&(v=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||A1,u&&(h<0&&p===0?(bE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,T=null):h===p&&(C=!0,T=m.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,p+1)),A=()=>{let w;return v?w=S:C?w=T:m.route.Component?w=D.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=f,D.createElement(w1,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:t!=null},children:w})};return t&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?D.createElement(b1,{location:t.location,revalidation:t.revalidation,component:S,error:v,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):A()},null)}function wm(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R1(o){let e=D.useContext(ka);return nt(e,wm(o)),e}function O1(o){let e=D.useContext(ad);return nt(e,wm(o)),e}function I1(o){let e=D.useContext(ui);return nt(e,wm(o)),e}function km(o){let e=I1(o),t=e.matches[e.matches.length-1];return nt(t.route.id,`${o} can only be used on routes that contain a unique "id"`),t.route.id}function N1(){return km("useRouteId")}function M1(){let o=D.useContext(bm),e=O1("useRouteError"),t=km("useRouteError");return o!==void 0?o:e.errors?.[t]}function x1(){let{router:o}=R1("useNavigate"),e=km("useNavigate"),t=D.useRef(!1);return EE(()=>{t.current=!0}),D.useCallback(async(s,l={})=>{Kn(t.current,SE),t.current&&(typeof s=="number"?o.navigate(s):await o.navigate(s,{fromRouteId:e,...l}))},[o,e])}var bT={};function bE(o,e,t){!e&&!bT[o]&&(bT[o]=!0,Kn(!1,t))}D.memo(D1);function D1({routes:o,future:e,state:t}){return AE(o,void 0,t,e)}function P1({to:o,replace:e,state:t,relative:r}){nt(Ra(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=D.useContext(jn);Kn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(ui),{pathname:u}=kr(),h=sd(),f=Am(o,Em(l),u,r==="path"),m=JSON.stringify(f);return D.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:r})},[h,m,r,e,t]),null}function Ig(o){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U1({basename:o="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:l=!1}){nt(!Ra(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=o.replace(/^\/*/,"/"),h=D.useMemo(()=>({basename:u,navigator:s,static:l,future:{}}),[u,s,l]);typeof t=="string"&&(t=wa(t));let{pathname:f="/",search:m="",hash:p="",state:v=null,key:C="default"}=t,S=D.useMemo(()=>{let T=Ui(f,u);return T==null?null:{location:{pathname:T,search:m,hash:p,state:v,key:C},navigationType:r}},[u,f,m,p,v,C,r]);return Kn(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:D.createElement(jn.Provider,{value:h},D.createElement(pl.Provider,{children:e,value:S}))}function L1({children:o,location:e}){return S1(Ng(o),e)}function Ng(o,e=[]){let t=[];return D.Children.forEach(o,(r,s)=>{if(!D.isValidElement(r))return;let l=[...e,s];if(r.type===D.Fragment){t.push.apply(t,Ng(r.props.children,l));return}nt(r.type===Ig,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ng(r.props.children,l)),t.push(u)}),t}var cu="get",uu="application/x-www-form-urlencoded";function ld(o){return o!=null&&typeof o.tagName=="string"}function H1(o){return ld(o)&&o.tagName.toLowerCase()==="button"}function z1(o){return ld(o)&&o.tagName.toLowerCase()==="form"}function B1(o){return ld(o)&&o.tagName.toLowerCase()==="input"}function K1(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function F1(o,e){return o.button===0&&(!e||e==="_self")&&!K1(o)}var jc=null;function G1(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var q1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lg(o){return o!=null&&!q1.has(o)?(Kn(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uu}"`),null):o}function j1(o,e){let t,r,s,l,u;if(z1(o)){let h=o.getAttribute("action");r=h?Ui(h,e):null,t=o.getAttribute("method")||cu,s=lg(o.getAttribute("enctype"))||uu,l=new FormData(o)}else if(H1(o)||B1(o)&&(o.type==="submit"||o.type==="image")){let h=o.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=o.getAttribute("formaction")||h.getAttribute("action");if(r=f?Ui(f,e):null,t=o.getAttribute("formmethod")||h.getAttribute("method")||cu,s=lg(o.getAttribute("formenctype"))||lg(h.getAttribute("enctype"))||uu,l=new FormData(h,o),!G1()){let{name:m,type:p,value:v}=o;if(p==="image"){let C=m?`${m}.`:"";l.append(`${C}x`,"0"),l.append(`${C}y`,"0")}else m&&l.append(m,v)}}else{if(ld(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cu,r=null,s=uu,u=o}return l&&s==="text/plain"&&(u=l,l=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rm(o,e){if(o===!1||o===null||typeof o>"u")throw new Error(e)}function Y1(o,e,t){let r=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Ui(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function V1(o,e){if(o.id in e)return e[o.id];try{let t=await import(o.module);return e[o.id]=t,t}catch(t){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q1(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function $1(o,e,t){let r=await Promise.all(o.map(async s=>{let l=e.routes[s.route.id];if(l){let u=await V1(l,t);return u.links?u.links():[]}return[]}));return Z1(r.flat(1).filter(Q1).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function wT(o,e,t,r,s,l){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>t[m].pathname!==f.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):l==="data"?e.filter((f,m)=>{let p=r.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function X1(o,e,{includeHydrateFallback:t}={}){return J1(o.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function J1(o){return[...new Set(o)]}function W1(o){let e={},t=Object.keys(o).sort();for(let r of t)e[r]=o[r];return e}function Z1(o,e){let t=new Set;return new Set(e),o.reduce((r,s)=>{let l=JSON.stringify(W1(s));return t.has(l)||(t.add(l),r.push({key:l,link:s})),r},[])}function wE(){let o=D.useContext(ka);return Rm(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function eO(){let o=D.useContext(ad);return Rm(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Om=D.createContext(void 0);Om.displayName="FrameworkContext";function kE(){let o=D.useContext(Om);return Rm(o,"You must render this element inside a <HydratedRouter> element"),o}function tO(o,e){let t=D.useContext(Om),[r,s]=D.useState(!1),[l,u]=D.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:p,onTouchStart:v}=e,C=D.useRef(null);D.useEffect(()=>{if(o==="render"&&u(!0),o==="viewport"){let E=w=>{w.forEach(k=>{u(k.isIntersecting)})},A=new IntersectionObserver(E,{threshold:.5});return C.current&&A.observe(C.current),()=>{A.disconnect()}}},[o]),D.useEffect(()=>{if(r){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[r]);let S=()=>{s(!0)},T=()=>{s(!1),u(!1)};return t?o!=="intent"?[l,C,{}]:[l,C,{onFocus:Hs(h,S),onBlur:Hs(f,T),onMouseEnter:Hs(m,S),onMouseLeave:Hs(p,T),onTouchStart:Hs(v,S)}]:[!1,C,{}]}function Hs(o,e){return t=>{o&&o(t),t.defaultPrevented||e(t)}}function nO({page:o,...e}){let{router:t}=wE(),r=D.useMemo(()=>yE(t.routes,o,t.basename),[t.routes,o,t.basename]);return r?D.createElement(rO,{page:o,matches:r,...e}):null}function iO(o){let{manifest:e,routeModules:t}=kE(),[r,s]=D.useState([]);return D.useEffect(()=>{let l=!1;return $1(o,e,t).then(u=>{l||s(u)}),()=>{l=!0}},[o,e,t]),r}function rO({page:o,matches:e,...t}){let r=kr(),{manifest:s,routeModules:l}=kE(),{basename:u}=wE(),{loaderData:h,matches:f}=eO(),m=D.useMemo(()=>wT(o,e,f,s,r,"data"),[o,e,f,s,r]),p=D.useMemo(()=>wT(o,e,f,s,r,"assets"),[o,e,f,s,r]),v=D.useMemo(()=>{if(o===r.pathname+r.search+r.hash)return[];let T=new Set,E=!1;if(e.forEach(w=>{let k=s.routes[w.route.id];!k||!k.hasLoader||(!m.some(I=>I.route.id===w.route.id)&&w.route.id in h&&l[w.route.id]?.shouldRevalidate||k.hasClientLoader?E=!0:T.add(w.route.id))}),T.size===0)return[];let A=Y1(o,u,"data");return E&&T.size>0&&A.searchParams.set("_routes",e.filter(w=>T.has(w.route.id)).map(w=>w.route.id).join(",")),[A.pathname+A.search]},[u,h,r,s,m,e,o,l]),C=D.useMemo(()=>X1(p,s),[p,s]),S=iO(p);return D.createElement(D.Fragment,null,v.map(T=>D.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),C.map(T=>D.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),S.map(({key:T,link:E})=>D.createElement("link",{key:T,...E})))}function oO(...o){return e=>{o.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var RE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RE&&(window.__reactRouterVersion="7.7.1")}catch{}function aO({basename:o,children:e,window:t}){let r=D.useRef();r.current==null&&(r.current=VR({window:t,v5Compat:!0}));let s=r.current,[l,u]=D.useState({action:s.action,location:s.location}),h=D.useCallback(f=>{D.startTransition(()=>u(f))},[u]);return D.useLayoutEffect(()=>s.listen(h),[s,h]),D.createElement(U1,{basename:o,children:e,location:l.location,navigationType:l.action,navigator:s})}var OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IE=D.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:l,replace:u,state:h,target:f,to:m,preventScrollReset:p,viewTransition:v,...C},S){let{basename:T}=D.useContext(jn),E=typeof m=="string"&&OE.test(m),A,w=!1;if(typeof m=="string"&&E&&(A=m,RE))try{let H=new URL(window.location.href),ie=m.startsWith("//")?new URL(H.protocol+m):new URL(m),fe=Ui(ie.pathname,T);ie.origin===H.origin&&fe!=null?m=fe+ie.search+ie.hash:w=!0}catch{Kn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=_1(m,{relative:s}),[I,B,L]=tO(r,C),K=uO(m,{replace:u,state:h,target:f,preventScrollReset:p,relative:s,viewTransition:v});function Y(H){e&&e(H),H.defaultPrevented||K(H)}let G=D.createElement("a",{...C,...L,href:A||k,onClick:w||l?e:Y,ref:oO(S,B),target:f,"data-discover":!E&&t==="render"?"true":void 0});return I&&!E?D.createElement(D.Fragment,null,G,D.createElement(nO,{page:k})):G});IE.displayName="Link";var sO=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:l,to:u,viewTransition:h,children:f,...m},p){let v=yl(u,{relative:m.relative}),C=kr(),S=D.useContext(ad),{navigator:T,basename:E}=D.useContext(jn),A=S!=null&&mO(v)&&h===!0,w=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,k=C.pathname,I=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(k=k.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&E&&(I=Ui(I,E)||I);const B=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let L=k===w||!s&&k.startsWith(w)&&k.charAt(B)==="/",K=I!=null&&(I===w||!s&&I.startsWith(w)&&I.charAt(w.length)==="/"),Y={isActive:L,isPending:K,isTransitioning:A},G=L?e:void 0,H;typeof r=="function"?H=r(Y):H=[r,L?"active":null,K?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let ie=typeof l=="function"?l(Y):l;return D.createElement(IE,{...m,"aria-current":G,className:H,ref:p,style:ie,to:u,viewTransition:h},typeof f=="function"?f(Y):f)});sO.displayName="NavLink";var lO=D.forwardRef(({discover:o="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:l,method:u=cu,action:h,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:v,...C},S)=>{let T=fO(),E=gO(h,{relative:m}),A=u.toLowerCase()==="get"?"get":"post",w=typeof h=="string"&&OE.test(h),k=I=>{if(f&&f(I),I.defaultPrevented)return;I.preventDefault();let B=I.nativeEvent.submitter,L=B?.getAttribute("formmethod")||u;T(B||I.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:s,state:l,relative:m,preventScrollReset:p,viewTransition:v})};return D.createElement("form",{ref:S,method:A,action:E,onSubmit:r?f:k,...C,"data-discover":!w&&o==="render"?"true":void 0})});lO.displayName="Form";function cO(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NE(o){let e=D.useContext(ka);return nt(e,cO(o)),e}function uO(o,{target:e,replace:t,state:r,preventScrollReset:s,relative:l,viewTransition:u}={}){let h=sd(),f=kr(),m=yl(o,{relative:l});return D.useCallback(p=>{if(F1(p,e)){p.preventDefault();let v=t!==void 0?t:nl(f)===nl(m);h(o,{replace:v,state:r,preventScrollReset:s,relative:l,viewTransition:u})}},[f,h,m,t,r,e,o,s,l,u])}var dO=0,hO=()=>`__${String(++dO)}__`;function fO(){let{router:o}=NE("useSubmit"),{basename:e}=D.useContext(jn),t=N1();return D.useCallback(async(r,s={})=>{let{action:l,method:u,encType:h,formData:f,body:m}=j1(r,e);if(s.navigate===!1){let p=s.fetcherKey||hO();await o.fetch(p,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await o.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[o,e,t])}function gO(o,{relative:e}={}){let{basename:t}=D.useContext(jn),r=D.useContext(ui);nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...yl(o||".",{relative:e})},u=kr();if(o==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(p=>p==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let p=h.toString();l.search=p?`?${p}`:""}}return(!o||o===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Pi([t,l.pathname])),nl(l)}function mO(o,{relative:e}={}){let t=D.useContext(TE);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=NE("useViewTransitionState"),s=yl(o,{relative:e});if(!t.isTransitioning)return!1;let l=Ui(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Ui(t.nextLocation.pathname,r)||t.nextLocation.pathname;return _u(s.pathname,u)!=null||_u(s.pathname,l)!=null}var kT=pE();/*! @azure/msal-common v15.9.0 2025-07-23 */const j={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},pr={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Xr={GET:"GET",POST:"POST"},vl=[j.OPENID_SCOPE,j.PROFILE_SCOPE,j.OFFLINE_ACCESS_SCOPE],RT=[...vl,j.EMAIL_SCOPE],Ft={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},OT={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},vr={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Yc={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Gt={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",NO_SESSION:"no_session"},Im={CODE:"code",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},cd={QUERY:"query",FRAGMENT:"fragment"},pO={QUERY:"query"},ME={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},Vc={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},Lt={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},et={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Nm="appmetadata",yO="client_info",js="1",Tu={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},mn={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},Ot={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},qe={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Ys={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},IT={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},ra={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},cg={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Qr={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},vO={Pop:"pop"},CO=300;/*! @azure/msal-common v15.9.0 2025-07-23 */const Su="unexpected_error",_O="post_request_failed";/*! @azure/msal-common v15.9.0 2025-07-23 */const NT={[Su]:"Unexpected error in authentication.",[_O]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class $e extends Error{constructor(e,t,r){const s=t?`${e}: ${t}`:e;super(s),Object.setPrototypeOf(this,$e.prototype),this.errorCode=e||j.EMPTY_STRING,this.errorMessage=t||j.EMPTY_STRING,this.subError=r||j.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Mg(o,e){return new $e(o,e?`${NT[o]} ${e}`:NT[o])}/*! @azure/msal-common v15.9.0 2025-07-23 */const Mm="client_info_decoding_error",xE="client_info_empty_error",xm="token_parsing_error",DE="null_or_empty_token",Ii="endpoints_resolution_error",PE="network_error",UE="openid_config_error",LE="hash_not_deserialized",ya="invalid_state",HE="state_mismatch",xg="state_not_found",zE="nonce_mismatch",Dm="auth_time_not_found",BE="max_age_transpired",TO="multiple_matching_tokens",SO="multiple_matching_accounts",KE="multiple_matching_appMetadata",FE="request_cannot_be_made",GE="cannot_remove_empty_scope",qE="cannot_append_scopeset",Dg="empty_input_scopeset",EO="device_code_polling_cancelled",AO="device_code_expired",bO="device_code_unknown_error",Pm="no_account_in_silent_request",jE="invalid_cache_record",Um="invalid_cache_environment",Pg="no_account_found",Ug="no_crypto_object",wO="unexpected_credential_type",kO="invalid_assertion",RO="invalid_client_credential",Cr="token_refresh_required",OO="user_timeout_reached",YE="token_claims_cnf_required_for_signedjwt",VE="authorization_code_missing_from_server_response",QE="binding_key_not_removed",$E="end_session_endpoint_not_supported",Lm="key_id_missing",IO="no_network_connectivity",NO="user_canceled",MO="missing_tenant_id_error",Oe="method_not_implemented",xO="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.9.0 2025-07-23 */const MT={[Mm]:"The client info could not be parsed/decoded correctly",[xE]:"The client info was empty",[xm]:"Token cannot be parsed",[DE]:"The token is null or empty",[Ii]:"Endpoints cannot be resolved",[PE]:"Network request failed",[UE]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[LE]:"The hash parameters could not be deserialized",[ya]:"State was not the expected format",[HE]:"State mismatch error",[xg]:"State not found",[zE]:"Nonce mismatch error",[Dm]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[BE]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[TO]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[SO]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[KE]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[FE]:"Token request cannot be made without authorization code or refresh token.",[GE]:"Cannot remove null or empty scope from ScopeSet",[qE]:"Cannot append ScopeSet",[Dg]:"Empty input ScopeSet cannot be processed",[EO]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[AO]:"Device code is expired.",[bO]:"Device code stopped polling for unknown reasons.",[Pm]:"Please pass an account object, silent flow is not supported without account information",[jE]:"Cache record object was null or undefined.",[Um]:"Invalid environment when attempting to create cache entry",[Pg]:"No account found in cache for given key.",[Ug]:"No crypto object detected.",[wO]:"Unexpected credential type.",[kO]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[RO]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Cr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[OO]:"User defined timeout for device code polling reached",[YE]:"Cannot generate a POP jwt if the token_claims are not populated",[VE]:"Server response does not contain an authorization code to proceed",[QE]:"Could not remove the credential's binding key from storage.",[$E]:"The provided authority does not support logout",[Lm]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[IO]:"No network connectivity. Check your internet connection.",[NO]:"User cancelled the flow.",[MO]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[Oe]:"This method has not been implemented",[xO]:"The nested app auth bridge is disabled"};class Hm extends $e{constructor(e,t){super(e,t?`${MT[e]}: ${t}`:MT[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Hm.prototype)}}function Z(o,e){return new Hm(o,e)}/*! @azure/msal-common v15.9.0 2025-07-23 */const Eu={createNewGuid:()=>{throw Z(Oe)},base64Decode:()=>{throw Z(Oe)},base64Encode:()=>{throw Z(Oe)},base64UrlEncode:()=>{throw Z(Oe)},encodeKid:()=>{throw Z(Oe)},async getPublicKeyThumbprint(){throw Z(Oe)},async removeTokenBindingKey(){throw Z(Oe)},async clearKeystore(){throw Z(Oe)},async signJwt(){throw Z(Oe)},async hashString(){throw Z(Oe)}};/*! @azure/msal-common v15.9.0 2025-07-23 */var tt;(function(o){o[o.Error=0]="Error",o[o.Warning=1]="Warning",o[o.Info=2]="Info",o[o.Verbose=3]="Verbose",o[o.Trace=4]="Trace"})(tt||(tt={}));class Er{constructor(e,t,r){this.level=tt.Info;const s=()=>{},l=e||Er.createDefaultLoggerOptions();this.localCallback=l.loggerCallback||s,this.piiLoggingEnabled=l.piiLoggingEnabled||!1,this.level=typeof l.logLevel=="number"?l.logLevel:tt.Info,this.correlationId=l.correlationId||j.EMPTY_STRING,this.packageName=t||j.EMPTY_STRING,this.packageVersion=r||j.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:tt.Info}}clone(e,t,r){return new Er({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const l=`${`[${new Date().toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${tt[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,l,t.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:tt.Error,containsPii:!1,correlationId:t||j.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:tt.Error,containsPii:!0,correlationId:t||j.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:tt.Warning,containsPii:!1,correlationId:t||j.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:tt.Warning,containsPii:!0,correlationId:t||j.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:tt.Info,containsPii:!1,correlationId:t||j.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:tt.Info,containsPii:!0,correlationId:t||j.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:tt.Verbose,containsPii:!1,correlationId:t||j.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:tt.Verbose,containsPii:!0,correlationId:t||j.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:tt.Trace,containsPii:!1,correlationId:t||j.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:tt.Trace,containsPii:!0,correlationId:t||j.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.9.0 2025-07-23 */const XE="@azure/msal-common",zm="15.9.0";/*! @azure/msal-common v15.9.0 2025-07-23 */const Bm={None:"none"};/*! @azure/msal-common v15.9.0 2025-07-23 */function Oa(o,e){const t=DO(o);try{const r=e(t);return JSON.parse(r)}catch{throw Z(xm)}}function DO(o){if(!o)throw Z(DE);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(o);if(!t||t.length<4)throw Z(xm);return t[2]}function JE(o,e){if(e===0||Date.now()-3e5>o+e)throw Z(BE)}/*! @azure/msal-common v15.9.0 2025-07-23 */function tn(){return Math.round(new Date().getTime()/1e3)}function xT(o){return o.getTime()/1e3}function ua(o){return o?new Date(Number(o)*1e3):new Date}function Lg(o,e){const t=Number(o)||0;return tn()+e>t}function PO(o){return Number(o)>tn()}/*! @azure/msal-common v15.9.0 2025-07-23 */function Vs(o){return[zO(o),BO(o),KO(o),FO(o),GO(o)].join(Lt.CACHE_KEY_SEPARATOR).toLowerCase()}function ud(o,e,t,r,s){return{credentialType:et.ID_TOKEN,homeAccountId:o,environment:e,clientId:r,secret:t,realm:s}}function dd(o,e,t,r,s,l,u,h,f,m,p,v,C,S,T){const E={homeAccountId:o,credentialType:et.ACCESS_TOKEN,secret:t,cachedAt:tn().toString(),expiresOn:u.toString(),extendedExpiresOn:h.toString(),environment:e,clientId:r,realm:s,target:l,tokenType:p||qe.BEARER};if(v&&(E.userAssertionHash=v),m&&(E.refreshOn=m.toString()),S&&(E.requestedClaims=S,E.requestedClaimsHash=T),E.tokenType?.toLowerCase()!==qe.BEARER.toLowerCase())switch(E.credentialType=et.ACCESS_TOKEN_WITH_AUTH_SCHEME,E.tokenType){case qe.POP:const A=Oa(t,f);if(!A?.cnf?.kid)throw Z(YE);E.keyId=A.cnf.kid;break;case qe.SSH:E.keyId=C}return E}function WE(o,e,t,r,s,l,u){const h={credentialType:et.REFRESH_TOKEN,homeAccountId:o,environment:e,clientId:r,secret:t};return l&&(h.userAssertionHash=l),s&&(h.familyId=s),u&&(h.expiresOn=u.toString()),h}function Km(o){return o.hasOwnProperty("homeAccountId")&&o.hasOwnProperty("environment")&&o.hasOwnProperty("credentialType")&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("secret")}function UO(o){return o?Km(o)&&o.hasOwnProperty("realm")&&o.hasOwnProperty("target")&&(o.credentialType===et.ACCESS_TOKEN||o.credentialType===et.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function LO(o){return o?Km(o)&&o.hasOwnProperty("realm")&&o.credentialType===et.ID_TOKEN:!1}function HO(o){return o?Km(o)&&o.credentialType===et.REFRESH_TOKEN:!1}function zO(o){return[o.homeAccountId,o.environment].join(Lt.CACHE_KEY_SEPARATOR).toLowerCase()}function BO(o){const e=o.credentialType===et.REFRESH_TOKEN&&o.familyId||o.clientId;return[o.credentialType,e,o.realm||""].join(Lt.CACHE_KEY_SEPARATOR).toLowerCase()}function KO(o){return(o.target||"").toLowerCase()}function FO(o){return(o.requestedClaimsHash||"").toLowerCase()}function GO(o){return o.tokenType&&o.tokenType.toLowerCase()!==qe.BEARER.toLowerCase()?o.tokenType.toLowerCase():""}function qO(o,e){const t=o.indexOf(Ot.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),t&&r}function jO(o,e){let t=!1;o&&(t=o.indexOf(Ys.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),t&&r}function YO({environment:o,clientId:e}){return[Nm,o,e].join(Lt.CACHE_KEY_SEPARATOR).toLowerCase()}function VO(o,e){return e?o.indexOf(Nm)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function QO(o,e){return e?o.indexOf(Tu.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function DT(){return tn()+Tu.REFRESH_TIME_SECONDS}function Qc(o,e,t){o.authorization_endpoint=e.authorization_endpoint,o.token_endpoint=e.token_endpoint,o.end_session_endpoint=e.end_session_endpoint,o.issuer=e.issuer,o.endpointsFromNetwork=t,o.jwks_uri=e.jwks_uri}function ug(o,e,t){o.aliases=e.aliases,o.preferred_cache=e.preferred_cache,o.preferred_network=e.preferred_network,o.aliasesFromNetwork=t}function PT(o){return o.expiresAt<=tn()}/*! @azure/msal-common v15.9.0 2025-07-23 */const ZE="redirect_uri_empty",$O="claims_request_parsing_error",eA="authority_uri_insecure",Fs="url_parse_error",tA="empty_url_error",nA="empty_input_scopes_error",Fm="invalid_claims",iA="token_request_empty",rA="logout_request_empty",XO="invalid_code_challenge_method",Gm="pkce_params_missing",qm="invalid_cloud_discovery_metadata",oA="invalid_authority_metadata",aA="untrusted_authority",hd="missing_ssh_jwk",sA="missing_ssh_kid",JO="missing_nonce_authentication_header",WO="invalid_authentication_header",lA="cannot_set_OIDCOptions",cA="cannot_allow_platform_broker",uA="authority_mismatch",dA="invalid_request_method_for_EAR",hA="invalid_authorize_post_body_parameters";/*! @azure/msal-common v15.9.0 2025-07-23 */const ZO={[ZE]:"A redirect URI is required for all calls, and none has been set.",[$O]:"Could not parse the given claims request object.",[eA]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Fs]:"URL could not be parsed into appropriate segments.",[tA]:"URL was empty or null.",[nA]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Fm]:"Given claims parameter must be a stringified JSON object.",[iA]:"Token request was empty and not found in cache.",[rA]:"The logout request was null or undefined.",[XO]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Gm]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[qm]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[oA]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[aA]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[hd]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[sA]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[JO]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[WO]:"Invalid authentication header provided",[lA]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[cA]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[uA]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[hA]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[dA]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class jm extends $e{constructor(e){super(e,ZO[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,jm.prototype)}}function Je(o){return new jm(o)}/*! @azure/msal-common v15.9.0 2025-07-23 */class ai{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return Object.keys(t).length===0}catch{}return!0}static startsWith(e,t){return e.indexOf(t)===0}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},r=e.split("&"),s=l=>decodeURIComponent(l.replace(/\+/g," "));return r.forEach(l=>{if(l.trim()){const[u,h]=l.split(/=(.+)/g,2);u&&h&&(t[s(u)]=s(h))}}),t}static trimArrayEntries(e){return e.map(t=>t.trim())}static removeEmptyStringsFromArray(e){return e.filter(t=>!!t)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}/*! @azure/msal-common v15.9.0 2025-07-23 */class pt{constructor(e){const t=e?ai.trimArrayEntries([...e]):[],r=t?ai.removeEmptyStringsFromArray(t):[];if(!r||!r.length)throw Je(nA);this.scopes=new Set,r.forEach(s=>this.scopes.add(s))}static fromString(e){const r=(e||j.EMPTY_STRING).split(" ");return new pt(r)}static createSearchScopes(e){const t=new pt(e);return t.containsOnlyOIDCScopes()?t.removeScope(j.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),r=new pt(t);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(t=>this.containsScope(t))}containsOnlyOIDCScopes(){let e=0;return RT.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(t=>this.appendScope(t))}catch{throw Z(qE)}}removeScope(e){if(!e)throw Z(GE);this.scopes.delete(e.trim())}removeOIDCScopes(){RT.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw Z(Dg);const t=new Set;return e.scopes.forEach(r=>t.add(r.toLowerCase())),this.scopes.forEach(r=>t.add(r.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw Z(Dg);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),r=e.getScopeCount(),s=this.getScopeCount();return t.size<s+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):j.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.9.0 2025-07-23 */function Au(o,e){if(!o)throw Z(xE);try{const t=e(o);return JSON.parse(t)}catch{throw Z(Mm)}}function da(o){if(!o)throw Z(Mm);const e=o.split(Lt.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?j.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.9.0 2025-07-23 */function UT(o,e){return!!o&&!!e&&o===e.split(".")[1]}function Ym(o,e,t,r){if(r){const{oid:s,sub:l,tid:u,name:h,tfp:f,acr:m}=r,p=u||f||m||"";return{tenantId:p,localAccountId:s||l||"",name:h,isHomeTenant:UT(p,o)}}else return{tenantId:t,localAccountId:e,isHomeTenant:UT(t,o)}}function Vm(o,e,t,r){let s=o;if(e){const{isHomeTenant:l,...u}=e;s={...o,...u}}if(t){const{isHomeTenant:l,...u}=Ym(o.homeAccountId,o.localAccountId,o.tenantId,t);return s={...s,...u,idTokenClaims:t,idToken:r},s}return s}/*! @azure/msal-common v15.9.0 2025-07-23 */const Ln={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.9.0 2025-07-23 */function fA(o){return o&&(o.tid||o.tfp||o.acr)||null}/*! @azure/msal-common v15.9.0 2025-07-23 */const Zt={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.9.0 2025-07-23 */class jt{generateAccountId(){return[this.homeAccountId,this.environment].join(Lt.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return jt.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(Lt.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,r){const s=new jt;t.authorityType===Ln.Adfs?s.authorityType=Vc.ADFS_ACCOUNT_TYPE:t.protocolMode===Zt.OIDC?s.authorityType=Vc.GENERIC_ACCOUNT_TYPE:s.authorityType=Vc.MSSTS_ACCOUNT_TYPE;let l;e.clientInfo&&r&&(l=Au(e.clientInfo,r)),s.clientInfo=e.clientInfo,s.homeAccountId=e.homeAccountId,s.nativeAccountId=e.nativeAccountId;const u=e.environment||t&&t.getPreferredCache();if(!u)throw Z(Um);s.environment=u,s.realm=l?.utid||fA(e.idTokenClaims)||"",s.localAccountId=l?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const h=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,f=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(s.username=h||f||"",s.name=e.idTokenClaims?.name||"",s.cloudGraphHostName=e.cloudGraphHostName,s.msGraphHost=e.msGraphHost,e.tenantProfiles)s.tenantProfiles=e.tenantProfiles;else{const m=Ym(e.homeAccountId,s.localAccountId,s.realm,e.idTokenClaims);s.tenantProfiles=[m]}return s}static createFromAccountInfo(e,t,r){const s=new jt;return s.authorityType=e.authorityType||Vc.GENERIC_ACCOUNT_TYPE,s.homeAccountId=e.homeAccountId,s.localAccountId=e.localAccountId,s.nativeAccountId=e.nativeAccountId,s.realm=e.tenantId,s.environment=e.environment,s.username=e.username,s.name=e.name,s.cloudGraphHostName=t,s.msGraphHost=r,s.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),s}static generateHomeAccountId(e,t,r,s,l){if(!(t===Ln.Adfs||t===Ln.Dsts)){if(e)try{const u=Au(e,s.base64Decode);if(u.uid&&u.utid)return`${u.uid}.${u.utid}`}catch{}r.warning("No client info in response")}return l?.sub||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let s=!0;if(r){const l=e.idTokenClaims||{},u=t.idTokenClaims||{};s=l.iat===u.iat&&l.nonce===u.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&s}}/*! @azure/msal-common v15.9.0 2025-07-23 */function gA(o){return o.startsWith("#/")?o.substring(2):o.startsWith("#")||o.startsWith("?")?o.substring(1):o}function bu(o){if(!o||o.indexOf("=")<0)return null;try{const e=gA(o),t=Object.fromEntries(new URLSearchParams(e));if(t.code||t.ear_jwe||t.error||t.error_description||t.state)return t}catch{throw Z(LE)}return null}function il(o,e=!0,t){const r=new Array;return o.forEach((s,l)=>{!e&&t&&l in t?r.push(`${l}=${s}`):r.push(`${l}=${encodeURIComponent(s)}`)}),r.join("&")}/*! @azure/msal-common v15.9.0 2025-07-23 */class Ue{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Je(tA);e.includes("#")||(this._urlString=Ue.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return ai.endsWith(t,"?")?t=t.slice(0,-1):ai.endsWith(t,"?/")&&(t=t.slice(0,-2)),ai.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Je(Fs)}if(!e.HostNameAndPort||!e.PathSegments)throw Je(Fs);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Je(eA)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return Ue.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),r=t.PathSegments;return e&&r.length!==0&&(r[0]===vr.COMMON||r[0]===vr.ORGANIZATIONS)&&(r[0]=e),Ue.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw Je(Fs);const r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let s=r.AbsolutePath.split("/");return s=s.filter(l=>l&&l.length>0),r.PathSegments=s,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw Je(Fs);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===j.FORWARD_SLASH){const s=new Ue(t).getUrlComponents();return s.Protocol+"//"+s.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Ue(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!bu(e)}}/*! @azure/msal-common v15.9.0 2025-07-23 */const mA={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},LT=mA.endpointMetadata,Qm=mA.instanceDiscoveryMetadata,pA=new Set;Qm.metadata.forEach(o=>{o.aliases.forEach(e=>{pA.add(e)})});function eI(o,e){let t;const r=o.canonicalAuthority;if(r){const s=new Ue(r).getUrlComponents().HostNameAndPort;t=HT(s,o.cloudDiscoveryMetadata?.metadata,mn.CONFIG,e)||HT(s,Qm.metadata,mn.HARDCODED_VALUES,e)||o.knownAuthorities}return t||[]}function HT(o,e,t,r){if(r?.trace(`getAliasesFromMetadata called with source: ${t}`),o&&e){const s=wu(e,o);if(s)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${t}, returning aliases`),s.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${t}`)}return null}function tI(o){return wu(Qm.metadata,o)}function wu(o,e){for(let t=0;t<o.length;t++){const r=o[t];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v15.9.0 2025-07-23 */const ku="cache_quota_exceeded",$m="cache_error_unknown";/*! @azure/msal-common v15.9.0 2025-07-23 */const dg={[ku]:"Exceeded cache storage capacity.",[$m]:"Unexpected error occurred when using cache storage."};class ha extends $e{constructor(e,t){const r=t||(dg[e]?dg[e]:dg[$m]);super(`${e}: ${r}`),Object.setPrototypeOf(this,ha.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}function Hg(o){return o instanceof Error?o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED"||o.message.includes("exceeded the quota")?new ha(ku):new ha(o.name,o.message):new ha($m)}/*! @azure/msal-common v15.9.0 2025-07-23 */class zg{constructor(e,t,r,s,l){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(XE,zm),this.staticAuthorityOptions=l,this.performanceClient=s}getAllAccounts(e,t){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,t),t,e)}getAccountInfoFilteredBy(e,t){const r=this.getAllAccounts(e,t);return r.length>1?r.sort(l=>l.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e,t){const r=this.getAccountsFilteredBy(e,t);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,t,r){return e.flatMap(s=>this.getTenantProfilesFromAccountEntity(s,t,r?.tenantId,r))}getTenantedAccountInfoByFilter(e,t,r,s,l){let u=null,h;if(l&&!this.tenantProfileMatchesFilter(r,l))return null;const f=this.getIdToken(e,s,t,r.tenantId);return f&&(h=Oa(f.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(h,l))?null:(u=Vm(e,r,h,f?.secret),u)}getTenantProfilesFromAccountEntity(e,t,r,s){const l=e.getAccountInfo();let u=l.tenantProfiles||new Map;const h=this.getTokenKeys();if(r){const m=u.get(r);if(m)u=new Map([[r,m]]);else return[]}const f=[];return u.forEach(m=>{const p=this.getTenantedAccountInfoByFilter(l,h,m,t,s);p&&f.push(p)}),f}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||t.isHomeTenant!==void 0&&e.isHomeTenant!==t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!(t&&(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId)||t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint)||t.username&&!this.matchUsername(e.preferred_username,t.username)||t.name&&!this.matchName(e,t.name)||t.sid&&!this.matchSid(e,t.sid)))}async saveCacheRecord(e,t,r){if(!e)throw Z(jE);try{e.account&&await this.setAccount(e.account,t),e.idToken&&r?.idToken!==!1&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&r?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&r?.refreshToken!==!1&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata,t)}catch(s){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),s instanceof $e?s:Hg(s)}}async saveAccessToken(e,t){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},s=this.getTokenKeys(),l=pt.fromString(e.target);s.accessToken.forEach(u=>{if(!this.accessTokenKeyMatchesFilter(u,r,!1))return;const h=this.getAccessTokenCredential(u,t);h&&this.credentialMatchesFilter(h,r)&&pt.fromString(h.target).intersectingScopeSets(l)&&this.removeAccessToken(u,t)}),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e,t){const r=this.getAccountKeys(),s=[];return r.forEach(l=>{if(!this.isAccountKey(l,e.homeAccountId))return;const u=this.getAccount(l,t);if(!u||e.homeAccountId&&!this.matchHomeAccountId(u,e.homeAccountId)||e.username&&!this.matchUsername(u.username,e.username)||e.environment&&!this.matchEnvironment(u,e.environment)||e.realm&&!this.matchRealm(u,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(u,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(u,e.authorityType))return;const h={localAccountId:e?.localAccountId,name:e?.name},f=u.tenantProfiles?.filter(m=>this.tenantProfileMatchesFilter(m,h));f&&f.length===0||s.push(u)}),s}isAccountKey(e,t,r){return!(e.split(Lt.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(Lt.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(t.indexOf(et.ID_TOKEN.toLowerCase())===-1&&t.indexOf(et.ACCESS_TOKEN.toLowerCase())===-1&&t.indexOf(et.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&t.indexOf(et.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(t.indexOf(et.REFRESH_TOKEN.toLowerCase())>-1){const r=`${et.REFRESH_TOKEN}${Lt.CACHE_KEY_SEPARATOR}${this.clientId}${Lt.CACHE_KEY_SEPARATOR}`,s=`${et.REFRESH_TOKEN}${Lt.CACHE_KEY_SEPARATOR}${js}${Lt.CACHE_KEY_SEPARATOR}`;if(t.indexOf(r.toLowerCase())===-1&&t.indexOf(s.toLowerCase())===-1)return!1}else if(t.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,t){return!(t.clientId&&!this.matchClientId(e,t.clientId)||t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash)||typeof t.homeAccountId=="string"&&!this.matchHomeAccountId(e,t.homeAccountId)||t.environment&&!this.matchEnvironment(e,t.environment)||t.realm&&!this.matchRealm(e,t.realm)||t.credentialType&&!this.matchCredentialType(e,t.credentialType)||t.familyId&&!this.matchFamilyId(e,t.familyId)||t.target&&!this.matchTarget(e,t.target)||(t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash||e.credentialType===et.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(t.tokenType&&!this.matchTokenType(e,t.tokenType)||t.tokenType===qe.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){const t=this.getKeys(),r={};return t.forEach(s=>{if(!this.isAppMetadata(s))return;const l=this.getAppMetadata(s);l&&(e.environment&&!this.matchEnvironment(l,e.environment)||e.clientId&&!this.matchClientId(l,e.clientId)||(r[s]=l))}),r}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let r=null;return t.forEach(s=>{if(!this.isAuthorityMetadata(s)||s.indexOf(this.clientId)===-1)return;const l=this.getAuthorityMetadata(s);l&&l.aliases.indexOf(e)!==-1&&(r=l)}),r}removeAllAccounts(e){this.getAccountKeys().forEach(r=>{this.removeAccount(r,e)})}removeAccount(e,t){const r=this.getAccount(e,t);r&&(this.removeAccountContext(r,t),this.removeItem(e,t))}removeAccountContext(e,t){const r=this.getTokenKeys(),s=e.generateAccountId();r.idToken.forEach(l=>{l.indexOf(s)===0&&this.removeIdToken(l,t)}),r.accessToken.forEach(l=>{l.indexOf(s)===0&&this.removeAccessToken(l,t)}),r.refreshToken.forEach(l=>{l.indexOf(s)===0&&this.removeRefreshToken(l,t)})}removeAccessToken(e,t){const r=this.getAccessTokenCredential(e,t);if(this.removeItem(e,t),this.performanceClient.incrementFields({accessTokensRemoved:1},t),!r||r.credentialType.toLowerCase()!==et.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==qe.POP)return;const s=r.keyId;s&&this.cryptoImpl.removeTokenBindingKey(s).catch(()=>{this.commonLogger.error(`Failed to remove token binding key ${s}`,t),this.performanceClient?.incrementFields({removeTokenBindingKeyFailure:1},t)})}removeAppMetadata(e){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r,e)}),!0}readAccountFromCache(e,t){const r=jt.generateAccountCacheKey(e);return this.getAccount(r,t)}getIdToken(e,t,r,s,l){this.commonLogger.trace("CacheManager - getIdToken called");const u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:et.ID_TOKEN,clientId:this.clientId,realm:s},h=this.getIdTokensByFilter(u,t,r),f=h.size;if(f<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(f>1){let m=h;if(!s){const p=new Map;h.forEach((C,S)=>{C.realm===e.tenantId&&p.set(S,C)});const v=p.size;if(v<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),h.values().next().value;if(v===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),p.values().next().value;m=p}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),m.forEach((p,v)=>{this.removeIdToken(v,t)}),l&&t&&l.addFields({multiMatchedID:h.size},t),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),h.values().next().value}getIdTokensByFilter(e,t,r){const s=r&&r.idToken||this.getTokenKeys().idToken,l=new Map;return s.forEach(u=>{if(!this.idTokenKeyMatchesFilter(u,{clientId:this.clientId,...e}))return;const h=this.getIdTokenCredential(u,t);h&&this.credentialMatchesFilter(h,e)&&l.set(u,h)}),l}idTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}removeIdToken(e,t){this.removeItem(e,t)}removeRefreshToken(e,t){this.removeItem(e,t)}getAccessToken(e,t,r,s){const l=t.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",l);const u=pt.createSearchScopes(t.scopes),h=t.authenticationScheme||qe.BEARER,f=h.toLowerCase()!==qe.BEARER.toLowerCase()?et.ACCESS_TOKEN_WITH_AUTH_SCHEME:et.ACCESS_TOKEN,m={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:f,clientId:this.clientId,realm:s||e.tenantId,target:u,tokenType:h,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},p=r&&r.accessToken||this.getTokenKeys().accessToken,v=[];p.forEach(S=>{if(this.accessTokenKeyMatchesFilter(S,m,!0)){const T=this.getAccessTokenCredential(S,l);T&&this.credentialMatchesFilter(T,m)&&v.push(T)}});const C=v.length;return C<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",l),null):C>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",l),v.forEach(S=>{this.removeAccessToken(Vs(S),l)}),this.performanceClient.addFields({multiMatchedAT:v.length},l),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",l),v[0])}accessTokenKeyMatchesFilter(e,t,r){const s=e.toLowerCase();if(t.clientId&&s.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&s.indexOf(t.homeAccountId.toLowerCase())===-1||t.realm&&s.indexOf(t.realm.toLowerCase())===-1||t.requestedClaimsHash&&s.indexOf(t.requestedClaimsHash.toLowerCase())===-1)return!1;if(t.target){const l=t.target.asArray();for(let u=0;u<l.length;u++){if(r&&!s.includes(l[u].toLowerCase()))return!1;if(!r&&s.includes(l[u].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,t){const r=this.getTokenKeys(),s=[];return r.accessToken.forEach(l=>{if(!this.accessTokenKeyMatchesFilter(l,e,!0))return;const u=this.getAccessTokenCredential(l,t);u&&this.credentialMatchesFilter(u,e)&&s.push(u)}),s}getRefreshToken(e,t,r,s,l){this.commonLogger.trace("CacheManager - getRefreshToken called");const u=t?js:void 0,h={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:et.REFRESH_TOKEN,clientId:this.clientId,familyId:u},f=s&&s.refreshToken||this.getTokenKeys().refreshToken,m=[];f.forEach(v=>{if(this.refreshTokenKeyMatchesFilter(v,h)){const C=this.getRefreshTokenCredential(v,r);C&&this.credentialMatchesFilter(C,h)&&m.push(C)}});const p=m.length;return p<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(p>1&&l&&r&&l.addFields({multiMatchedRT:p},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),m[0])}refreshTokenKeyMatchesFilter(e,t){const r=e.toLowerCase();return!(t.familyId&&r.indexOf(t.familyId.toLowerCase())===-1||!t.familyId&&t.clientId&&r.indexOf(t.clientId.toLowerCase())===-1||t.homeAccountId&&r.indexOf(t.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),s=Object.keys(r).map(u=>r[u]),l=s.length;if(l<1)return null;if(l>1)throw Z(KE);return s[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!!(t&&t.familyId===js)}matchHomeAccountId(e,t){return typeof e.homeAccountId=="string"&&t===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,t){const r=e.oid||e.sub;return t===r}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return t.toLowerCase()===e.name?.toLowerCase()}matchUsername(e,t){return!!(e&&typeof e=="string"&&t?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const s=eI(this.staticAuthorityOptions,this.commonLogger);if(s.includes(t)&&s.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){return e.realm?.toLowerCase()===t.toLowerCase()}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return e.credentialType!==et.ACCESS_TOKEN&&e.credentialType!==et.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:pt.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return e.indexOf(Nm)!==-1}isAuthorityMetadata(e){return e.indexOf(Tu.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Tu.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const r in t)e[r]=t[r];return e}}class nI extends zg{async setAccount(){throw Z(Oe)}getAccount(){throw Z(Oe)}async setIdTokenCredential(){throw Z(Oe)}getIdTokenCredential(){throw Z(Oe)}async setAccessTokenCredential(){throw Z(Oe)}getAccessTokenCredential(){throw Z(Oe)}async setRefreshTokenCredential(){throw Z(Oe)}getRefreshTokenCredential(){throw Z(Oe)}setAppMetadata(){throw Z(Oe)}getAppMetadata(){throw Z(Oe)}setServerTelemetry(){throw Z(Oe)}getServerTelemetry(){throw Z(Oe)}setAuthorityMetadata(){throw Z(Oe)}getAuthorityMetadata(){throw Z(Oe)}getAuthorityMetadataKeys(){throw Z(Oe)}setThrottlingCache(){throw Z(Oe)}getThrottlingCache(){throw Z(Oe)}removeItem(){throw Z(Oe)}getKeys(){throw Z(Oe)}getAccountKeys(){throw Z(Oe)}getTokenKeys(){throw Z(Oe)}}/*! @azure/msal-common v15.9.0 2025-07-23 */const N={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},iI={InProgress:1};/*! @azure/msal-common v15.9.0 2025-07-23 */class zT{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class yA{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:iI.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new zT}}startPerformanceMeasurement(){return new zT}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.9.0 2025-07-23 */const vA={tokenRenewalOffsetSeconds:CO,preventCorsPreflight:!1},rI={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:tt.Info,correlationId:j.EMPTY_STRING},oI={claimsBasedCachingEnabled:!1},aI={async sendGetRequestAsync(){throw Z(Oe)},async sendPostRequestAsync(){throw Z(Oe)}},sI={sku:j.SKU,version:zm,cpu:j.EMPTY_STRING,os:j.EMPTY_STRING},lI={clientSecret:j.EMPTY_STRING,clientAssertion:void 0},cI={azureCloudInstance:Bm.None,tenant:`${j.DEFAULT_COMMON_TENANT}`},uI={application:{appName:"",appVersion:""}};function dI({authOptions:o,systemOptions:e,loggerOptions:t,cacheOptions:r,storageInterface:s,networkInterface:l,cryptoInterface:u,clientCredentials:h,libraryInfo:f,telemetry:m,serverTelemetryManager:p,persistencePlugin:v,serializableCache:C}){const S={...rI,...t};return{authOptions:hI(o),systemOptions:{...vA,...e},loggerOptions:S,cacheOptions:{...oI,...r},storageInterface:s||new nI(o.clientId,Eu,new Er(S),new yA),networkInterface:l||aI,cryptoInterface:u||Eu,clientCredentials:h||lI,libraryInfo:{...sI,...f},telemetry:{...uI,...m},serverTelemetryManager:p||null,persistencePlugin:v||null,serializableCache:C||null}}function hI(o){return{clientCapabilities:[],azureCloudOptions:cI,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...o}}function CA(o){return o.authOptions.authority.options.protocolMode===Zt.OIDC}/*! @azure/msal-common v15.9.0 2025-07-23 */const Hn={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.9.0 2025-07-23 */const no="client_id",_A="redirect_uri",fI="response_type",gI="response_mode",mI="grant_type",pI="claims",yI="scope",vI="refresh_token",CI="state",_I="nonce",TI="prompt",SI="code",EI="code_challenge",AI="code_challenge_method",bI="code_verifier",wI="client-request-id",kI="x-client-SKU",RI="x-client-VER",OI="x-client-OS",II="x-client-CPU",NI="x-client-current-telemetry",MI="x-client-last-telemetry",xI="x-ms-lib-capability",DI="x-app-name",PI="x-app-ver",UI="post_logout_redirect_uri",LI="id_token_hint",HI="client_secret",zI="client_assertion",BI="client_assertion_type",TA="token_type",SA="req_cnf",BT="return_spa_code",KI="nativebroker",FI="logout_hint",GI="sid",qI="login_hint",jI="domain_hint",YI="x-client-xtra-sku",Ru="brk_client_id",Ou="brk_redirect_uri",Bg="instance_aware",VI="ear_jwk",QI="ear_jwe_crypto";/*! @azure/msal-common v15.9.0 2025-07-23 */function fd(o,e,t){if(!e)return;const r=o.get(no);r&&o.has(Ru)&&t?.addFields({embeddedClientId:r,embeddedRedirectUri:o.get(_A)},e)}function Xm(o,e){o.set(fI,e)}function $I(o,e){o.set(gI,e||pO.QUERY)}function XI(o){o.set(KI,"1")}function Jm(o,e,t=!0,r=vl){t&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const s=t?[...e||[],...r]:e||[],l=new pt(s);o.set(yI,l.printScopes())}function Wm(o,e){o.set(no,e)}function Zm(o,e){o.set(_A,e)}function JI(o,e){o.set(UI,e)}function WI(o,e){o.set(LI,e)}function ZI(o,e){o.set(jI,e)}function $c(o,e){o.set(qI,e)}function Iu(o,e){o.set(Ft.CCS_HEADER,`UPN:${e}`)}function Qs(o,e){o.set(Ft.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function KT(o,e){o.set(GI,e)}function ep(o,e,t){const r=oN(e,t);try{JSON.parse(r)}catch{throw Je(Fm)}o.set(pI,r)}function tp(o,e){o.set(wI,e)}function np(o,e){o.set(kI,e.sku),o.set(RI,e.version),e.os&&o.set(OI,e.os),e.cpu&&o.set(II,e.cpu)}function ip(o,e){e?.appName&&o.set(DI,e.appName),e?.appVersion&&o.set(PI,e.appVersion)}function eN(o,e){o.set(TI,e)}function EA(o,e){e&&o.set(CI,e)}function tN(o,e){o.set(_I,e)}function AA(o,e,t){if(e&&t)o.set(EI,e),o.set(AI,t);else throw Je(Gm)}function nN(o,e){o.set(SI,e)}function iN(o,e){o.set(vI,e)}function rN(o,e){o.set(bI,e)}function bA(o,e){o.set(HI,e)}function wA(o,e){e&&o.set(zI,e)}function kA(o,e){e&&o.set(BI,e)}function RA(o,e){o.set(mI,e)}function rp(o){o.set(yO,"1")}function OA(o){o.has(Bg)||o.set(Bg,"true")}function _r(o,e){Object.entries(e).forEach(([t,r])=>{!o.has(t)&&r&&o.set(t,r)})}function oN(o,e){let t;if(!o)t={};else try{t=JSON.parse(o)}catch{throw Je(Fm)}return e&&e.length>0&&(t.hasOwnProperty(Yc.ACCESS_TOKEN)||(t[Yc.ACCESS_TOKEN]={}),t[Yc.ACCESS_TOKEN][Yc.XMS_CC]={values:e}),JSON.stringify(t)}function op(o,e){e&&(o.set(TA,qe.POP),o.set(SA,e))}function IA(o,e){e&&(o.set(TA,qe.SSH),o.set(SA,e))}function NA(o,e){o.set(NI,e.generateCurrentRequestHeaderValue()),o.set(MI,e.generateLastRequestHeaderValue())}function MA(o){o.set(xI,Ys.X_MS_LIB_CAPABILITY_VALUE)}function aN(o,e){o.set(FI,e)}function gd(o,e,t){o.has(Ru)||o.set(Ru,e),o.has(Ou)||o.set(Ou,t)}function sN(o,e){o.set(VI,encodeURIComponent(e)),o.set(QI,"eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}function lN(o,e){Object.entries(e).forEach(([t,r])=>{r&&o.set(t,r)})}/*! @azure/msal-common v15.9.0 2025-07-23 */function cN(o){return o.hasOwnProperty("authorization_endpoint")&&o.hasOwnProperty("token_endpoint")&&o.hasOwnProperty("issuer")&&o.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.9.0 2025-07-23 */function uN(o){return o.hasOwnProperty("tenant_discovery_endpoint")&&o.hasOwnProperty("metadata")}/*! @azure/msal-common v15.9.0 2025-07-23 */function dN(o){return o.hasOwnProperty("error")&&o.hasOwnProperty("error_description")}/*! @azure/msal-common v15.9.0 2025-07-23 */const vn=(o,e,t,r,s)=>(...l)=>{t.trace(`Executing function ${e}`);const u=r?.startMeasurement(e,s);if(s){const h=e+"CallCount";r?.incrementFields({[h]:1},s)}try{const h=o(...l);return u?.end({success:!0}),t.trace(`Returning result from ${e}`),h}catch(h){t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(h))}catch{t.trace("Unable to print error message.")}throw u?.end({success:!1},h),h}},$=(o,e,t,r,s)=>(...l)=>{t.trace(`Executing function ${e}`);const u=r?.startMeasurement(e,s);if(s){const h=e+"CallCount";r?.incrementFields({[h]:1},s)}return r?.setPreQueueTime(e,s),o(...l).then(h=>(t.trace(`Returning result from ${e}`),u?.end({success:!0}),h)).catch(h=>{t.trace(`Error occurred in ${e}`);try{t.trace(JSON.stringify(h))}catch{t.trace("Unable to print error message.")}throw u?.end({success:!1},h),h})};/*! @azure/msal-common v15.9.0 2025-07-23 */class md{constructor(e,t,r,s){this.networkInterface=e,this.logger=t,this.performanceClient=r,this.correlationId=s}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(N.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)t.region_source=ra.ENVIRONMENT_VARIABLE;else{const s=md.IMDS_OPTIONS;try{const l=await $(this.getRegionFromIMDS.bind(this),N.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(j.IMDS_VERSION,s);if(l.status===pr.SUCCESS&&(r=l.body,t.region_source=ra.IMDS),l.status===pr.BAD_REQUEST){const u=await $(this.getCurrentVersion.bind(this),N.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(s);if(!u)return t.region_source=ra.FAILED_AUTO_DETECTION,null;const h=await $(this.getRegionFromIMDS.bind(this),N.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(u,s);h.status===pr.SUCCESS&&(r=h.body,t.region_source=ra.IMDS)}}catch{return t.region_source=ra.FAILED_AUTO_DETECTION,null}}return r||(t.region_source=ra.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(N.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${j.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,j.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(N.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${j.IMDS_ENDPOINT}?format=json`,e);return t.status===pr.BAD_REQUEST&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch{return null}}}md.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.9.0 2025-07-23 */class Ut{constructor(e,t,r,s,l,u,h,f){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=s,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=l,this.performanceClient=h,this.correlationId=u,this.managedIdentity=f||!1,this.regionDiscovery=new md(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(j.CIAM_AUTH_URL))return Ln.Ciam;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case j.ADFS:return Ln.Adfs;case j.DSTS:return Ln.Dsts}return Ln.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Ue(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Z(Ii)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Z(Ii)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Z(Ii)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Z($E);return this.replacePath(this.metadata.end_session_endpoint)}else throw Z(Ii)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Z(Ii)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Z(Ii)}canReplaceTenant(e){return e.PathSegments.length===1&&!Ut.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Ln.Default&&this.protocolMode!==Zt.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const s=new Ue(this.metadata.canonical_authority).getUrlComponents(),l=s.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((h,f)=>{let m=l[f];if(f===0&&this.canReplaceTenant(s)){const p=new Ue(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];m!==p&&(this.logger.verbose(`Replacing tenant domain name ${m} with id ${p}`),m=p)}h!==m&&(t=t.replace(`/${m}/`,`/${h}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Ln.Adfs||this.protocolMode===Zt.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(N.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await $(this.updateCloudDiscoveryMetadata.bind(this),N.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await $(this.updateEndpointMetadata.bind(this),N.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:r}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:DT(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==mn.CACHE&&r?.source!==mn.CACHE&&(e.expiresAt=DT(),e.canonical_authority=this.canonicalAuthority);const s=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(s,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(N.AuthorityUpdateEndpointMetadata,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===mn.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){const s=await $(this.updateMetadataWithRegionalInformation.bind(this),N.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);Qc(e,s,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let r=await $(this.getEndpointMetadataFromNetwork.bind(this),N.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(r=await $(this.updateMetadataWithRegionalInformation.bind(this),N.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Qc(e,r,!0),mn.NETWORK;throw Z(UE,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Qc(e,t,!1),{source:mn.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const s=this.getEndpointMetadataFromHardcodedValues();if(s)return Qc(e,s,!1),{source:mn.HARDCODED_VALUES,metadata:s};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=PT(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:mn.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Ue(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Je(oA)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(N.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const r=await this.networkInterface.sendGetRequestAsync(t,e);return cN(r.body)?r.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(r){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${r}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in LT?LT[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(N.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==j.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=cg.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,Ut.replaceWithRegionalInformation(e,t);const r=await $(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),N.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(r)return this.regionDiscoveryMetadata.region_outcome=cg.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=r,Ut.replaceWithRegionalInformation(e,r);this.regionDiscoveryMetadata.region_outcome=cg.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(N.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const r=await $(this.getCloudDiscoveryMetadataFromNetwork.bind(this),N.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return ug(e,r,!0),mn.NETWORK;throw Je(aA)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||j.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||j.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||j.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),ug(e,t,!1),mn.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const s=tI(this.hostnameAndPort);if(s)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),ug(e,s,!1),mn.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=PT(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),mn.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Ln.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Ut.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=wu(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Je(qm)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Ut.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(N.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${j.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let r=null;try{const s=await this.networkInterface.sendGetRequestAsync(e,t);let l,u;if(uN(s.body))l=s.body,u=l.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${l.tenant_discovery_endpoint}`);else if(dN(s.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${s.status}`),l=s.body,l.error===j.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${l.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${l.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),u=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=wu(u,this.hostnameAndPort)}catch(s){if(s instanceof $e)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${s.errorCode}
Error Description: ${s.errorMessage}`);else{const l=s;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${l.name}
Error Description: ${l.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Ut.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(t=>t&&Ue.getDomainFromUrl(t).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==Bm.None){const s=t.tenant?t.tenant:j.DEFAULT_COMMON_TENANT;r=`${t.azureCloudInstance}/${s}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return j.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Z(Ii)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return pA.has(e)}static isPublicCloudAuthority(e){return j.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){const s=new Ue(e);s.validateAsUri();const l=s.getUrlComponents();let u=`${t}.${l.HostNameAndPort}`;this.isPublicCloudAuthority(l.HostNameAndPort)&&(u=`${t}.${j.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const h=Ue.constructAuthorityUriFromObject({...s.getUrlComponents(),HostNameAndPort:u}).urlString;return r?`${h}?${r}`:h}static replaceWithRegionalInformation(e,t){const r={...e};return r.authorization_endpoint=Ut.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=Ut.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=Ut.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e;const s=new Ue(e).getUrlComponents();if(s.PathSegments.length===0&&s.HostNameAndPort.endsWith(j.CIAM_AUTH_URL)){const l=s.HostNameAndPort.split(".")[0];t=`${t}${l}${j.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}Ut.reservedTenantDomains=new Set(["{tenant}","{tenantid}",vr.COMMON,vr.CONSUMERS,vr.ORGANIZATIONS]);function hN(o){const r=new Ue(o).getUrlComponents().PathSegments.slice(-1)[0]?.toLowerCase();switch(r){case vr.COMMON:case vr.ORGANIZATIONS:case vr.CONSUMERS:return;default:return r}}function xA(o){return o.endsWith(j.FORWARD_SLASH)?o:`${o}${j.FORWARD_SLASH}`}function fN(o){const e=o.cloudDiscoveryMetadata;let t;if(e)try{t=JSON.parse(e)}catch{throw Je(qm)}return{canonicalAuthority:o.authority?xA(o.authority):void 0,knownAuthorities:o.knownAuthorities,cloudDiscoveryMetadata:t}}/*! @azure/msal-common v15.9.0 2025-07-23 */async function DA(o,e,t,r,s,l,u){u?.addQueueMeasurement(N.AuthorityFactoryCreateDiscoveredInstance,l);const h=Ut.transformCIAMAuthority(xA(o)),f=new Ut(h,e,t,r,s,l,u);try{return await $(f.resolveEndpointsAsync.bind(f),N.AuthorityResolveEndpointsAsync,s,u,l)(),f}catch{throw Z(Ii)}}/*! @azure/msal-common v15.9.0 2025-07-23 */class mo extends $e{constructor(e,t,r,s,l){super(e,t,r),this.name="ServerError",this.errorNo=s,this.status=l,Object.setPrototypeOf(this,mo.prototype)}}/*! @azure/msal-common v15.9.0 2025-07-23 */function pd(o,e,t){return{clientId:o,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:t,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||e.tokenBodyParameters?.clientId}}/*! @azure/msal-common v15.9.0 2025-07-23 */class ii{static generateThrottlingStorageKey(e){return`${Ys.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t,r){const s=ii.generateThrottlingStorageKey(t),l=e.getThrottlingCache(s);if(l){if(l.throttleTime<Date.now()){e.removeItem(s,r);return}throw new mo(l.errorCodes?.join(" ")||j.EMPTY_STRING,l.errorMessage,l.subError)}}static postProcess(e,t,r,s){if(ii.checkResponseStatus(r)||ii.checkResponseForRetryAfter(r)){const l={throttleTime:ii.calculateThrottleTime(parseInt(r.headers[Ft.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(ii.generateThrottlingStorageKey(t),l,s)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Ft.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(t||Ys.DEFAULT_THROTTLE_TIME_SECONDS),r+Ys.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,t,r,s){const l=pd(t,r,s),u=this.generateThrottlingStorageKey(l);e.removeItem(u,r.correlationId)}}/*! @azure/msal-common v15.9.0 2025-07-23 */class yd extends $e{constructor(e,t,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,yd.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=r}}function Gs(o,e,t,r){return o.errorMessage=`${o.errorMessage}, additionalErrorInfo: error.name:${r?.name}, error.message:${r?.message}`,new yd(o,e,t)}/*! @azure/msal-common v15.9.0 2025-07-23 */class ap{constructor(e,t){this.config=dI(e),this.logger=new Er(this.config.loggerOptions,XE,zm),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[Ft.CONTENT_TYPE]=j.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Hn.HOME_ACCOUNT_ID:try{const r=da(e.credential);t[Ft.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Hn.UPN:t[Ft.CCS_HEADER]=`UPN: ${e.credential}`;break}return t}async executePostToTokenEndpoint(e,t,r,s,l,u){u&&this.performanceClient?.addQueueMeasurement(u,l);const h=await this.sendPostRequest(s,e,{body:t,headers:r},l);return this.config.serverTelemetryManager&&h.status<500&&h.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),h}async sendPostRequest(e,t,r,s){ii.preProcess(this.cacheManager,e,s);let l;try{l=await $(this.networkClient.sendPostRequestAsync.bind(this.networkClient),N.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,s)(t,r);const u=l.headers||{};this.performanceClient?.addFields({refreshTokenSize:l.body.refresh_token?.length||0,httpVerToken:u[Ft.X_MS_HTTP_VERSION]||"",requestId:u[Ft.X_MS_REQUEST_ID]||""},s)}catch(u){if(u instanceof yd){const h=u.responseHeaders;throw h&&this.performanceClient?.addFields({httpVerToken:h[Ft.X_MS_HTTP_VERSION]||"",requestId:h[Ft.X_MS_REQUEST_ID]||"",contentTypeHeader:h[Ft.CONTENT_TYPE]||void 0,contentLengthHeader:h[Ft.CONTENT_LENGTH]||void 0,httpStatus:u.httpStatus},s),u.error}throw u instanceof $e?u:Z(PE)}return ii.postProcess(this.cacheManager,e,l,s),l}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(N.UpdateTokenEndpointAuthority,t);const r=`https://${e}/${this.authority.tenant}/`,s=await DA(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=s}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&gd(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&_r(t,e.tokenQueryParameters),tp(t,e.correlationId),fd(t,e.correlationId,this.performanceClient),il(t)}}/*! @azure/msal-common v15.9.0 2025-07-23 */const Nu="no_tokens_found",PA="native_account_unavailable",sp="refresh_token_expired",lp="ux_not_allowed",gN="interaction_required",mN="consent_required",pN="login_required",vd="bad_token";/*! @azure/msal-common v15.9.0 2025-07-23 */const FT=[gN,mN,pN,vd,lp],yN=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],vN={[Nu]:"No refresh token found in the cache. Please sign-in.",[PA]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[sp]:"Refresh token has expired.",[vd]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[lp]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class Fn extends $e{constructor(e,t,r,s,l,u,h,f){super(e,t,r),Object.setPrototypeOf(this,Fn.prototype),this.timestamp=s||j.EMPTY_STRING,this.traceId=l||j.EMPTY_STRING,this.correlationId=u||j.EMPTY_STRING,this.claims=h||j.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=f}}function UA(o,e,t){const r=!!o&&FT.indexOf(o)>-1,s=!!t&&yN.indexOf(t)>-1,l=!!e&&FT.some(u=>e.indexOf(u)>-1);return r||l||s}function Mu(o){return new Fn(o,vN[o])}/*! @azure/msal-common v15.9.0 2025-07-23 */class Ia{static setRequestState(e,t,r){const s=Ia.generateLibraryState(e,r);return t?`${s}${j.RESOURCE_DELIM}${t}`:s}static generateLibraryState(e,t){if(!e)throw Z(Ug);const r={id:e.createNewGuid()};t&&(r.meta=t);const s=JSON.stringify(r);return e.base64Encode(s)}static parseRequestState(e,t){if(!e)throw Z(Ug);if(!t)throw Z(ya);try{const r=t.split(j.RESOURCE_DELIM),s=r[0],l=r.length>1?r.slice(1).join(j.RESOURCE_DELIM):j.EMPTY_STRING,u=e.base64Decode(s),h=JSON.parse(u);return{userRequestState:l||j.EMPTY_STRING,libraryState:h}}catch{throw Z(ya)}}}/*! @azure/msal-common v15.9.0 2025-07-23 */const CN={SW:"sw"};class va{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(N.PopTokenGenerateCnf,e.correlationId);const r=await $(this.generateKid.bind(this),N.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),s=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:s}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(N.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:CN.SW}}async signPopToken(e,t,r){return this.signPayload(e,t,r)}async signPayload(e,t,r,s){const{resourceRequestMethod:l,resourceRequestUri:u,shrClaims:h,shrNonce:f,shrOptions:m}=r,v=(u?new Ue(u):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:tn(),m:l?.toUpperCase(),u:v?.HostNameAndPort,nonce:f||this.cryptoUtils.createNewGuid(),p:v?.AbsolutePath,q:v?.QueryString?[[],v.QueryString]:void 0,client_claims:h||void 0,...s},t,m,r.correlationId)}}/*! @azure/msal-common v15.9.0 2025-07-23 */class _N{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.9.0 2025-07-23 */class io{constructor(e,t,r,s,l,u,h){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=s,this.serializableCache=l,this.persistencePlugin=u,this.performanceClient=h}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const r=`Error(s): ${e.error_codes||j.NOT_AVAILABLE} - Timestamp: ${e.timestamp||j.NOT_AVAILABLE} - Description: ${e.error_description||j.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||j.NOT_AVAILABLE} - Trace ID: ${e.trace_id||j.NOT_AVAILABLE}`,s=e.error_codes?.length?e.error_codes[0]:void 0,l=new mo(e.error,r,e.suberror,s,e.status);if(t&&e.status&&e.status>=pr.SERVER_ERROR_RANGE_START&&e.status<=pr.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${l}`);return}else if(t&&e.status&&e.status>=pr.CLIENT_ERROR_RANGE_START&&e.status<=pr.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${l}`);return}throw UA(e.error,e.error_description,e.suberror)?new Fn(e.error,e.error_description,e.suberror,e.timestamp||j.EMPTY_STRING,e.trace_id||j.EMPTY_STRING,e.correlation_id||j.EMPTY_STRING,e.claims||j.EMPTY_STRING,s):l}}async handleServerTokenResponse(e,t,r,s,l,u,h,f,m){this.performanceClient?.addQueueMeasurement(N.HandleServerTokenResponse,e.correlation_id);let p;if(e.id_token){if(p=Oa(e.id_token||j.EMPTY_STRING,this.cryptoObj.base64Decode),l&&l.nonce&&p.nonce!==l.nonce)throw Z(zE);if(s.maxAge||s.maxAge===0){const T=p.auth_time;if(!T)throw Z(Dm);JE(T,s.maxAge)}}this.homeAccountIdentifier=jt.generateHomeAccountId(e.client_info||j.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,p);let v;l&&l.state&&(v=Ia.parseRequestState(this.cryptoObj,l.state)),e.key_id=e.key_id||s.sshKid||void 0;const C=this.generateCacheRecord(e,t,r,s,p,u,l);let S;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),S=new _N(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(S)),h&&!f&&C.account){const T=C.account.generateAccountKey();if(!this.cacheStorage.getAccount(T,s.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await io.generateAuthenticationResult(this.cryptoObj,t,C,!1,s,p,v,void 0,m)}await this.cacheStorage.saveCacheRecord(C,s.correlationId,s.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&S&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(S))}return io.generateAuthenticationResult(this.cryptoObj,t,C,!1,s,p,v,e,m)}generateCacheRecord(e,t,r,s,l,u,h){const f=t.getPreferredCache();if(!f)throw Z(Um);const m=fA(l);let p,v;e.id_token&&l&&(p=ud(this.homeAccountIdentifier,f,e.id_token,this.clientId,m||""),v=cp(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,s.correlationId,l,e.client_info,f,m,h,void 0,this.logger));let C=null;if(e.access_token){const E=e.scope?pt.fromString(e.scope):new pt(s.scopes||[]),A=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,w=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,k=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,I=r+A,B=I+w,L=k&&k>0?r+k:void 0;C=dd(this.homeAccountIdentifier,f,e.access_token,this.clientId,m||t.tenant||"",E.printScopes(),I,B,this.cryptoObj.base64Decode,L,e.token_type,u,e.key_id,s.claims,s.requestedClaimsHash)}let S=null;if(e.refresh_token){let E;if(e.refresh_token_expires_in){const A=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;E=r+A}S=WE(this.homeAccountIdentifier,f,e.refresh_token,this.clientId,e.foci,u,E)}let T=null;return e.foci&&(T={clientId:this.clientId,environment:f,familyId:e.foci}),{account:v,idToken:p,accessToken:C,refreshToken:S,appMetadata:T}}static async generateAuthenticationResult(e,t,r,s,l,u,h,f,m){let p=j.EMPTY_STRING,v=[],C=null,S,T,E=j.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===qe.POP&&!l.popKid){const I=new va(e),{secret:B,keyId:L}=r.accessToken;if(!L)throw Z(Lm);p=await I.signPopToken(B,L,l)}else p=r.accessToken.secret;v=pt.fromString(r.accessToken.target).asArray(),C=ua(r.accessToken.expiresOn),S=ua(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(T=ua(r.accessToken.refreshOn))}r.appMetadata&&(E=r.appMetadata.familyId===js?js:"");const A=u?.oid||u?.sub||"",w=u?.tid||"";f?.spa_accountid&&r.account&&(r.account.nativeAccountId=f?.spa_accountid);const k=r.account?Vm(r.account.getAccountInfo(),void 0,u,r.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:A,tenantId:w,scopes:v,account:k,idToken:r?.idToken?.secret||"",idTokenClaims:u||{},accessToken:p,fromCache:s,expiresOn:C,extExpiresOn:S,refreshOn:T,correlationId:l.correlationId,requestId:m||j.EMPTY_STRING,familyId:E,tokenType:r.accessToken?.tokenType||j.EMPTY_STRING,state:h?h.userRequestState:j.EMPTY_STRING,cloudGraphHostName:r.account?.cloudGraphHostName||j.EMPTY_STRING,msGraphHost:r.account?.msGraphHost||j.EMPTY_STRING,code:f?.spa_code,fromNativeBroker:!1}}}function cp(o,e,t,r,s,l,u,h,f,m,p,v){v?.verbose("setCachedAccount called");const S=o.getAccountKeys().find(k=>k.startsWith(t));let T=null;S&&(T=o.getAccount(S,s));const E=T||jt.createAccount({homeAccountId:t,idTokenClaims:l,clientInfo:u,environment:h,cloudGraphHostName:m?.cloud_graph_host_name,msGraphHost:m?.msgraph_host,nativeAccountId:p},e,r),A=E.tenantProfiles||[],w=f||E.realm;if(w&&!A.find(k=>k.tenantId===w)){const k=Ym(t,E.localAccountId,w,l);A.push(k)}return E.tenantProfiles=A,E}/*! @azure/msal-common v15.9.0 2025-07-23 */async function LA(o,e,t){return typeof o=="string"?o:o({clientId:e,tokenEndpoint:t})}/*! @azure/msal-common v15.9.0 2025-07-23 */class HA extends ap{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(N.AuthClientAcquireToken,e.correlationId),!e.code)throw Z(FE);const r=tn(),s=await $(this.executeTokenRequest.bind(this),N.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),l=s.headers?.[Ft.X_MS_REQUEST_ID],u=new io(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return u.validateTokenResponse(s.body),$(u.handleServerTokenResponse.bind(u),N.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(s.body,this.authority,r,e,t,void 0,void 0,void 0,l)}getLogoutUri(e){if(!e)throw Je(rA);const t=this.createLogoutUrlQueryString(e);return Ue.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(N.AuthClientExecuteTokenRequest,t.correlationId);const r=this.createTokenQueryParameters(t),s=Ue.appendQueryString(e.tokenEndpoint,r),l=await $(this.createTokenRequestBody.bind(this),N.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);let u;if(t.clientInfo)try{const m=Au(t.clientInfo,this.cryptoUtils.base64Decode);u={credential:`${m.uid}${Lt.CLIENT_INFO_SEPARATOR}${m.utid}`,type:Hn.HOME_ACCOUNT_ID}}catch(m){this.logger.verbose("Could not parse client info for CCS Header: "+m)}const h=this.createTokenRequestHeaders(u||t.ccsCredential),f=pd(this.config.authOptions.clientId,t);return $(this.executePostToTokenEndpoint.bind(this),N.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(s,l,h,f,t.correlationId,N.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(N.AuthClientCreateTokenRequestBody,e.correlationId);const t=new Map;if(Wm(t,e.embeddedClientId||e.tokenBodyParameters?.[no]||this.config.authOptions.clientId),this.includeRedirectUri)Zm(t,e.redirectUri);else if(!e.redirectUri)throw Je(ZE);if(Jm(t,e.scopes,!0,this.oidcDefaultScopes),nN(t,e.code),np(t,this.config.libraryInfo),ip(t,this.config.telemetry.application),MA(t),this.serverTelemetryManager&&!CA(this.config)&&NA(t,this.serverTelemetryManager),e.codeVerifier&&rN(t,e.codeVerifier),this.config.clientCredentials.clientSecret&&bA(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;wA(t,await LA(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),kA(t,s.assertionType)}if(RA(t,ME.AUTHORIZATION_CODE_GRANT),rp(t),e.authenticationScheme===qe.POP){const s=new va(this.cryptoUtils,this.performanceClient);let l;e.popKid?l=this.cryptoUtils.encodeKid(e.popKid):l=(await $(s.generateCnf.bind(s),N.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,op(t,l)}else if(e.authenticationScheme===qe.SSH)if(e.sshJwk)IA(t,e.sshJwk);else throw Je(hd);(!ai.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&ep(t,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const s=Au(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${s.uid}${Lt.CLIENT_INFO_SEPARATOR}${s.utid}`,type:Hn.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Hn.HOME_ACCOUNT_ID:try{const s=da(r.credential);Qs(t,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Hn.UPN:Iu(t,r.credential);break}return e.embeddedClientId&&gd(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&_r(t,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[BT])&&_r(t,{[BT]:"1"}),fd(t,e.correlationId,this.performanceClient),il(t)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&JI(t,e.postLogoutRedirectUri),e.correlationId&&tp(t,e.correlationId),e.idTokenHint&&WI(t,e.idTokenHint),e.state&&EA(t,e.state),e.logoutHint&&aN(t,e.logoutHint),e.extraQueryParameters&&_r(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&OA(t),il(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.9.0 2025-07-23 */const TN=300;class SN extends ap{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(N.RefreshTokenClientAcquireToken,e.correlationId);const t=tn(),r=await $(this.executeTokenRequest.bind(this),N.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),s=r.headers?.[Ft.X_MS_REQUEST_ID],l=new io(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return l.validateTokenResponse(r.body),$(l.handleServerTokenResponse.bind(l),N.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,s)}async acquireTokenByRefreshToken(e){if(!e)throw Je(iA);if(this.performanceClient?.addQueueMeasurement(N.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw Z(Pm);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await $(this.acquireTokenWithCachedRefreshToken.bind(this),N.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){const s=r instanceof Fn&&r.errorCode===Nu,l=r instanceof mo&&r.errorCode===IT.INVALID_GRANT_ERROR&&r.subError===IT.CLIENT_MISMATCH_ERROR;if(s||l)return $(this.acquireTokenWithCachedRefreshToken.bind(this),N.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw r}return $(this.acquireTokenWithCachedRefreshToken.bind(this),N.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(N.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=vn(this.cacheManager.getRefreshToken.bind(this.cacheManager),N.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,e.correlationId,void 0,this.performanceClient);if(!r)throw Mu(Nu);if(r.expiresOn&&Lg(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||TN))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),Mu(sp);const s={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||qe.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Hn.HOME_ACCOUNT_ID}};try{return await $(this.acquireToken.bind(this),N.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(s)}catch(l){if(l instanceof Fn&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),l.subError===vd)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const u=Vs(r);this.cacheManager.removeRefreshToken(u,e.correlationId)}throw l}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(N.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),s=Ue.appendQueryString(t.tokenEndpoint,r),l=await $(this.createTokenRequestBody.bind(this),N.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),u=this.createTokenRequestHeaders(e.ccsCredential),h=pd(this.config.authOptions.clientId,e);return $(this.executePostToTokenEndpoint.bind(this),N.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(s,l,u,h,e.correlationId,N.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(N.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const t=new Map;if(Wm(t,e.embeddedClientId||e.tokenBodyParameters?.[no]||this.config.authOptions.clientId),e.redirectUri&&Zm(t,e.redirectUri),Jm(t,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),RA(t,ME.REFRESH_TOKEN_GRANT),rp(t),np(t,this.config.libraryInfo),ip(t,this.config.telemetry.application),MA(t),this.serverTelemetryManager&&!CA(this.config)&&NA(t,this.serverTelemetryManager),iN(t,e.refreshToken),this.config.clientCredentials.clientSecret&&bA(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const r=this.config.clientCredentials.clientAssertion;wA(t,await LA(r.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),kA(t,r.assertionType)}if(e.authenticationScheme===qe.POP){const r=new va(this.cryptoUtils,this.performanceClient);let s;e.popKid?s=this.cryptoUtils.encodeKid(e.popKid):s=(await $(r.generateCnf.bind(r),N.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,op(t,s)}else if(e.authenticationScheme===qe.SSH)if(e.sshJwk)IA(t,e.sshJwk);else throw Je(hd);if((!ai.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&ep(t,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Hn.HOME_ACCOUNT_ID:try{const r=da(e.ccsCredential.credential);Qs(t,r)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Hn.UPN:Iu(t,e.ccsCredential.credential);break}return e.embeddedClientId&&gd(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&_r(t,e.tokenBodyParameters),fd(t,e.correlationId,this.performanceClient),il(t)}}/*! @azure/msal-common v15.9.0 2025-07-23 */class EN extends ap{constructor(e,t){super(e,t)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(N.SilentFlowClientAcquireCachedToken,e.correlationId);let t=Qr.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!ai.isEmptyObj(e.claims))throw this.setCacheOutcome(Qr.FORCE_REFRESH_OR_CLAIMS,e.correlationId),Z(Cr);if(!e.account)throw Z(Pm);const r=e.account.tenantId||hN(e.authority),s=this.cacheManager.getTokenKeys(),l=this.cacheManager.getAccessToken(e.account,e,s,r);if(l){if(PO(l.cachedAt)||Lg(l.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Qr.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),Z(Cr);l.refreshOn&&Lg(l.refreshOn,0)&&(t=Qr.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Qr.NO_CACHED_ACCESS_TOKEN,e.correlationId),Z(Cr);const u=e.authority||this.authority.getPreferredCache(),h={account:this.cacheManager.readAccountFromCache(e.account,e.correlationId),accessToken:l,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,s,r,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(u)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await $(this.generateResultFromCacheRecord.bind(this),N.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(h,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==Qr.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){this.performanceClient?.addQueueMeasurement(N.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId);let r;if(e.idToken&&(r=Oa(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||t.maxAge===0){const s=r?.auth_time;if(!s)throw Z(Dm);JE(s,t.maxAge)}return io.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}/*! @azure/msal-common v15.9.0 2025-07-23 */const AN={sendGetRequestAsync:()=>Promise.reject(Z(Oe)),sendPostRequestAsync:()=>Promise.reject(Z(Oe))};/*! @azure/msal-common v15.9.0 2025-07-23 */function bN(o,e,t,r){const s=e.correlationId,l=new Map;Wm(l,e.embeddedClientId||e.extraQueryParameters?.[no]||o.clientId);const u=[...e.scopes||[],...e.extraScopesToConsent||[]];if(Jm(l,u,!0,o.authority.options.OIDCOptions?.defaultScopes),Zm(l,e.redirectUri),tp(l,s),$I(l,e.responseMode),rp(l),e.prompt&&(eN(l,e.prompt),r?.addFields({prompt:e.prompt},s)),e.domainHint&&(ZI(l,e.domainHint),r?.addFields({domainHintFromRequest:!0},s)),e.prompt!==Gt.SELECT_ACCOUNT)if(e.sid&&e.prompt===Gt.NONE)t.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),KT(l,e.sid),r?.addFields({sidFromRequest:!0},s);else if(e.account){const h=RN(e.account);let f=ON(e.account);if(f&&e.domainHint&&(t.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),f=null),f){t.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),$c(l,f),r?.addFields({loginHintFromClaim:!0},s);try{const m=da(e.account.homeAccountId);Qs(l,m)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(h&&e.prompt===Gt.NONE){t.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),KT(l,h),r?.addFields({sidFromClaim:!0},s);try{const m=da(e.account.homeAccountId);Qs(l,m)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)t.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),$c(l,e.loginHint),Iu(l,e.loginHint),r?.addFields({loginHintFromRequest:!0},s);else if(e.account.username){t.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),$c(l,e.account.username),r?.addFields({loginHintFromUpn:!0},s);try{const m=da(e.account.homeAccountId);Qs(l,m)}catch{t.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(t.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),$c(l,e.loginHint),Iu(l,e.loginHint),r?.addFields({loginHintFromRequest:!0},s));else t.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&tN(l,e.nonce),e.state&&EA(l,e.state),(e.claims||o.clientCapabilities&&o.clientCapabilities.length>0)&&ep(l,e.claims,o.clientCapabilities),e.embeddedClientId&&gd(l,o.clientId,o.redirectUri),o.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(Bg))&&OA(l),l}function up(o,e,t,r){const s=il(e,t,r);return Ue.appendQueryString(o.authorizationEndpoint,s)}function wN(o,e){if(zA(o,e),!o.code)throw Z(VE);return o}function zA(o,e){if(!o.state||!e)throw o.state?Z(xg,"Cached State"):Z(xg,"Server State");let t,r;try{t=decodeURIComponent(o.state)}catch{throw Z(ya,o.state)}try{r=decodeURIComponent(e)}catch{throw Z(ya,o.state)}if(t!==r)throw Z(HE);if(o.error||o.error_description||o.suberror){const s=kN(o);throw UA(o.error,o.error_description,o.suberror)?new Fn(o.error||"",o.error_description,o.suberror,o.timestamp||"",o.trace_id||"",o.correlation_id||"",o.claims||"",s):new mo(o.error||"",o.error_description,o.suberror,s)}}function kN(o){const e="code=",t=o.error_uri?.lastIndexOf(e);return t&&t>=0?o.error_uri?.substring(t+e.length):void 0}function RN(o){return o.idTokenClaims?.sid||null}function ON(o){return o.idTokenClaims?.login_hint||null}/*! @azure/msal-common v15.9.0 2025-07-23 */const GT=",",BA="|";function IN(o){const{skus:e,libraryName:t,libraryVersion:r,extensionName:s,extensionVersion:l}=o,u=new Map([[0,[t,r]],[2,[s,l]]]);let h=[];if(e?.length){if(h=e.split(GT),h.length<4)return e}else h=Array.from({length:4},()=>BA);return u.forEach((f,m)=>{f.length===2&&f[0]?.length&&f[1]?.length&&NN({skuArr:h,index:m,skuName:f[0],skuVersion:f[1]})}),h.join(GT)}function NN(o){const{skuArr:e,index:t,skuName:r,skuVersion:s}=o;t>=e.length||(e[t]=[r,s].join(BA))}class rl{constructor(e,t){this.cacheOutcome=Qr.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||j.EMPTY_STRING,this.wrapperVer=e.wrapperVer||j.EMPTY_STRING,this.telemetryCacheKey=Ot.CACHE_KEY+Lt.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${Ot.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r?.length&&t.push(`broker_error=${r}`);const s=t.join(Ot.VALUE_SEPARATOR),l=this.getRegionDiscoveryFields(),u=[e,l].join(Ot.VALUE_SEPARATOR);return[Ot.SCHEMA_VERSION,u,s].join(Ot.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=rl.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(Ot.VALUE_SEPARATOR),s=e.errors.slice(0,t).join(Ot.VALUE_SEPARATOR),l=e.errors.length,u=t<l?Ot.OVERFLOW_TRUE:Ot.OVERFLOW_FALSE,h=[l,u].join(Ot.VALUE_SEPARATOR);return[Ot.SCHEMA_VERSION,e.cacheHits,r,s,h].join(Ot.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=Ot.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof $e?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(Ot.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),t=rl.maxErrorsToSend(e),r=e.errors.length;if(t===r)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const s={failedRequests:e.failedRequests.slice(t*2),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,s,this.correlationId)}}static maxErrorsToSend(e){let t,r=0,s=0;const l=e.errors.length;for(t=0;t<l;t++){const u=e.failedRequests[2*t]||j.EMPTY_STRING,h=e.failedRequests[2*t+1]||j.EMPTY_STRING,f=e.errors[t]||j.EMPTY_STRING;if(s+=u.toString().length+h.toString().length+f.length+3,s<Ot.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||j.EMPTY_STRING),e.push(this.regionSource||j.EMPTY_STRING),e.push(this.regionOutcome||j.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return IN(e)}}/*! @azure/msal-common v15.9.0 2025-07-23 */const KA="missing_kid_error",FA="missing_alg_error";/*! @azure/msal-common v15.9.0 2025-07-23 */const MN={[KA]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[FA]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class dp extends $e{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,dp.prototype)}}function qT(o){return new dp(o,MN[o])}/*! @azure/msal-common v15.9.0 2025-07-23 */class hp{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw qT(KA);if(!e.alg)throw qT(FA);const t=new hp({typ:e.typ||vO.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}/*! @azure/msal-browser v4.16.0 2025-07-23 */const fp="pkce_not_created",gp="ear_jwk_empty",GA="ear_jwe_empty",Kg="crypto_nonexistent",Cd="empty_navigate_uri",qA="hash_empty_error",mp="no_state_in_hash",jA="hash_does_not_contain_known_properties",YA="unable_to_parse_state",VA="state_interaction_type_mismatch",QA="interaction_in_progress",$A="popup_window_error",XA="empty_window_error",ol="user_cancelled",xN="monitor_popup_timeout",JA="monitor_window_timeout",WA="redirect_in_iframe",ZA="block_iframe_reload",eb="block_nested_popups",DN="iframe_closed_prematurely",_d="silent_logout_unsupported",tb="no_account_error",PN="silent_prompt_value_error",nb="no_token_request_cache_error",ib="unable_to_parse_token_request_cache_error",UN="auth_request_not_set_error",LN="invalid_cache_type",Td="non_browser_environment",aa="database_not_open",xu="no_network_connectivity",rb="post_request_failed",ob="get_request_failed",Fg="failed_to_parse_response",ab="unable_to_load_token",pp="crypto_key_not_found",sb="auth_code_required",lb="auth_code_or_nativeAccountId_required",cb="spa_code_and_nativeAccountId_present",yp="database_unavailable",ub="unable_to_acquire_token_from_native_platform",db="native_handshake_timeout",hb="native_extension_not_installed",vp="native_connection_not_established",Du="uninitialized_public_client_application",fb="native_prompt_not_supported",gb="invalid_base64_string",mb="invalid_pop_token_request",pb="failed_to_build_headers",yb="failed_to_parse_headers",du="failed_to_decrypt_ear_response",Pu="timed_out";/*! @azure/msal-browser v4.16.0 2025-07-23 */const wi="For more visit: aka.ms/msaljs/browser-errors",HN={[fp]:"The PKCE code challenge and verifier could not be generated.",[gp]:"No EAR encryption key provided. This is unexpected.",[GA]:"Server response does not contain ear_jwe property. This is unexpected.",[Kg]:"The crypto object or function is not available.",[Cd]:"Navigation URI is empty. Please check stack trace for more info.",[qA]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${wi}`,[mp]:"Hash does not contain state. Please verify that the request originated from msal.",[jA]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${wi}`,[YA]:"Unable to parse state. Please verify that the request originated from msal.",[VA]:"Hash contains state but the interaction type does not match the caller.",[QA]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${wi}`,[$A]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[XA]:"window.open returned null or undefined window object.",[ol]:"User cancelled the flow.",[xN]:`Token acquisition in popup failed due to timeout.  ${wi}`,[JA]:`Token acquisition in iframe failed due to timeout.  ${wi}`,[WA]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[ZA]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${wi}`,[eb]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[DN]:"The iframe being monitored was closed prematurely.",[_d]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[tb]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[PN]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[nb]:"No token request found in cache.",[ib]:"The cached token request could not be parsed.",[UN]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[LN]:"Invalid cache type",[Td]:"Login and token requests are not supported in non-browser environments.",[aa]:"Database is not open!",[xu]:"No network connectivity. Check your internet connection.",[rb]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[ob]:"Network request failed. Please check the network trace to determine root cause.",[Fg]:"Failed to parse network response. Check network trace.",[ab]:"Error loading token to cache.",[pp]:"Cryptographic Key or Keypair not found in browser storage.",[sb]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[lb]:"An authorization code or nativeAccountId must be provided to this flow.",[cb]:"Request cannot contain both spa code and native account id.",[yp]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[ub]:`Unable to acquire token from native platform.  ${wi}`,[db]:"Timed out while attempting to establish connection to browser extension",[hb]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[vp]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${wi}`,[Du]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${wi}`,[fb]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[gb]:"Invalid base64 encoded string.",[mb]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[pb]:"Failed to build request headers object.",[yb]:"Failed to parse response headers",[du]:"Failed to decrypt ear response",[Pu]:"The request timed out."};class Cl extends $e{constructor(e,t){super(e,HN[e],t),Object.setPrototypeOf(this,Cl.prototype),this.name="BrowserAuthError"}}function se(o,e){return new Cl(o,e)}/*! @azure/msal-browser v4.16.0 2025-07-23 */const Wt={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},On={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},zs={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},At={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},jT={GET:"GET",POST:"POST"},gr={SIGNIN:"signin",SIGNOUT:"signout"},ht={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},Rn={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys",VERSION:"msal.version"},Xc={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Qe={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var Ce;(function(o){o.Redirect="redirect",o.Popup="popup",o.Silent="silent",o.None="none"})(Ce||(Ce={}));const YT={scopes:vl},vb="jwk",Gg="msal.db",zN=1,BN=`${Gg}.keys`,Kt={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},KN=[Kt.Default,Kt.Skip,Kt.RefreshTokenAndNetwork],FN="msal.browser.log.level",GN="msal.browser.log.pii",qN="msal.browser.platform.auth.dom";/*! @azure/msal-browser v4.16.0 2025-07-23 */function Jc(o){return encodeURIComponent(al(o).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Ar(o){return Cb(o).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function al(o){return Cb(new TextEncoder().encode(o))}function Cb(o){const e=Array.from(o,t=>String.fromCodePoint(t)).join("");return btoa(e)}/*! @azure/msal-browser v4.16.0 2025-07-23 */function zn(o){return new TextDecoder().decode(Tr(o))}function Tr(o){let e=o.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw se(gb)}const t=atob(e);return Uint8Array.from(t,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.16.0 2025-07-23 */const jN="RSASSA-PKCS1-v1_5",Na="AES-GCM",_b="HKDF",Cp="SHA-256",YN=2048,VN=new Uint8Array([1,0,1]),VT="0123456789abcdef",QT=new Uint32Array(1),_p="raw",Tb="encrypt",Tp="decrypt",QN="deriveKey",$N="crypto_subtle_undefined",Sp={name:jN,hash:Cp,modulusLength:YN,publicExponent:VN};function XN(o){if(!window)throw se(Td);if(!window.crypto)throw se(Kg);if(!o&&!window.crypto.subtle)throw se(Kg,$N)}async function Sb(o,e,t){e?.addQueueMeasurement(N.Sha256Digest,t);const s=new TextEncoder().encode(o);return window.crypto.subtle.digest(Cp,s)}function JN(o){return window.crypto.getRandomValues(o)}function hg(){return window.crypto.getRandomValues(QT),QT[0]}function Gn(){const o=Date.now(),e=hg()*1024+(hg()&1023),t=new Uint8Array(16),r=Math.trunc(e/2**30),s=e&2**30-1,l=hg();t[0]=o/2**40,t[1]=o/2**32,t[2]=o/2**24,t[3]=o/2**16,t[4]=o/2**8,t[5]=o,t[6]=112|r>>>8,t[7]=r,t[8]=128|s>>>24,t[9]=s>>>16,t[10]=s>>>8,t[11]=s,t[12]=l>>>24,t[13]=l>>>16,t[14]=l>>>8,t[15]=l;let u="";for(let h=0;h<t.length;h++)u+=VT.charAt(t[h]>>>4),u+=VT.charAt(t[h]&15),(h===3||h===5||h===7||h===9)&&(u+="-");return u}async function WN(o,e){return window.crypto.subtle.generateKey(Sp,o,e)}async function fg(o){return window.crypto.subtle.exportKey(vb,o)}async function ZN(o,e,t){return window.crypto.subtle.importKey(vb,o,Sp,e,t)}async function eM(o,e){return window.crypto.subtle.sign(Sp,o,e)}async function Ep(){const o=await Eb(),t={alg:"dir",kty:"oct",k:Ar(new Uint8Array(o))};return al(JSON.stringify(t))}async function tM(o){const e=zn(o),r=JSON.parse(e).k,s=Tr(r);return window.crypto.subtle.importKey(_p,s,Na,!1,[Tp])}async function nM(o,e){const t=e.split(".");if(t.length!==5)throw se(du,"jwe_length");const r=await tM(o).catch(()=>{throw se(du,"import_key")});try{const s=new TextEncoder().encode(t[0]),l=Tr(t[2]),u=Tr(t[3]),h=Tr(t[4]),f=h.byteLength*8,m=new Uint8Array(u.length+h.length);m.set(u),m.set(h,u.length);const p=await window.crypto.subtle.decrypt({name:Na,iv:l,tagLength:f,additionalData:s},r,m);return new TextDecoder().decode(p)}catch{throw se(du,"decrypt")}}async function Eb(){const o=await window.crypto.subtle.generateKey({name:Na,length:256},!0,[Tb,Tp]);return window.crypto.subtle.exportKey(_p,o)}async function $T(o){return window.crypto.subtle.importKey(_p,o,_b,!1,[QN])}async function Ab(o,e,t){return window.crypto.subtle.deriveKey({name:_b,salt:e,hash:Cp,info:new TextEncoder().encode(t)},o,{name:Na,length:256},!1,[Tb,Tp])}async function iM(o,e,t){const r=new TextEncoder().encode(e),s=window.crypto.getRandomValues(new Uint8Array(16)),l=await Ab(o,s,t),u=await window.crypto.subtle.encrypt({name:Na,iv:new Uint8Array(12)},l,r);return{data:Ar(new Uint8Array(u)),nonce:Ar(s)}}async function rM(o,e,t,r){const s=Tr(r),l=await Ab(o,Tr(e),t),u=await window.crypto.subtle.decrypt({name:Na,iv:new Uint8Array(12)},l,s);return new TextDecoder().decode(u)}async function bb(o){const e=await Sb(o),t=new Uint8Array(e);return Ar(t)}/*! @azure/msal-browser v4.16.0 2025-07-23 */const Sd="storage_not_supported",wb="stubbed_public_client_application_called",Ap="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.16.0 2025-07-23 */const hu={[Sd]:"Given storage configuration option was not supported.",[wb]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[Ap]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};hu[Sd],hu[wb],hu[Ap];class bp extends $e{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,bp.prototype)}}function wp(o){return new bp(o,hu[o])}/*! @azure/msal-browser v4.16.0 2025-07-23 */function kb(o){o.location.hash="",typeof o.history.replaceState=="function"&&o.history.replaceState(null,"",`${o.location.origin}${o.location.pathname}${o.location.search}`)}function oM(o){const e=o.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function kp(){return window.parent!==window}function aM(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Wt.POPUP_NAME_PREFIX}.`)===0}function Di(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function sM(){const e=new Ue(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function lM(){if(Ue.hashContainsKnownProperties(window.location.hash)&&kp())throw se(ZA)}function cM(o){if(kp()&&!o)throw se(WA)}function uM(){if(aM())throw se(eb)}function Rb(){if(typeof window>"u")throw se(Td)}function Ob(o){if(!o)throw se(Du)}function Rp(o){Rb(),lM(),uM(),Ob(o)}function XT(o,e){if(Rp(o),cM(e.system.allowRedirectInIframe),e.cache.cacheLocation===At.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw wp(Ap)}function Ib(o){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(o).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function dM(){return Gn()}/*! @azure/msal-browser v4.16.0 2025-07-23 */class Uu{navigateInternal(e,t){return Uu.defaultNavigateWindow(e,t)}navigateExternal(e,t){return Uu.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((r,s)=>{setTimeout(()=>{s(se(Pu,"failed_to_redirect"))},t.timeout)})}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class hM{async sendGetRequestAsync(e,t){let r,s={},l=0;const u=JT(t);try{r=await fetch(e,{method:jT.GET,headers:u})}catch(h){throw Gs(se(window.navigator.onLine?ob:xu),void 0,void 0,h)}s=WT(r.headers);try{return l=r.status,{headers:s,body:await r.json(),status:l}}catch(h){throw Gs(se(Fg),l,s,h)}}async sendPostRequestAsync(e,t){const r=t&&t.body||"",s=JT(t);let l,u=0,h={};try{l=await fetch(e,{method:jT.POST,headers:s,body:r})}catch(f){throw Gs(se(window.navigator.onLine?rb:xu),void 0,void 0,f)}h=WT(l.headers);try{return u=l.status,{headers:h,body:await l.json(),status:u}}catch(f){throw Gs(se(Fg),u,h,f)}}}function JT(o){try{const e=new Headers;if(!(o&&o.headers))return e;const t=o.headers;return Object.entries(t).forEach(([r,s])=>{e.append(r,s)}),e}catch(e){throw Gs(se(pb),void 0,void 0,e)}}function WT(o){try{const e={};return o.forEach((t,r)=>{e[r]=t}),e}catch{throw se(yb)}}/*! @azure/msal-browser v4.16.0 2025-07-23 */const fM=6e4,qg=1e4,gM=3e4,Nb=2e3;function mM({auth:o,cache:e,system:t,telemetry:r},s){const l={clientId:j.EMPTY_STRING,authority:`${j.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:j.EMPTY_STRING,authorityMetadata:j.EMPTY_STRING,redirectUri:typeof window<"u"?Di():"",postLogoutRedirectUri:j.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Zt.AAD,OIDCOptions:{serverResponseType:cd.FRAGMENT,defaultScopes:[j.OPENID_SCOPE,j.PROFILE_SCOPE,j.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Bm.None,tenant:j.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},u={cacheLocation:At.SessionStorage,temporaryCacheLocation:At.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===At.LocalStorage),claimsBasedCachingEnabled:!1},h={loggerCallback:()=>{},logLevel:tt.Info,piiLoggingEnabled:!1},m={...{...vA,loggerOptions:h,networkClient:s?new hM:AN,navigationClient:new Uu,loadFrameTimeout:0,windowHashTimeout:t?.loadFrameTimeout||fM,iframeHashTimeout:t?.loadFrameTimeout||qg,navigateFrameWait:0,redirectNavigationTimeout:gM,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:t?.nativeBrokerHandshakeTimeout||Nb,pollIntervalMilliseconds:Wt.DEFAULT_POLL_INTERVAL_MS},...t,loggerOptions:t?.loggerOptions||h},p={application:{appName:j.EMPTY_STRING,appVersion:j.EMPTY_STRING},client:new yA};if(o?.protocolMode!==Zt.OIDC&&o?.OIDCOptions&&new Er(m.loggerOptions).warning(JSON.stringify(Je(lA))),o?.protocolMode&&o.protocolMode===Zt.OIDC&&m?.allowPlatformBroker)throw Je(cA);return{auth:{...l,...o,OIDCOptions:{...l.OIDCOptions,...o?.OIDCOptions}},cache:{...u,...e},system:m,telemetry:{...p,...r}}}/*! @azure/msal-browser v4.16.0 2025-07-23 */const pM="@azure/msal-browser",ro="4.16.0";/*! @azure/msal-browser v4.16.0 2025-07-23 */class Op{static loggerCallback(e,t){switch(e){case tt.Error:console.error(t);return;case tt.Info:console.info(t);return;case tt.Verbose:console.debug(t);return;case tt.Warning:console.warn(t);return;default:console.log(t);return}}constructor(e){this.browserEnvironment=typeof window<"u",this.config=mM(e,this.browserEnvironment);let t;try{t=window[At.SessionStorage]}catch{}const r=t?.getItem(FN),s=t?.getItem(GN)?.toLowerCase(),l=s==="true"?!0:s==="false"?!1:void 0,u={...this.config.system.loggerOptions},h=r&&Object.keys(tt).includes(r)?tt[r]:void 0;h&&(u.loggerCallback=Op.loggerCallback,u.logLevel=h),l!==void 0&&(u.piiLoggingEnabled=l),this.logger=new Er(u,pM,ro),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class oo extends Op{getModuleName(){return oo.MODULE_NAME}getId(){return oo.ID}async initialize(){return this.available=typeof window<"u",this.available}}oo.MODULE_NAME="";oo.ID="StandardOperatingContext";/*! @azure/msal-browser v4.16.0 2025-07-23 */class yM{constructor(){this.dbName=Gg,this.version=zN,this.tableName=BN,this.dbOpen=!1}async open(){return new Promise((e,t)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",s=>{s.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",s=>{const l=s;this.db=l.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>t(se(yp)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(se(aa));const u=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);u.addEventListener("success",h=>{const f=h;this.closeConnection(),t(f.target.result)}),u.addEventListener("error",h=>{this.closeConnection(),r(h)})})}async setItem(e,t){return await this.validateDbIsOpen(),new Promise((r,s)=>{if(!this.db)return s(se(aa));const h=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);h.addEventListener("success",()=>{this.closeConnection(),r()}),h.addEventListener("error",f=>{this.closeConnection(),s(f)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(se(aa));const u=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);u.addEventListener("success",()=>{this.closeConnection(),t()}),u.addEventListener("error",h=>{this.closeConnection(),r(h)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,t)=>{if(!this.db)return t(se(aa));const l=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();l.addEventListener("success",u=>{const h=u;this.closeConnection(),e(h.target.result)}),l.addEventListener("error",u=>{this.closeConnection(),t(u)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((t,r)=>{if(!this.db)return r(se(aa));const u=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);u.addEventListener("success",h=>{const f=h;this.closeConnection(),t(f.target.result===1)}),u.addEventListener("error",h=>{this.closeConnection(),r(h)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,t)=>{const r=window.indexedDB.deleteDatabase(Gg),s=setTimeout(()=>t(!1),200);r.addEventListener("success",()=>(clearTimeout(s),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(s),e(!0))),r.addEventListener("error",()=>(clearTimeout(s),t(!1)))})}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class Ed{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((t,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class vM{constructor(e){this.inMemoryCache=new Ed,this.indexedDBCache=new yM,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Cl&&e.errorCode===yp)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class Li{constructor(e,t,r){this.logger=e,XN(r??!1),this.cache=new vM(this.logger),this.performanceClient=t}createNewGuid(){return Gn()}base64Encode(e){return al(e)}base64Decode(e){return zn(e)}base64UrlEncode(e){return Jc(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(N.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await WN(Li.EXTRACTABLE,Li.POP_KEY_USAGES),s=await fg(r.publicKey),l={e:s.e,kty:s.kty,n:s.n},u=ZT(l),h=await this.hashString(u),f=await fg(r.privateKey),m=await ZN(f,!1,["sign"]);return await this.cache.setItem(h,{privateKey:m,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),h}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw Z(QE)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,r,s){const l=this.performanceClient?.startMeasurement(N.CryptoOptsSignJwt,s),u=await this.cache.getItem(t);if(!u)throw se(pp);const h=await fg(u.publicKey),f=ZT(h),m=Jc(JSON.stringify({kid:t})),p=hp.getShrHeaderString({...r?.header,alg:h.alg,kid:m}),v=Jc(p);e.cnf={jwk:JSON.parse(f)};const C=Jc(JSON.stringify(e)),S=`${v}.${C}`,E=new TextEncoder().encode(S),A=await eM(u.privateKey,E),w=Ar(new Uint8Array(A)),k=`${S}.${w}`;return l&&l.end({success:!0}),k}async hashString(e){return bb(e)}}Li.POP_KEY_USAGES=["sign","verify"];Li.EXTRACTABLE=!0;function ZT(o){return JSON.stringify(o,Object.keys(o).sort())}/*! @azure/msal-browser v4.16.0 2025-07-23 */const CM=1440*60*1e3,jg={Lax:"Lax",None:"None"};class Mb{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let s=0;s<r.length;s++){const l=r[s],[u,...h]=decodeURIComponent(l).trim().split("="),f=h.join("=");if(u===t)return f}return""}getUserData(){throw Z(Oe)}setItem(e,t,r,s=!0,l=jg.Lax){let u=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${l};`;if(r){const h=_M(r);u+=`expires=${h};`}(s||l===jg.None)&&(u+="Secure;"),document.cookie=u}async setUserData(){return Promise.reject(Z(Oe))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach(r=>{const s=decodeURIComponent(r).trim().split("=");t.push(s[0])}),t}containsKey(e){return this.getKeys().includes(e)}}function _M(o){const e=new Date;return new Date(e.getTime()+o*CM).toUTCString()}/*! @azure/msal-browser v4.16.0 2025-07-23 */function Yg(o){const e=o.getItem(Rn.ACCOUNT_KEYS);return e?JSON.parse(e):[]}function Vg(o,e){const t=e.getItem(`${Rn.TOKEN_KEYS}.${o}`);if(t){const r=JSON.parse(t);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.16.0 2025-07-23 */const eS="msal.cache.encryption",TM="msal.broadcast.cache";class SM{constructor(e,t,r){if(!window.localStorage)throw wp(Sd);this.memoryStorage=new Ed,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=r,this.broadcast=new BroadcastChannel(TM)}async initialize(e){const t=new Mb,r=t.getItem(eS);let s={key:"",id:""};if(r)try{s=JSON.parse(r)}catch{}if(s.key&&s.id){const l=vn(Tr,N.Base64Decode,this.logger,this.performanceClient,e)(s.key);this.encryptionCookie={id:s.id,key:await $($T,N.GenerateHKDF,this.logger,this.performanceClient,e)(l)},await $(this.importExistingCache.bind(this),N.ImportExistingCache,this.logger,this.performanceClient,e)(e)}else{this.clear();const l=Gn(),u=await $(Eb,N.GenerateBaseKey,this.logger,this.performanceClient,e)(),h=vn(Ar,N.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(u));this.encryptionCookie={id:l,key:await $($T,N.GenerateHKDF,this.logger,this.performanceClient,e)(u)};const f={id:l,key:h};t.setItem(eS,JSON.stringify(f),0,!0,jg.None)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw se(Du);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,r,s){if(!this.initialized||!this.encryptionCookie)throw se(Du);const{data:l,nonce:u}=await $(iM,N.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,t,this.getContext(e)),h={id:this.encryptionCookie.id,nonce:u,data:l,lastUpdatedAt:s};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(h)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),Yg(this).forEach(r=>this.removeItem(r));const t=Vg(this.clientId,this);t.idToken.forEach(r=>this.removeItem(r)),t.accessToken.forEach(r=>this.removeItem(r)),t.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(j.CACHE_PREFIX)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let t=Yg(this);t=await this.importArray(t,e),this.setItem(Rn.ACCOUNT_KEYS,JSON.stringify(t));const r=Vg(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),this.setItem(`${Rn.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let s;try{s=JSON.parse(r)}catch{return null}return!s.id||!s.nonce||!s.data?(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null):s.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):$(rM,N.Decrypt,this.logger,this.performanceClient,t)(this.encryptionCookie.key,s.nonce,this.getContext(e),s.data)}async importArray(e,t){const r=[],s=[];return e.forEach(l=>{const u=this.getItemFromEncryptedCache(l,t).then(h=>{h?(this.memoryStorage.setItem(l,h),r.push(l)):this.removeItem(l)});s.push(u)}),await Promise.all(s),r}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(N.LocalStorageUpdated);t.add({isBackground:!0});const{key:r,value:s,context:l}=e.data;if(!r){this.logger.error("Broadcast event missing key"),t.end({success:!1,errorCode:"noKey"});return}if(l&&l!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${l}`),t.end({success:!1,errorCode:"contextMismatch"});return}s?(this.memoryStorage.setItem(r,s),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),t.end({success:!0})}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class EM{constructor(){if(!window.sessionStorage)throw wp(Sd)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v4.16.0 2025-07-23 */const pe={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.16.0 2025-07-23 */class Qg extends zg{constructor(e,t,r,s,l,u,h){super(e,r,s,l,h),this.cacheConfig=t,this.logger=s,this.internalStorage=new Ed,this.browserStorage=tS(e,t.cacheLocation,s,l),this.temporaryCacheStorage=tS(e,t.temporaryCacheLocation,s,l),this.cookieStorage=new Mb,this.eventHandler=u}async initialize(e){await this.browserStorage.initialize(e),this.trackVersionChanges(e)}trackVersionChanges(e){const t=this.browserStorage.getItem(Rn.VERSION);t&&(this.logger.info(`MSAL.js was last initialized by version: ${t}`),this.performanceClient.addFields({previousLibraryVersion:t},e)),t!==ro&&this.setItem(Rn.VERSION,ro,e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&typeof t=="object"?t:null}catch{return null}}setItem(e,t,r){let s=[];for(let u=0;u<=20;u++)try{this.browserStorage.setItem(e,t),u>0&&this.removeAccessTokenKeys(s.slice(0,u),r);break}catch(h){const f=Hg(h);if(f.errorCode===ku&&u<20){if(s.length||(e===`${Rn.TOKEN_KEYS}.${this.clientId}`?s=JSON.parse(t).accessToken:s=this.getTokenKeys().accessToken),s.length<=u)throw f;this.removeAccessToken(s[u],r,!1)}else throw f}}async setUserData(e,t,r,s){let l=[];for(let h=0;h<=20;h++)try{await $(this.browserStorage.setUserData.bind(this.browserStorage),N.SetUserData,this.logger,this.performanceClient)(e,t,r,s),h>0&&this.removeAccessTokenKeys(l.slice(0,h),r);break}catch(f){const m=Hg(f);if(m.errorCode===ku&&h<20){if(l.length||(l=this.getTokenKeys().accessToken),l.length<=h)throw m;this.removeAccessToken(l[h],r,!1)}else throw m}}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.browserStorage.getUserData(e);if(!r)return this.removeAccountKeyFromMap(e,t),null;const s=this.validateAndParseJson(r);return!s||!jt.isAccountEntity(s)?null:zg.toObject(new jt,s)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const r=e.generateAccountKey(),s=Date.now().toString();e.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(e),t,s);const l=this.addAccountKeyToMap(r,t);this.cacheConfig.cacheLocation===At.LocalStorage&&l&&this.eventHandler.emitEvent(pe.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return Yg(this.browserStorage)}addAccountKeyToMap(e,t){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const r=this.getAccountKeys();return r.indexOf(e)===-1?(r.push(e),this.setItem(Rn.ACCOUNT_KEYS,JSON.stringify(r),t),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,t){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const r=this.getAccountKeys(),s=r.indexOf(e);if(s>-1){if(r.splice(s,1),r.length===0){this.removeItem(Rn.ACCOUNT_KEYS);return}else this.setItem(Rn.ACCOUNT_KEYS,JSON.stringify(r),t);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,t){super.removeAccount(e,t),this.removeAccountKeyFromMap(e,t)}removeAccountContext(e,t){super.removeAccountContext(e,t),this.cacheConfig.cacheLocation===At.LocalStorage&&this.eventHandler.emitEvent(pe.ACCOUNT_REMOVED,void 0,e.getAccountInfo())}removeIdToken(e,t){super.removeIdToken(e,t);const r=this.getTokenKeys(),s=r.idToken.indexOf(e);s>-1&&(this.logger.info("idToken removed from tokenKeys map"),r.idToken.splice(s,1),this.setTokenKeys(r,t))}removeAccessToken(e,t,r=!0){super.removeAccessToken(e,t),r&&this.removeAccessTokenKeys([e],t)}removeAccessTokenKeys(e,t){this.logger.trace("removeAccessTokenKey called");const r=this.getTokenKeys();let s=0;if(e.forEach(l=>{const u=r.accessToken.indexOf(l);u>-1&&(r.accessToken.splice(u,1),s++)}),s>0){this.logger.info(`removed ${s} accessToken keys from tokenKeys map`),this.setTokenKeys(r,t);return}}removeRefreshToken(e,t){super.removeRefreshToken(e,t);const r=this.getTokenKeys(),s=r.refreshToken.indexOf(e);s>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),r.refreshToken.splice(s,1),this.setTokenKeys(r,t))}getTokenKeys(){return Vg(this.clientId,this.browserStorage)}setTokenKeys(e,t){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(`${Rn.TOKEN_KEYS}.${this.clientId}`);return}else this.setItem(`${Rn.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(e),t)}getIdTokenCredential(e,t){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,t),null;const s=this.validateAndParseJson(r);return!s||!LO(s)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),s)}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=Vs(e),s=Date.now().toString();e.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(e),t,s);const l=this.getTokenKeys();l.idToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),l.idToken.push(r),this.setTokenKeys(l,t))}getAccessTokenCredential(e,t){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],t),null;const s=this.validateAndParseJson(r);return!s||!UO(s)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),s)}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=Vs(e),s=Date.now().toString();e.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(e),t,s);const l=this.getTokenKeys(),u=l.accessToken.indexOf(r);u!==-1&&l.accessToken.splice(u,1),this.logger.trace(`access token ${u===-1?"added to":"updated in"} map`),l.accessToken.push(r),this.setTokenKeys(l,t)}getRefreshTokenCredential(e,t){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,t),null;const s=this.validateAndParseJson(r);return!s||!HO(s)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),s)}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=Vs(e),s=Date.now().toString();e.lastUpdatedAt=s,await this.setUserData(r,JSON.stringify(e),t,s);const l=this.getTokenKeys();l.refreshToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),l.refreshToken.push(r),this.setTokenKeys(l,t))}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!VO(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e,t){this.logger.trace("BrowserCacheManager.setAppMetadata called");const r=YO(e);this.setItem(r,JSON.stringify(e),t)}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!qO(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,t,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t),r)}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(t);return r&&QO(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(t=>this.isAuthorityMetadata(t))}setWrapperMetadata(e,t){this.internalStorage.setItem(Xc.WRAPPER_SKU,e),this.internalStorage.setItem(Xc.WRAPPER_VER,t)}getWrapperMetadata(){const e=this.internalStorage.getItem(Xc.WRAPPER_SKU)||j.EMPTY_STRING,t=this.internalStorage.getItem(Xc.WRAPPER_VER)||j.EMPTY_STRING;return[e,t]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(e){const t=this.generateCacheKey(OT.ACTIVE_ACCOUNT_FILTERS),r=this.browserStorage.getItem(t);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const s=this.validateAndParseJson(r);return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:s.homeAccountId,localAccountId:s.localAccountId,tenantId:s.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,t){const r=this.generateCacheKey(OT.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const s={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:tn().toString()};this.setItem(r,JSON.stringify(s),t)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r);this.eventHandler.emitEvent(pe.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(t);return!r||!jO(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,t,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t),r)}getTemporaryCache(e,t){const r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const l=this.cookieStorage.getItem(r);if(l)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),l}const s=this.temporaryCacheStorage.getItem(r);if(!s){if(this.cacheConfig.cacheLocation===At.LocalStorage){const l=this.browserStorage.getItem(r);if(l)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),l}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),s}setTemporaryCache(e,t,r){const s=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(s,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(s,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(t=>{(t.indexOf(j.CACHE_PREFIX)!==-1||t.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(t)}),this.browserStorage.getKeys().forEach(t=>{(t.indexOf(j.CACHE_PREFIX)!==-1||t.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(t)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(N.ClearTokensAndKeysWithClaims,e);const t=this.getTokenKeys();let r=0;t.accessToken.forEach(s=>{const l=this.getAccessTokenCredential(s,e);l?.requestedClaimsHash&&s.includes(l.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(s,e),r++)}),r>0&&this.logger.warning(`${r} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):ai.startsWith(e,j.CACHE_PREFIX)?e:`${j.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(ht.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(ht.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(ht.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(ht.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(ht.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=al(JSON.stringify(e));if(this.setTemporaryCache(ht.REQUEST_PARAMS,r,!0),t){const s=al(t);this.setTemporaryCache(ht.VERIFIER,s,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(ht.REQUEST_PARAMS,!0);if(!e)throw se(nb);const t=this.getTemporaryCache(ht.VERIFIER,!0);let r,s="";try{r=JSON.parse(zn(e)),t&&(s=zn(t))}catch(l){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${l}`),se(ib)}return[r,s]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(ht.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress()?.clientId;return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${j.CACHE_PREFIX}.${ht.INTERACTION_STATUS_KEY}`,t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),kb(window),null}}setInteractionInProgress(e,t=gr.SIGNIN){const r=`${j.CACHE_PREFIX}.${ht.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw se(QA);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:t}),!1)}else!e&&this.getInteractionInProgress()?.clientId===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(e,t){const r=ud(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let s;t.claims&&(s=await this.cryptoImpl.hashString(t.claims));const l=dd(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?xT(e.expiresOn):0,e.extExpiresOn?xT(e.extExpiresOn):0,zn,void 0,e.tokenType,void 0,t.sshKid,t.claims,s),u={idToken:r,accessToken:l};return this.saveCacheRecord(u,e.correlationId)}async saveCacheRecord(e,t,r){try{await super.saveCacheRecord(e,t,r)}catch(s){if(s instanceof ha&&this.performanceClient&&t)try{const l=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:l.refreshToken.length,cacheIdCount:l.idToken.length,cacheAtCount:l.accessToken.length},t)}catch{}throw s}}}function tS(o,e,t,r){try{switch(e){case At.LocalStorage:return new SM(o,t,r);case At.SessionStorage:return new EM;case At.MemoryStorage:default:break}}catch(s){t.error(s)}return new Ed}const AM=(o,e,t,r)=>{const s={cacheLocation:At.MemoryStorage,temporaryCacheLocation:At.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Qg(o,s,Eu,e,t,r)};/*! @azure/msal-browser v4.16.0 2025-07-23 */function bM(o,e,t,r,s){return o.verbose("getAllAccounts called"),t?e.getAllAccounts(s||{},r):[]}function wM(o,e,t,r){if(e.trace("getAccount called"),Object.keys(o).length===0)return e.warning("getAccount: No accountFilter provided"),null;const s=t.getAccountInfoFilteredBy(o,r);return s?(e.verbose("getAccount: Account matching provided filter found, returning"),s):(e.verbose("getAccount: No matching account found, returning null"),null)}function kM(o,e,t,r){if(e.trace("getAccountByUsername called"),!o)return e.warning("getAccountByUsername: No username provided"),null;const s=t.getAccountInfoFilteredBy({username:o},r);return s?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${o}`),s):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function RM(o,e,t,r){if(e.trace("getAccountByHomeId called"),!o)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const s=t.getAccountInfoFilteredBy({homeAccountId:o},r);return s?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${o}`),s):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function OM(o,e,t,r){if(e.trace("getAccountByLocalId called"),!o)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const s=t.getAccountInfoFilteredBy({localAccountId:o},r);return s?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${o}`),s):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function IM(o,e,t){e.setActiveAccount(o,t)}function NM(o,e){return o.getActiveAccount(e)}/*! @azure/msal-browser v4.16.0 2025-07-23 */const MM="msal.broadcast.event";class xM{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Er({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(MM)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,r){if(typeof window<"u"){const s=r||dM();return this.eventCallbacks.has(s)?(this.logger.error(`Event callback with id: ${s} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(s,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${s}`),s)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,r,s){const l={eventType:e,interactionType:t||null,payload:r||null,error:s||null,timestamp:Date.now()};switch(e){case pe.ACCOUNT_ADDED:case pe.ACCOUNT_REMOVED:case pe.ACTIVE_ACCOUNT_CHANGED:this.broadcastChannel?.postMessage(l);break;default:this.invokeCallbacks(l);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([t,r],s)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${s}: ${e.eventType}`),t.apply(null,[e]))})}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class xb{constructor(e,t,r,s,l,u,h,f,m){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=l,this.navigationClient=u,this.platformAuthProvider=f,this.correlationId=m||Gn(),this.logger=s.clone(Wt.MSAL_SKU,ro,this.correlationId),this.performanceClient=h}async clearCacheOnLogout(e,t){if(t){jt.accountInfoIsEqual(t,this.browserStorage.getActiveAccount(e),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null,e));try{this.browserStorage.removeAccount(jt.generateAccountCacheKey(t),e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Ue.getAbsoluteUrl(t,Di())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new rl(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(N.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const s={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},l=e.requestAuthority||this.config.auth.authority,u=r?.length?r==="true":this.config.auth.instanceAware,h=t&&u?this.config.auth.authority.replace(Ue.getDomainFromUrl(l),t.environment):l,f=Ut.generateAuthority(h,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),m=await $(DA,N.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(f,this.config.system.networkClient,this.browserStorage,s,this.logger,this.correlationId,this.performanceClient);if(t&&!m.isAlias(t.environment))throw Je(uA);return m}}/*! @azure/msal-browser v4.16.0 2025-07-23 */async function Ip(o,e,t,r){t.addQueueMeasurement(N.InitializeBaseRequest,o.correlationId);const s=o.authority||e.auth.authority,l=[...o&&o.scopes||[]],u={...o,correlationId:o.correlationId,authority:s,scopes:l};if(!u.authenticationScheme)u.authenticationScheme=qe.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(u.authenticationScheme===qe.SSH){if(!o.sshJwk)throw Je(hd);if(!o.sshKid)throw Je(sA)}r.verbose(`Authentication Scheme set to "${u.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&o.claims&&!ai.isEmptyObj(o.claims)&&(u.requestedClaimsHash=await bb(o.claims)),u}async function DM(o,e,t,r,s){r.addQueueMeasurement(N.InitializeSilentRequest,o.correlationId);const l=await $(Ip,N.InitializeBaseRequest,s,r,o.correlationId)(o,t,r,s);return{...o,...l,account:e,forceRefresh:o.forceRefresh||!1}}function Db(o,e){let t;const r=o.httpMethod;if(e===Zt.EAR){if(t=r||Xr.POST,t!==Xr.POST)throw Je(dA)}else t=r||Xr.GET;if(o.authorizePostBodyParameters&&t!==Xr.POST)throw Je(hA);return t}/*! @azure/msal-browser v4.16.0 2025-07-23 */class Ma extends xb{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||Gn(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Ue.getAbsoluteUrl(e.postLogoutRedirectUri,Di())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Ue.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Di())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Ue.getAbsoluteUrl(Di(),Di())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(N.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const t=await $(this.getClientConfiguration.bind(this),N.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new HA(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:r,requestAzureCloudOptions:s,requestExtraQueryParameters:l,account:u}=e;this.performanceClient.addQueueMeasurement(N.StandardInteractionClientGetClientConfiguration,this.correlationId);const h=await $(this.getDiscoveredAuthority.bind(this),N.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:s,requestExtraQueryParameters:l,account:u}),f=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:h,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:f.loggerCallback,piiLoggingEnabled:f.piiLoggingEnabled,logLevel:f.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:Wt.MSAL_SKU,version:ro,cpu:j.EMPTY_STRING,os:j.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(N.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),s={interactionType:t},l=Ia.setRequestState(this.browserCrypto,e&&e.state||j.EMPTY_STRING,s),h={...await $(Ip,N.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:l,nonce:e.nonce||Gn(),responseMode:this.config.auth.OIDCOptions.serverResponseType},f={...h,httpMethod:Db(h,this.config.auth.protocolMode)};if(e.loginHint||e.sid)return f;const m=e.account||this.browserStorage.getActiveAccount(this.correlationId);return m&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${m.homeAccountId}`,this.correlationId),f.account=m),f}}/*! @azure/msal-browser v4.16.0 2025-07-23 */function PM(o,e){if(!e)return null;try{return Ia.parseRequestState(o,e).libraryState.meta}catch{throw Z(ya)}}/*! @azure/msal-browser v4.16.0 2025-07-23 */function $s(o,e,t){const r=bu(o);if(!r)throw gA(o)?(t.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),t.errorPii(`The ${e} detected is: ${o}`),se(jA)):(t.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),se(qA));return r}function UM(o,e,t){if(!o.state)throw se(mp);const r=PM(e,o.state);if(!r)throw se(YA);if(r.interactionType!==t)throw se(VA)}/*! @azure/msal-browser v4.16.0 2025-07-23 */class Pb{constructor(e,t,r,s,l){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.logger=s,this.performanceClient=l}async handleCodeResponse(e,t){this.performanceClient.addQueueMeasurement(N.HandleCodeResponse,t.correlationId);let r;try{r=wN(e,t.state)}catch(s){throw s instanceof mo&&s.subError===ol?se(ol):s}return $(this.handleCodeResponseFromServer.bind(this),N.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(r,t)}async handleCodeResponseFromServer(e,t,r=!0){if(this.performanceClient.addQueueMeasurement(N.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await $(this.authModule.updateAuthority.bind(this.authModule),N.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),r&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const l=this.createCcsCredentials(t);l&&(this.authCodeRequest.ccsCredential=l)}return await $(this.authModule.acquireToken.bind(this.authModule),N.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Hn.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Hn.UPN}:null}}/*! @azure/msal-browser v4.16.0 2025-07-23 */const LM="ContentError",Ub="user_switch";/*! @azure/msal-browser v4.16.0 2025-07-23 */const HM="USER_INTERACTION_REQUIRED",zM="USER_CANCEL",BM="NO_NETWORK",KM="PERSISTENT_ERROR",FM="DISABLED",GM="ACCOUNT_UNAVAILABLE",qM="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.16.0 2025-07-23 */const jM=-2147186943,YM={[Ub]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class ri extends $e{constructor(e,t,r){super(e,t),Object.setPrototypeOf(this,ri.prototype),this.name="NativeAuthError",this.ext=r}}function sa(o){if(o.ext&&o.ext.status&&(o.ext.status===KM||o.ext.status===FM)||o.ext&&o.ext.error&&o.ext.error===jM)return!0;switch(o.errorCode){case LM:return!0;default:return!1}}function Lu(o,e,t){if(t&&t.status)switch(t.status){case GM:return Mu(PA);case HM:return new Fn(o,e);case zM:return se(ol);case BM:return se(xu);case qM:return Mu(lp)}return new ri(o,YM[o]||e,t)}/*! @azure/msal-browser v4.16.0 2025-07-23 */class Lb extends Ma{async acquireToken(e){this.performanceClient.addQueueMeasurement(N.SilentCacheClientAcquireToken,e.correlationId);const t=this.initializeServerTelemetryManager(Qe.acquireTokenSilent_silentFlow),r=await $(this.getClientConfiguration.bind(this),N.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),s=new EN(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const u=(await $(s.acquireCachedToken.bind(s),N.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),u}catch(l){throw l instanceof Cl&&l.errorCode===pp&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),l}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t.correlationId,t?.account)}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class fu extends xb{constructor(e,t,r,s,l,u,h,f,m,p,v,C){super(e,t,r,s,l,u,f,m,C),this.apiId=h,this.accountId=p,this.platformAuthProvider=m,this.nativeStorageManager=v,this.silentCacheClient=new Lb(e,this.nativeStorageManager,r,s,l,u,f,m,C);const S=this.platformAuthProvider.getExtensionName();this.skus=rl.makeExtraSkuString({libraryName:Wt.MSAL_SKU,libraryVersion:ro,extensionName:S,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[YI]:this.skus}}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(N.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(N.NativeInteractionClientAcquireToken,e.correlationId),s=tn(),l=this.initializeServerTelemetryManager(this.apiId);try{const u=await this.initializeNativeRequest(e);try{const f=await this.acquireTokensFromCache(this.accountId,u);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),f}catch(f){if(t===Kt.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),f;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const h=await this.platformAuthProvider.sendMessage(u);return await this.handleNativeResponse(h,u,s).then(f=>(r.end({success:!0,isNativeBroker:!0,requestId:f.requestId}),l.clearNativeBrokerErrorCode(),f)).catch(f=>{throw r.end({success:!1,errorCode:f.errorCode,subErrorCode:f.subError,isNativeBroker:!0}),f})}catch(u){throw u instanceof ri&&l.setNativeBrokerErrorCode(u.errorCode),u}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:pt.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),Z(Pg);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!r)throw Z(Pg);try{const s=this.createSilentCacheRequest(t,r),l=await this.silentCacheClient.acquireToken(s),u={...r,idTokenClaims:l?.idTokenClaims,idToken:l?.idToken};return{...l,account:u}}catch(s){throw s}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const s=await this.initializeNativeRequest(r);try{await this.platformAuthProvider.sendMessage(s)}catch(h){if(h instanceof ri&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(h.errorCode),sa(h)))throw h}this.browserStorage.setTemporaryCache(ht.NATIVE_REQUEST,JSON.stringify(s),!0);const l={apiId:Qe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(u,l)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:s,...l}=r;s&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ht.NATIVE_REQUEST));const u=tn();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const h=await this.platformAuthProvider.sendMessage(l),f=await this.handleNativeResponse(h,l,u);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),f}catch(h){throw h}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,r){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const s=Oa(e.id_token,zn),l=this.createHomeAccountIdentifier(e,s),u=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId},this.correlationId)?.homeAccountId;if(t.extraParameters?.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(l!==u&&e.account.id!==t.accountId)throw Lu(Ub);const h=await this.getDiscoveredAuthority({requestAuthority:t.authority}),f=cp(this.browserStorage,h,l,zn,this.correlationId,s,e.client_info,void 0,s.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const m=await this.generateAuthenticationResult(e,t,s,f,h.canonicalAuthority,r);return await this.cacheAccount(f,this.correlationId),await this.cacheNativeTokens(e,t,l,s,e.access_token,m.tenantId,r),m}createHomeAccountIdentifier(e,t){return jt.generateHomeAccountId(e.client_info||j.EMPTY_STRING,Ln.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return t?pt.fromString(t):pt.fromString(e)}async generatePopAccessToken(e,t){if(t.tokenType===qe.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new va(this.browserCrypto),s={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw Z(Lm);return r.signPopToken(e.access_token,t.keyId,s)}else return e.access_token}async generateAuthenticationResult(e,t,r,s,l,u){const h=this.addTelemetryFromNativeResponse(e.properties.MATS),f=this.generateScopes(t.scope,e.scope),m=e.account.properties||{},p=m.UID||r.oid||r.sub||j.EMPTY_STRING,v=m.TenantId||r.tid||j.EMPTY_STRING,C=Vm(s.getAccountInfo(),void 0,r,e.id_token);C.nativeAccountId!==e.account.id&&(C.nativeAccountId=e.account.id);const S=await this.generatePopAccessToken(e,t),T=t.tokenType===qe.POP?qe.POP:qe.BEARER;return{authority:l,uniqueId:p,tenantId:v,scopes:f.asArray(),account:C,idToken:e.id_token,idTokenClaims:r,accessToken:S,fromCache:h?this.isResponseFromCache(h):!1,expiresOn:ua(u+e.expires_in),tokenType:T,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,t){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e,t)}cacheNativeTokens(e,t,r,s,l,u,h){const f=ud(r,t.authority,e.id_token||"",t.clientId,s.tid||""),m=t.tokenType===qe.POP?j.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,p=h+m,v=this.generateScopes(e.scope,t.scope),C=dd(r,t.authority,l,t.clientId,s.tid||u,v.printScopes(),p,0,zn,void 0,t.tokenType,void 0,t.keyId),S={idToken:f,accessToken:C};return this.nativeStorageManager.saveCacheRecord(S,this.correlationId,t.storeInCache)}getExpiresInValue(e,t){return e===qe.POP?j.SHR_NONCE_VALIDITY:(typeof t=="string"?parseInt(t,10):t)||0}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=await this.getCanonicalAuthority(e),{scopes:r,...s}=e,l=new pt(r||[]);l.appendScopes(vl);const u={...s,accountId:this.accountId,clientId:this.config.auth.clientId,authority:t.urlString,scope:l.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(u.signPopToken&&e.popKid)throw se(mb);if(this.handleExtraBrokerParams(u),u.extraParameters=u.extraParameters||{},u.extraParameters.telemetry=On.MATS_TELEMETRY,e.authenticationScheme===qe.POP){const h={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},f=new va(this.browserCrypto);let m;if(u.keyId)m=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:u.keyId})),u.signPopToken=!1;else{const p=await $(f.generateCnf.bind(f),N.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(h,this.logger);m=p.reqCnfString,u.keyId=p.kid,u.signPopToken=!0}u.reqCnf=m}return this.addRequestSKUs(u),u}async getCanonicalAuthority(e){const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new Ue(t);return r.validateAsUri(),r}getPrompt(e){switch(this.apiId){case Qe.ssoSilent:case Qe.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Gt.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case Gt.NONE:case Gt.CONSENT:case Gt.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),se(fb)}}handleExtraBrokerParams(e){const t=e.extraParameters&&e.extraParameters.hasOwnProperty(Ru)&&e.extraParameters.hasOwnProperty(Ou)&&e.extraParameters.hasOwnProperty(no);if(!e.embeddedClientId&&!t)return;let r="";const s=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[Ou],r=e.extraParameters[no]),e.extraParameters={child_client_id:r,child_redirect_uri:s},this.performanceClient?.addFields({embeddedClientId:r,embeddedRedirectUri:s},e.correlationId)}}/*! @azure/msal-browser v4.16.0 2025-07-23 */async function Np(o,e,t,r,s){const l=bN({...o.auth,authority:e},t,r,s);if(np(l,{sku:Wt.MSAL_SKU,version:ro,os:"",cpu:""}),o.auth.protocolMode!==Zt.OIDC&&ip(l,o.telemetry.application),t.platformBroker&&(XI(l),t.authenticationScheme===qe.POP)){const u=new Li(r,s),h=new va(u);let f;t.popKid?f=u.encodeKid(t.popKid):f=(await $(h.generateCnf.bind(h),N.PopTokenGenerateCnf,r,s,t.correlationId)(t,r)).reqCnfString,op(l,f)}return fd(l,t.correlationId,s),l}async function Mp(o,e,t,r,s){if(!t.codeChallenge)throw Je(Gm);const l=await $(Np,N.GetStandardParams,r,s,t.correlationId)(o,e,t,r,s);return Xm(l,Im.CODE),AA(l,t.codeChallenge,j.S256_CODE_CHALLENGE_METHOD),_r(l,t.extraQueryParameters||{}),up(e,l,o.auth.encodeExtraQueryParams,t.extraQueryParameters)}async function xp(o,e,t,r,s,l){if(!r.earJwk)throw se(gp);const u=await Np(e,t,r,s,l);Xm(u,Im.IDTOKEN_TOKEN_REFRESHTOKEN),sN(u,r.earJwk);const h=new Map;_r(h,r.extraQueryParameters||{});const f=up(t,h,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return Hb(o,f,u)}async function Dp(o,e,t,r,s,l){const u=await Np(e,t,r,s,l);Xm(u,Im.CODE),AA(u,r.codeChallenge,r.codeChallengeMethod||j.S256_CODE_CHALLENGE_METHOD),lN(u,r.authorizePostBodyParameters||{});const h=new Map;_r(h,r.extraQueryParameters||{});const f=up(t,h,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return Hb(o,f,u)}function Hb(o,e,t){const r=o.createElement("form");return r.method="post",r.action=e,t.forEach((s,l)=>{const u=o.createElement("input");u.hidden=!0,u.name=l,u.value=s,r.appendChild(u)}),o.body.appendChild(r),r}async function zb(o,e,t,r,s,l,u,h,f,m){if(h.verbose("Account id found, calling WAM for token"),!m)throw se(vp);const p=new Li(h,f),v=new fu(r,s,p,h,u,r.system.navigationClient,t,f,m,e,l,o.correlationId),{userRequestState:C}=Ia.parseRequestState(p,o.state);return $(v.acquireToken.bind(v),N.NativeInteractionClientAcquireToken,h,f,o.correlationId)({...o,state:C,prompt:void 0})}async function Hu(o,e,t,r,s,l,u,h,f,m,p,v){if(ii.removeThrottle(u,s.auth.clientId,o),e.accountId)return $(zb,N.HandleResponsePlatformBroker,m,p,o.correlationId)(o,e.accountId,r,s,u,h,f,m,p,v);const C={...o,code:e.code||"",codeVerifier:t},S=new Pb(l,u,C,m,p);return await $(S.handleCodeResponse.bind(S),N.HandleCodeResponse,m,p,o.correlationId)(e,o)}async function Pp(o,e,t,r,s,l,u,h,f,m,p){if(ii.removeThrottle(l,r.auth.clientId,o),zA(e,o.state),!e.ear_jwe)throw se(GA);if(!o.earJwk)throw se(gp);const v=JSON.parse(await $(nM,N.DecryptEarResponse,f,m,o.correlationId)(o.earJwk,e.ear_jwe));if(v.accountId)return $(zb,N.HandleResponsePlatformBroker,f,m,o.correlationId)(o,v.accountId,t,r,l,u,h,f,m,p);const C=new io(r.auth.clientId,l,new Li(f,m),f,null,null,m);C.validateTokenResponse(v);const S={code:"",state:o.state,nonce:o.nonce,client_info:v.client_info,cloud_graph_host_name:v.cloud_graph_host_name,cloud_instance_host_name:v.cloud_instance_host_name,cloud_instance_name:v.cloud_instance_name,msgraph_host:v.msgraph_host};return await $(C.handleServerTokenResponse.bind(C),N.HandleServerTokenResponse,f,m,o.correlationId)(v,s,tn(),o,S,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.16.0 2025-07-23 */const VM=32;async function Ad(o,e,t){o.addQueueMeasurement(N.GeneratePkceCodes,t);const r=vn(QM,N.GenerateCodeVerifier,e,o,t)(o,e,t),s=await $($M,N.GenerateCodeChallengeFromVerifier,e,o,t)(r,o,e,t);return{verifier:r,challenge:s}}function QM(o,e,t){try{const r=new Uint8Array(VM);return vn(JN,N.GetRandomValues,e,o,t)(r),Ar(r)}catch{throw se(fp)}}async function $M(o,e,t,r){e.addQueueMeasurement(N.GenerateCodeChallengeFromVerifier,r);try{const s=await $(Sb,N.Sha256Digest,t,e,r)(o,e,r);return Ar(new Uint8Array(s))}catch{throw se(fp)}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class zu{constructor(e,t,r,s){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=s,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(N.NativeMessageHandlerHandshake),this.platformAuthType=On.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const t={method:zs.GetToken,request:e},r={channel:On.CHANNEL_ID,extensionId:this.extensionId,responseId:Gn(),body:t};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(r)}`),this.messageChannel.port1.postMessage(r);const s=await new Promise((u,h)=>{this.resolvers.set(r.responseId,{resolve:u,reject:h})});return this.validatePlatformBrokerResponse(s)}static async createProvider(e,t,r){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const s=new zu(e,t,r,On.PREFERRED_EXTENSION_ID);return await s.sendHandshakeRequest(),s}catch{const l=new zu(e,t,r);return await l.sendHandshakeRequest(),l}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:On.CHANNEL_ID,extensionId:this.extensionId,responseId:Gn(),body:{method:zs.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=t=>{this.onChannelMessage(t)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((t,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(se(db)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const t=e.data;if(!(!t.channel||t.channel!==On.CHANNEL_ID)&&!(t.extensionId&&t.extensionId!==this.extensionId)&&t.body.method===zs.HandshakeRequest){const r=this.handshakeResolvers.get(t.responseId);if(!r){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${t.responseId}`);return}this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(se(hb))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const t=e.data,r=this.resolvers.get(t.responseId),s=this.handshakeResolvers.get(t.responseId);try{const l=t.body.method;if(l===zs.Response){if(!r)return;const u=t.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(u)}`),u.status!=="Success")r.reject(Lu(u.code,u.description,u.ext));else if(u.result)u.result.code&&u.result.description?r.reject(Lu(u.result.code,u.result.description,u.result.ext)):r.resolve(u.result);else throw Mg(Su,"Event does not contain result.");this.resolvers.delete(t.responseId)}else if(l===zs.HandshakeResponse){if(!s){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${t.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),s.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(l){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${l}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(l):s&&s.reject(l)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Mg(Su,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){return this.getExtensionId()===On.PREFERRED_EXTENSION_ID?"chrome":this.getExtensionId()?.length?"unknown":void 0}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class Up{constructor(e,t,r){this.logger=e,this.performanceClient=t,this.correlationId=r,this.platformAuthType=On.PLATFORM_DOM_PROVIDER}static async createProvider(e,t,r){if(e.trace("PlatformAuthDOMHandler: createProvider called"),window.navigator?.platformAuthentication&&(await window.navigator.platformAuthentication.getSupportedContracts(On.MICROSOFT_ENTRA_BROKERID))?.includes(On.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new Up(e,t,r)}getExtensionId(){return On.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return On.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const t=this.initializePlatformDOMRequest(e),r=await window.navigator.platformAuthentication.executeGetToken(t);return this.validatePlatformBrokerResponse(r)}catch(t){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),t}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:t,clientId:r,authority:s,scope:l,redirectUri:u,correlationId:h,state:f,storeInCache:m,embeddedClientId:p,extraParameters:v,...C}=e,S=this.getDOMExtraParams(C);return{accountId:t,brokerId:this.getExtensionId(),authority:s,clientId:r,correlationId:h||this.correlationId,extraParameters:{...v,...S},isSecurityTokenService:!1,redirectUri:u,scope:l,state:f,storeInCache:m,embeddedClientId:p}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const t=e;if(t.isSuccess===!1&&t.error&&t.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Lu(t.error.code,t.error.description,{error:parseInt(t.error.errorCode),protocol_error:t.error.protocolError,status:t.error.status,properties:t.error.properties})}}throw Mg(Su,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((s,[l,u])=>(s[l]=String(u),s),{})}}}/*! @azure/msal-browser v4.16.0 2025-07-23 */async function XM(o,e,t,r){o.trace("getPlatformAuthProvider called",t);const s=JM();o.trace("Has client allowed platform auth via DOM API: "+s);let l;try{s&&(l=await Up.createProvider(o,e,t)),l||(o.trace("Platform auth via DOM API not available, checking for extension"),l=await zu.createProvider(o,r||Nb,e))}catch(u){o.trace("Platform auth not available",u)}return l}function JM(){let o;try{return o=window[At.SessionStorage],o?.getItem(qN)==="true"}catch{return!1}}function sl(o,e,t,r){if(e.trace("isPlatformAuthAllowed called"),!o.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!t)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case qe.BEARER:case qe.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.16.0 2025-07-23 */class WM extends Ma{constructor(e,t,r,s,l,u,h,f,m,p){super(e,t,r,s,l,u,h,m,p),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=f,this.eventHandler=l}acquireToken(e,t){let r;try{if(r={popupName:this.generatePopupName(e.scopes||vl,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,t);{const l={...e,httpMethod:Db(e,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(l,r,t)}}catch(s){return Promise.reject(s)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},s=e&&e.authority,l=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,r,s,l)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(t,r,s,l))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,r){this.logger.verbose("acquireTokenPopupAsync called");const s=await $(this.initializeAuthorizationRequest.bind(this),N.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,Ce.Popup);t.popup&&Ib(s.authority);const l=sl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return s.platformBroker=l,this.config.auth.protocolMode===Zt.EAR?this.executeEarFlow(s,t):this.executeCodeFlow(s,t,r)}async executeCodeFlow(e,t,r){const s=e.correlationId,l=this.initializeServerTelemetryManager(Qe.acquireTokenPopup),u=r||await $(Ad,N.GeneratePkceCodes,this.logger,this.performanceClient,s)(this.performanceClient,this.logger,s),h={...e,codeChallenge:u.challenge};try{const f=await $(this.createAuthCodeClient.bind(this),N.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,s)({serverTelemetryManager:l,requestAuthority:h.authority,requestAzureCloudOptions:h.azureCloudOptions,requestExtraQueryParameters:h.extraQueryParameters,account:h.account});if(h.httpMethod===Xr.POST)return await this.executeCodeFlowWithPost(h,t,f,u.verifier);{const m=await $(Mp,N.GetAuthCodeUrl,this.logger,this.performanceClient,s)(this.config,f.authority,h,this.logger,this.performanceClient),p=this.initiateAuthRequest(m,t);this.eventHandler.emitEvent(pe.POPUP_OPENED,Ce.Popup,{popupWindow:p},null);const v=await this.monitorPopupForHash(p,t.popupWindowParent),C=vn($s,N.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(v,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await $(Hu,N.HandleResponseCode,this.logger,this.performanceClient,s)(e,C,u.verifier,Qe.acquireTokenPopup,this.config,f,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(f){throw t.popup?.close(),f instanceof $e&&(f.setCorrelationId(this.correlationId),l.cacheFailedRequest(f)),f}}async executeEarFlow(e,t){const r=e.correlationId,s=await $(this.getDiscoveredAuthority.bind(this),N.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),l=await $(Ep,N.GenerateEarKey,this.logger,this.performanceClient,r)(),u={...e,earJwk:l},h=t.popup||this.openPopup("about:blank",t);(await xp(h.document,this.config,s,u,this.logger,this.performanceClient)).submit();const m=await $(this.monitorPopupForHash.bind(this),N.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(h,t.popupWindowParent),p=vn($s,N.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(m,this.config.auth.OIDCOptions.serverResponseType,this.logger);return $(Pp,N.HandleResponseEar,this.logger,this.performanceClient,r)(u,p,Qe.acquireTokenPopup,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,t,r,s){const l=e.correlationId,u=await $(this.getDiscoveredAuthority.bind(this),N.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,l)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),h=t.popup||this.openPopup("about:blank",t);(await Dp(h.document,this.config,u,e,this.logger,this.performanceClient)).submit();const m=await $(this.monitorPopupForHash.bind(this),N.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,l)(h,t.popupWindowParent),p=vn($s,N.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(m,this.config.auth.OIDCOptions.serverResponseType,this.logger);return $(Hu,N.HandleResponseCode,this.logger,this.performanceClient,l)(e,p,s,Qe.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,t,r,s){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(pe.LOGOUT_START,Ce.Popup,e);const l=this.initializeServerTelemetryManager(Qe.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const u=await $(this.createAuthCodeClient.bind(this),N.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:l,requestAuthority:r,account:e.account||void 0});try{u.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&u.authority.protocolMode===Zt.OIDC){if(this.browserStorage.removeAccount(e.account?.homeAccountId,this.correlationId),this.eventHandler.emitEvent(pe.LOGOUT_SUCCESS,Ce.Popup,e),s){const m={apiId:Qe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},p=Ue.getAbsoluteUrl(s,Di());await this.navigationClient.navigateInternal(p,m)}t.popup?.close();return}}const h=u.getLogoutUri(e);this.eventHandler.emitEvent(pe.LOGOUT_SUCCESS,Ce.Popup,e);const f=this.openPopup(h,t);if(this.eventHandler.emitEvent(pe.POPUP_OPENED,Ce.Popup,{popupWindow:f},null),await this.monitorPopupForHash(f,t.popupWindowParent).catch(()=>{}),s){const m={apiId:Qe.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},p=Ue.getAbsoluteUrl(s,Di());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${p}`),await this.navigationClient.navigateInternal(p,m)}else this.logger.verbose("No main window navigation requested")}catch(u){throw t.popup?.close(),u instanceof $e&&(u.setCorrelationId(this.correlationId),l.cacheFailedRequest(u)),this.eventHandler.emitEvent(pe.LOGOUT_FAILURE,Ce.Popup,null,u),this.eventHandler.emitEvent(pe.LOGOUT_END,Ce.Popup),u}this.eventHandler.emitEvent(pe.LOGOUT_END,Ce.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),se(Cd)}monitorPopupForHash(e,t){return new Promise((r,s)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const l=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(l),s(se(ol));return}let u="";try{u=e.location.href}catch{}if(!u||u==="about:blank")return;clearInterval(l);let h="";const f=this.config.auth.OIDCOptions.serverResponseType;e&&(f===cd.QUERY?h=e.location.search:h=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(h)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,t)})}openPopup(e,t){try{let r;if(t.popup?(r=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof t.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,t)),!r)throw se(XA);return r.focus&&r.focus(),this.currentWindow=r,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),se($A)}}openSizedPopup(e,{popupName:t,popupWindowAttributes:r,popupWindowParent:s}){const l=s.screenLeft?s.screenLeft:s.screenX,u=s.screenTop?s.screenTop:s.screenY,h=s.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,f=s.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let m=r.popupSize?.width,p=r.popupSize?.height,v=r.popupPosition?.top,C=r.popupPosition?.left;return(!m||m<0||m>h)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),m=Wt.POPUP_WIDTH),(!p||p<0||p>f)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),p=Wt.POPUP_HEIGHT),(!v||v<0||v>f)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),v=Math.max(0,f/2-Wt.POPUP_HEIGHT/2+u)),(!C||C<0||C>h)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),C=Math.max(0,h/2-Wt.POPUP_WIDTH/2+l)),s.open(e,t,`width=${m}, height=${p}, top=${v}, left=${C}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return`${Wt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${Wt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}/*! @azure/msal-browser v4.16.0 2025-07-23 */function ZM(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const o=window.performance.getEntriesByType("navigation");return(o.length?o[0]:void 0)?.type}class ex extends Ma{constructor(e,t,r,s,l,u,h,f,m,p){super(e,t,r,s,l,u,h,m,p),this.nativeStorage=f}async acquireToken(e){const t=await $(this.initializeAuthorizationRequest.bind(this),N.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,Ce.Redirect);t.platformBroker=sl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const r=l=>{l.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(pe.RESTORE_FROM_BFCACHE,Ce.Redirect))},s=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${s}`),this.browserStorage.setTemporaryCache(ht.ORIGIN_URI,s,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===Zt.EAR?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(l){throw l instanceof $e&&l.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),l}}async executeCodeFlow(e,t){const r=e.correlationId,s=this.initializeServerTelemetryManager(Qe.acquireTokenRedirect),l=await $(Ad,N.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),u={...e,codeChallenge:l.challenge};this.browserStorage.cacheAuthorizeRequest(u,l.verifier);try{if(u.httpMethod===Xr.POST)return await this.executeCodeFlowWithPost(u);{const h=await $(this.createAuthCodeClient.bind(this),N.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:u.authority,requestAzureCloudOptions:u.azureCloudOptions,requestExtraQueryParameters:u.extraQueryParameters,account:u.account}),f=await $(Mp,N.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,h.authority,u,this.logger,this.performanceClient);return await this.initiateAuthRequest(f,t)}}catch(h){throw h instanceof $e&&(h.setCorrelationId(this.correlationId),s.cacheFailedRequest(h)),h}}async executeEarFlow(e){const t=e.correlationId,r=await $(this.getDiscoveredAuthority.bind(this),N.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),s=await $(Ep,N.GenerateEarKey,this.logger,this.performanceClient,t)(),l={...e,earJwk:s};return this.browserStorage.cacheAuthorizeRequest(l),(await xp(document,this.config,r,l,this.logger,this.performanceClient)).submit(),new Promise((h,f)=>{setTimeout(()=>{f(se(Pu,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const t=e.correlationId,r=await $(this.getDiscoveredAuthority.bind(this),N.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await Dp(document,this.config,r,e,this.logger,this.performanceClient)).submit(),new Promise((l,u)=>{setTimeout(()=>{u(se(Pu,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",t,r,s){const l=this.initializeServerTelemetryManager(Qe.handleRedirectPromise);try{const[u,h]=this.getRedirectResponse(e||"");if(!u)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),ZM()!=="back_forward"?s.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const f=this.browserStorage.getTemporaryCache(ht.ORIGIN_URI,!0)||j.EMPTY_STRING,m=Ue.removeHashFromUrl(f),p=Ue.removeHashFromUrl(window.location.href);if(m===p&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),f.indexOf("#")>-1&&oM(f),await this.handleResponse(u,t,r,l);if(this.config.auth.navigateToLoginRequestUrl){if(!kp()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(ht.URL_HASH,h,!0);const v={apiId:Qe.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let C=!0;if(!f||f==="null"){const S=sM();this.browserStorage.setTemporaryCache(ht.ORIGIN_URI,S,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),C=await this.navigationClient.navigateInternal(S,v)}else this.logger.verbose(`Navigating to loginRequestUrl: ${f}`),C=await this.navigationClient.navigateInternal(f,v);if(!C)return await this.handleResponse(u,t,r,l)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(u,t,r,l);return null}catch(u){throw u instanceof $e&&(u.setCorrelationId(this.correlationId),l.cacheFailedRequest(u)),u}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(this.config.auth.OIDCOptions.serverResponseType===cd.QUERY?t=window.location.search:t=window.location.hash);let r=bu(t);if(r){try{UM(r,this.browserCrypto,Ce.Redirect)}catch(l){return l instanceof $e&&this.logger.error(`Interaction type validation failed due to ${l.errorCode}: ${l.errorMessage}`),[null,""]}return kb(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,t]}const s=this.browserStorage.getTemporaryCache(ht.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(ht.URL_HASH)),s&&(r=bu(s),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,s]):[null,""]}async handleResponse(e,t,r,s){if(!e.state)throw se(mp);if(e.ear_jwe){const h=await $(this.getDiscoveredAuthority.bind(this),N.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return $(Pp,N.HandleResponseEar,this.logger,this.performanceClient,t.correlationId)(t,e,Qe.acquireTokenRedirect,this.config,h,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const u=await $(this.createAuthCodeClient.bind(this),N.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:s,requestAuthority:t.authority});return $(Hu,N.HandleResponseCode,this.logger,this.performanceClient,t.correlationId)(t,e,r,Qe.acquireTokenRedirect,this.config,u,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:Qe.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=t||this.config.auth.onRedirectNavigate;if(typeof s=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),s(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),se(Cd)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Qe.logout);try{this.eventHandler.emitEvent(pe.LOGOUT_START,Ce.Redirect,e),await this.clearCacheOnLogout(this.correlationId,t.account);const s={apiId:Qe.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},l=await $(this.createAuthCodeClient.bind(this),N.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(l.authority.protocolMode===Zt.OIDC)try{l.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId){this.browserStorage.removeAccount(t.account?.homeAccountId,this.correlationId),this.eventHandler.emitEvent(pe.LOGOUT_SUCCESS,Ce.Redirect,t);return}}const u=l.getLogoutUri(t);if(this.eventHandler.emitEvent(pe.LOGOUT_SUCCESS,Ce.Redirect,t),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(u)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,gr.SIGNOUT),await this.navigationClient.navigateExternal(u,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,gr.SIGNOUT),await this.navigationClient.navigateExternal(u,s);return}}catch(s){throw s instanceof $e&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(pe.LOGOUT_FAILURE,Ce.Redirect,null,s),this.eventHandler.emitEvent(pe.LOGOUT_END,Ce.Redirect),s}this.eventHandler.emitEvent(pe.LOGOUT_END,Ce.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Ue.getAbsoluteUrl(t,Di())}}/*! @azure/msal-browser v4.16.0 2025-07-23 */async function tx(o,e,t,r,s){if(e.addQueueMeasurement(N.SilentHandlerInitiateAuthRequest,r),!o)throw t.info("Navigate url is empty"),se(Cd);return s?$(rx,N.SilentHandlerLoadFrame,t,e,r)(o,s,e,r):vn(ox,N.SilentHandlerLoadFrameSync,t,e,r)(o)}async function nx(o,e,t,r,s){const l=bd();if(!l.contentDocument)throw"No document associated with iframe!";return(await Dp(l.contentDocument,o,e,t,r,s)).submit(),l}async function ix(o,e,t,r,s){const l=bd();if(!l.contentDocument)throw"No document associated with iframe!";return(await xp(l.contentDocument,o,e,t,r,s)).submit(),l}async function nS(o,e,t,r,s,l,u){return r.addQueueMeasurement(N.SilentHandlerMonitorIframeForHash,l),new Promise((h,f)=>{e<qg&&s.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${qg}ms). This may result in timeouts.`);const m=window.setTimeout(()=>{window.clearInterval(p),f(se(JA))},e),p=window.setInterval(()=>{let v="";const C=o.contentWindow;try{v=C?C.location.href:""}catch{}if(!v||v==="about:blank")return;let S="";C&&(u===cd.QUERY?S=C.location.search:S=C.location.hash),window.clearTimeout(m),window.clearInterval(p),h(S)},t)}).finally(()=>{vn(ax,N.RemoveHiddenIframe,s,r,l)(o)})}function rx(o,e,t,r){return t.addQueueMeasurement(N.SilentHandlerLoadFrame,r),new Promise((s,l)=>{const u=bd();window.setTimeout(()=>{if(!u){l("Unable to load iframe");return}u.src=o,s(u)},e)})}function ox(o){const e=bd();return e.src=o,e}function bd(){const o=document.createElement("iframe");return o.className="msalSilentIframe",o.style.visibility="hidden",o.style.position="absolute",o.style.width=o.style.height="0",o.style.border="0",o.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(o),o}function ax(o){document.body===o.parentNode&&document.body.removeChild(o)}/*! @azure/msal-browser v4.16.0 2025-07-23 */class sx extends Ma{constructor(e,t,r,s,l,u,h,f,m,p,v){super(e,t,r,s,l,u,f,p,v),this.apiId=h,this.nativeStorage=m}async acquireToken(e){this.performanceClient.addQueueMeasurement(N.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==Gt.NONE&&t.prompt!==Gt.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${Gt.NONE}`),t.prompt=Gt.NONE):t.prompt=Gt.NONE;const r=await $(this.initializeAuthorizationRequest.bind(this),N.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(t,Ce.Silent);return r.platformBroker=sl(this.config,this.logger,this.platformAuthProvider,r.authenticationScheme),Ib(r.authority),this.config.auth.protocolMode===Zt.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let t;const r=this.initializeServerTelemetryManager(this.apiId);try{return t=await $(this.createAuthCodeClient.bind(this),N.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await $(this.silentTokenHelper.bind(this),N.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(s){if(s instanceof $e&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),!t||!(s instanceof $e)||s.errorCode!==Wt.INVALID_GRANT_ERROR)throw s;return this.performanceClient.addFields({retryError:s.errorCode},this.correlationId),await $(this.silentTokenHelper.bind(this),N.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){const t=e.correlationId,r=await $(this.getDiscoveredAuthority.bind(this),N.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),s=await $(Ep,N.GenerateEarKey,this.logger,this.performanceClient,t)(),l={...e,earJwk:s},u=await $(ix,N.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,t)(this.config,r,l,this.logger,this.performanceClient),h=this.config.auth.OIDCOptions.serverResponseType,f=await $(nS,N.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,t)(u,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,h),m=vn($s,N.DeserializeResponse,this.logger,this.performanceClient,t)(f,h,this.logger);return $(Pp,N.HandleResponseEar,this.logger,this.performanceClient,t)(l,m,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(se(_d))}async silentTokenHelper(e,t){const r=t.correlationId;this.performanceClient.addQueueMeasurement(N.SilentIframeClientTokenHelper,r);const s=await $(Ad,N.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),l={...t,codeChallenge:s.challenge};let u;if(t.httpMethod===Xr.POST)u=await $(nx,N.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(this.config,e.authority,l,this.logger,this.performanceClient);else{const p=await $(Mp,N.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,l,this.logger,this.performanceClient);u=await $(tx,N.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(p,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait)}const h=this.config.auth.OIDCOptions.serverResponseType,f=await $(nS,N.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(u,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,h),m=vn($s,N.DeserializeResponse,this.logger,this.performanceClient,r)(f,h,this.logger);return $(Hu,N.HandleResponseCode,this.logger,this.performanceClient,r)(t,m,s.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class lx extends Ma{async acquireToken(e){this.performanceClient.addQueueMeasurement(N.SilentRefreshClientAcquireToken,e.correlationId);const t=await $(Ip,N.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...t};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const s=this.initializeServerTelemetryManager(Qe.acquireTokenSilent_silentFlow),l=await this.createRefreshTokenClient({serverTelemetryManager:s,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return $(l.acquireTokenByRefreshToken.bind(l),N.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(u=>{throw u.setCorrelationId(this.correlationId),s.cacheFailedRequest(u),u})}logout(){return Promise.reject(se(_d))}async createRefreshTokenClient(e){const t=await $(this.getClientConfiguration.bind(this),N.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new SN(t,this.performanceClient)}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class cx{constructor(e,t,r,s){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=t,this.logger=r,this.cryptoObj=s}async loadExternalTokens(e,t,r){if(!this.isBrowserEnvironment)throw se(Td);const s=e.correlationId||Gn(),l=t.id_token?Oa(t.id_token,zn):void 0,u={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},h=e.authority?new Ut(Ut.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,u,this.logger,e.correlationId||Gn()):void 0,f=await this.loadAccount(e,r.clientInfo||t.client_info||"",s,l,h),m=await this.loadIdToken(t,f.homeAccountId,f.environment,f.realm,s),p=await this.loadAccessToken(e,t,f.homeAccountId,f.environment,f.realm,r,s),v=await this.loadRefreshToken(t,f.homeAccountId,f.environment,s);return this.generateAuthenticationResult(e,{account:f,idToken:m,accessToken:p,refreshToken:v},l,h)}async loadAccount(e,t,r,s,l){if(this.logger.verbose("TokenCache - loading account"),e.account){const m=jt.createFromAccountInfo(e.account);return await this.storage.setAccount(m,r),m}else if(!l||!t&&!s)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),se(ab);const u=jt.generateHomeAccountId(t,l.authorityType,this.logger,this.cryptoObj,s),h=s?.tid,f=cp(this.storage,l,u,zn,r,s,t,l.hostnameAndPort,h,void 0,void 0,this.logger);return await this.storage.setAccount(f,r),f}async loadIdToken(e,t,r,s,l){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const u=ud(t,r,e.id_token,this.config.auth.clientId,s);return await this.storage.setIdTokenCredential(u,l),u}async loadAccessToken(e,t,r,s,l,u,h){if(t.access_token)if(t.expires_in){if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const f=t.scope?pt.fromString(t.scope):new pt(e.scopes),m=u.expiresOn||t.expires_in+tn(),p=u.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+tn(),v=dd(r,s,t.access_token,this.config.auth.clientId,l,f.printScopes(),m,p,zn);return await this.storage.setAccessTokenCredential(v,h),v}async loadRefreshToken(e,t,r,s){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const l=WE(t,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(l,s),l}generateAuthenticationResult(e,t,r,s){let l="",u=[],h=null,f;t?.accessToken&&(l=t.accessToken.secret,u=pt.fromString(t.accessToken.target).asArray(),h=ua(t.accessToken.expiresOn),f=ua(t.accessToken.extendedExpiresOn));const m=t.account;return{authority:s?s.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:u,account:m.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:r||{},accessToken:l,fromCache:!0,expiresOn:h,correlationId:e.correlationId||"",requestId:"",extExpiresOn:f,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:m.cloudGraphHostName||"",msGraphHost:m.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class ux extends HA{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.16.0 2025-07-23 */class dx extends Ma{constructor(e,t,r,s,l,u,h,f,m,p){super(e,t,r,s,l,u,f,m,p),this.apiId=h}async acquireToken(e){if(!e.code)throw se(sb);const t=await $(this.initializeAuthorizationRequest.bind(this),N.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,Ce.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const s={...t,code:e.code},l=await $(this.getClientConfiguration.bind(this),N.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),u=new ux(l);this.logger.verbose("Auth code client created");const h=new Pb(u,this.browserStorage,s,this.logger,this.performanceClient);return await $(h.handleCodeResponseFromServer.bind(h),N.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(s){throw s instanceof $e&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),s}}logout(){return Promise.reject(se(_d))}}/*! @azure/msal-browser v4.16.0 2025-07-23 */function hx(o,e,t){const r=window.msal?.clientIds||[],s=r.length,l=r.filter(u=>u===o).length;l>1&&t.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:s,sameClientIdInstanceCount:l})}/*! @azure/msal-browser v4.16.0 2025-07-23 */function Zn(o){const e=o?.idTokenClaims;if(e?.tfp||e?.acr)return"B2C";if(e?.tid){if(e?.tid==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Wc(o,e){try{Rp(o)}catch(t){throw e.end({success:!1},t),t}}class wd{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Li(this.logger,this.performanceClient):Eu,this.eventHandler=new xM(this.logger),this.browserStorage=this.isBrowserEnvironment?new Qg(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,fN(this.config.auth)):AM(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const t={cacheLocation:At.MemoryStorage,temporaryCacheLocation:At.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Qg(this.config.auth.clientId,t,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new cx(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const r=new wd(e);return await r.initialize(t),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,t){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(pe.INITIALIZE_END);return}const r=e?.correlationId||this.getRequestCorrelationId(),s=this.config.system.allowPlatformBroker,l=this.performanceClient.startMeasurement(N.InitializeClientApplication,r);if(this.eventHandler.emitEvent(pe.INITIALIZE_START),!t)try{this.logMultipleInstances(l)}catch{}if(await $(this.browserStorage.initialize.bind(this.browserStorage),N.InitializeCache,this.logger,this.performanceClient,r)(r),s)try{this.platformAuthProvider=await XM(this.logger,this.performanceClient,r,this.config.system.nativeBrokerHandshakeTimeout)}catch(u){this.logger.verbose(u)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),vn(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),N.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(pe.INITIALIZE_END),l.end({allowPlatformBroker:s,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),Ob(this.initialized),this.isBrowserEnvironment){const t=e||"";let r=this.redirectResponse.get(t);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(this.browserStorage.getInteractionInProgress()?.type===gr.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),s=this.browserStorage.getCachedNativeRequest(),l=s&&this.platformAuthProvider&&!e;let u;this.eventHandler.emitEvent(pe.HANDLE_REDIRECT_START,Ce.Redirect);let h;try{if(l&&this.platformAuthProvider){u=this.performanceClient.startMeasurement(N.AcquireTokenRedirect,s?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const f=new fu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,s.accountId,this.nativeInternalStorage,s.correlationId);h=$(f.handleRedirectPromise.bind(f),N.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,u.event.correlationId)(this.performanceClient,u.event.correlationId)}else{const[f,m]=this.browserStorage.getCachedRequest(),p=f.correlationId;u=this.performanceClient.startMeasurement(N.AcquireTokenRedirect,p),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const v=this.createRedirectClient(p);h=$(v.handleRedirectPromise.bind(v),N.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,u.event.correlationId)(e,f,m,u)}}catch(f){throw this.browserStorage.resetRequestCache(),f}return h.then(f=>(f?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(pe.LOGIN_SUCCESS,Ce.Redirect,f),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_SUCCESS,Ce.Redirect,f),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),u.end({success:!0,accountType:Zn(f.account)})):u.event.errorCode?u.end({success:!1}):u.discard(),this.eventHandler.emitEvent(pe.HANDLE_REDIRECT_END,Ce.Redirect),f)).catch(f=>{this.browserStorage.resetRequestCache();const m=f;throw r.length>0?this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_FAILURE,Ce.Redirect,null,m):this.eventHandler.emitEvent(pe.LOGIN_FAILURE,Ce.Redirect,null,m),this.eventHandler.emitEvent(pe.HANDLE_REDIRECT_END,Ce.Redirect),u.end({success:!1},m),f})}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const r=this.performanceClient.startMeasurement(N.AcquireTokenPreRedirect,t);r.add({accountType:Zn(e.account),scenarioId:e.scenarioId});const s=e.onRedirectNavigate;if(s)e.onRedirectNavigate=u=>{const h=typeof s=="function"?s(u):void 0;return h!==!1?r.end({success:!0}):r.discard(),h};else{const u=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=h=>{const f=typeof u=="function"?u(h):void 0;return f!==!1?r.end({success:!0}):r.discard(),f}}const l=this.getAllAccounts().length>0;try{XT(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,gr.SIGNIN),l?this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_START,Ce.Redirect,e):this.eventHandler.emitEvent(pe.LOGIN_START,Ce.Redirect,e);let u;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?u=new fu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,r).catch(f=>{if(f instanceof ri&&sa(f))return this.platformAuthProvider=void 0,this.createRedirectClient(t).acquireToken(e);if(f instanceof Fn)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(t).acquireToken(e);throw f}):u=this.createRedirectClient(t).acquireToken(e),await u}catch(u){throw this.browserStorage.resetRequestCache(),r.end({success:!1},u),l?this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_FAILURE,Ce.Redirect,null,u):this.eventHandler.emitEvent(pe.LOGIN_FAILURE,Ce.Redirect,null,u),u}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(N.AcquireTokenPopup,t);r.add({scenarioId:e.scenarioId,accountType:Zn(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Wc(this.initialized,r),this.browserStorage.setInteractionInProgress(!0,gr.SIGNIN)}catch(h){return Promise.reject(h)}const s=this.getAllAccounts();s.length>0?this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_START,Ce.Popup,e):this.eventHandler.emitEvent(pe.LOGIN_START,Ce.Popup,e);let l;const u=this.getPreGeneratedPkceCodes(t);return this.canUsePlatformBroker(e)?l=this.acquireTokenNative({...e,correlationId:t},Qe.acquireTokenPopup).then(h=>(r.end({success:!0,isNativeBroker:!0,accountType:Zn(h.account)}),h)).catch(h=>{if(h instanceof ri&&sa(h))return this.platformAuthProvider=void 0,this.createPopupClient(t).acquireToken(e,u);if(h instanceof Fn)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(t).acquireToken(e,u);throw h}):l=this.createPopupClient(t).acquireToken(e,u),l.then(h=>(s.length<this.getAllAccounts().length?this.eventHandler.emitEvent(pe.LOGIN_SUCCESS,Ce.Popup,h):this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_SUCCESS,Ce.Popup,h),r.end({success:!0,accessTokenSize:h.accessToken.length,idTokenSize:h.idToken.length,accountType:Zn(h.account)}),h)).catch(h=>(s.length>0?this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_FAILURE,Ce.Popup,null,h):this.eventHandler.emitEvent(pe.LOGIN_FAILURE,Ce.Popup,null,h),r.end({success:!1},h),Promise.reject(h))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:t};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(N.SsoSilent,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:Zn(e.account)}),Wc(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(pe.SSO_SILENT_START,Ce.Silent,r);let s;return this.canUsePlatformBroker(r)?s=this.acquireTokenNative(r,Qe.ssoSilent).catch(l=>{if(l instanceof ri&&sa(l))return this.platformAuthProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw l}):s=this.createSilentIframeClient(r.correlationId).acquireToken(r),s.then(l=>(this.eventHandler.emitEvent(pe.SSO_SILENT_SUCCESS,Ce.Silent,l),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:l.fromNativeBroker,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length,accountType:Zn(l.account)}),l)).catch(l=>{throw this.eventHandler.emitEvent(pe.SSO_SILENT_FAILURE,Ce.Silent,null,l),this.ssoSilentMeasurement?.end({success:!1},l),l}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const r=this.performanceClient.startMeasurement(N.AcquireTokenByCode,t);Wc(this.initialized,r),this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_BY_CODE_START,Ce.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw se(cb);if(e.code){const s=e.code;let l=this.hybridAuthCodeResponses.get(s);return l?(this.logger.verbose("Existing acquireTokenByCode request found",t),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),l=this.acquireTokenByCodeAsync({...e,correlationId:t}).then(u=>(this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_BY_CODE_SUCCESS,Ce.Silent,u),this.hybridAuthCodeResponses.delete(s),r.end({success:!0,isNativeBroker:u.fromNativeBroker,accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length,accountType:Zn(u.account)}),u)).catch(u=>{throw this.hybridAuthCodeResponses.delete(s),this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_BY_CODE_FAILURE,Ce.Silent,null,u),r.end({success:!1},u),u}),this.hybridAuthCodeResponses.set(s,l)),await l}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){const s=await this.acquireTokenNative({...e,correlationId:t},Qe.acquireTokenByCode,e.nativeAccountId).catch(l=>{throw l instanceof ri&&sa(l)&&(this.platformAuthProvider=void 0),l});return r.end({accountType:Zn(s.account),success:!0}),s}else throw se(ub);else throw se(lb)}catch(s){throw this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_BY_CODE_FAILURE,Ce.Silent,null,s),r.end({success:!1},s),s}}async acquireTokenByCodeAsync(e){return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(N.AcquireTokenByCodeAsync,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(s=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:s.fromCache,isNativeBroker:s.fromNativeBroker}),s)).catch(s=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},s),s}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(N.AcquireTokenFromCache,e.correlationId),t){case Kt.Default:case Kt.AccessToken:case Kt.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return $(r.acquireToken.bind(r),N.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw Z(Cr)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(N.AcquireTokenByRefreshToken,e.correlationId),t){case Kt.Default:case Kt.AccessTokenAndRefreshToken:case Kt.RefreshToken:case Kt.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return $(r.acquireToken.bind(r),N.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw Z(Cr)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(N.AcquireTokenBySilentIframe,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return $(t.acquireToken.bind(t),N.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);return XT(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,gr.SIGNOUT),this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);return Rp(this.initialized),this.browserStorage.setInteractionInProgress(!0,gr.SIGNOUT),this.createPopupClient(t).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){const t=this.getRequestCorrelationId();return bM(this.logger,this.browserStorage,this.isBrowserEnvironment,t,e)}getAccount(e){const t=this.getRequestCorrelationId();return wM(e,this.logger,this.browserStorage,t)}getAccountByUsername(e){const t=this.getRequestCorrelationId();return kM(e,this.logger,this.browserStorage,t)}getAccountByHomeId(e){const t=this.getRequestCorrelationId();return RM(e,this.logger,this.browserStorage,t)}getAccountByLocalId(e){const t=this.getRequestCorrelationId();return OM(e,this.logger,this.browserStorage,t)}setActiveAccount(e){const t=this.getRequestCorrelationId();IM(e,this.browserStorage,t)}getActiveAccount(){const e=this.getRequestCorrelationId();return NM(this.browserStorage,e)}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const r=jt.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,r,s){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw se(vp);return new fu(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.platformAuthProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,s)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!sl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Gt.NONE:case Gt.CONSENT:case Gt.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!t&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new WM(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new ex(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new sx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new Lb(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new lx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new dx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qe.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return Rb(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==At.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==At.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?Gn():j.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||YT})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||YT})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(N.AcquireTokenSilent,t);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Wc(this.initialized,r),this.logger.verbose("acquireTokenSilent called",t);const s=e.account||this.getActiveAccount();if(!s)throw se(tb);return r.add({accountType:Zn(s)}),this.acquireTokenSilentDeduped(e,s,t).then(l=>(r.end({success:!0,fromCache:l.fromCache,isNativeBroker:l.fromNativeBroker,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length}),{...l,state:e.state,correlationId:t})).catch(l=>{throw l instanceof $e&&l.setCorrelationId(t),r.end({success:!1},l),l})}async acquireTokenSilentDeduped(e,t,r){const s=pd(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority},t.homeAccountId),l=JSON.stringify(s),u=this.activeSilentTokenRequests.get(l);if(typeof u>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const h=$(this.acquireTokenSilentAsync.bind(this),N.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},t);return this.activeSilentTokenRequests.set(l,h),h.finally(()=>{this.activeSilentTokenRequests.delete(l)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),u}async acquireTokenSilentAsync(e,t){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(N.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_START,Ce.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const s=await $(DM,N.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),l=e.cacheLookupPolicy||Kt.Default;return this.acquireTokenSilentNoIframe(s,l).catch(async h=>{if(fx(h,l))if(this.activeIframeRequest)if(l!==Kt.Skip){const[m,p]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${p}`,s.correlationId);const v=this.performanceClient.startMeasurement(N.AwaitConcurrentIframe,s.correlationId);v.add({awaitIframeCorrelationId:p});const C=await m;if(v.end({success:C}),C)return this.logger.verbose(`Parallel iframe request with correlationId: ${p} succeeded. Retrying cache and/or RT redemption`,s.correlationId),this.acquireTokenSilentNoIframe(s,l);throw this.logger.info(`Iframe request with correlationId: ${p} failed. Interaction is required.`),h}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",s.correlationId),$(this.acquireTokenBySilentIframe.bind(this),N.AcquireTokenBySilentIframe,this.logger,this.performanceClient,s.correlationId)(s);else{let m;return this.activeIframeRequest=[new Promise(p=>{m=p}),s.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",s.correlationId),$(this.acquireTokenBySilentIframe.bind(this),N.AcquireTokenBySilentIframe,this.logger,this.performanceClient,s.correlationId)(s).then(p=>(m(!0),p)).catch(p=>{throw m(!1),p}).finally(()=>{this.activeIframeRequest=void 0})}else throw h}).then(h=>(this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_SUCCESS,Ce.Silent,h),e.correlationId&&this.performanceClient.addFields({fromCache:h.fromCache,isNativeBroker:h.fromNativeBroker},e.correlationId),h)).catch(h=>{throw this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_FAILURE,Ce.Silent,null,h),h}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,t){return sl(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,Qe.acquireTokenSilent_silentFlow,e.account.nativeAccountId,t).catch(async r=>{throw r instanceof ri&&sa(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,Z(Cr)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===Kt.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),$(this.acquireTokenFromCache.bind(this),N.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,t).catch(r=>{if(t===Kt.AccessToken)throw r;return this.eventHandler.emitEvent(pe.ACQUIRE_TOKEN_NETWORK_START,Ce.Silent,e),$(this.acquireTokenByRefreshToken.bind(this),N.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,t)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await $(Ad,N.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${t?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){const t=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),hx(t,e,this.logger)}}function fx(o,e){const t=!(o instanceof Fn&&o.subError!==vd),r=o.errorCode===Wt.INVALID_GRANT_ERROR||o.errorCode===Cr,s=t&&r||o.errorCode===Nu||o.errorCode===sp,l=KN.includes(e);return s&&l}/*! @azure/msal-browser v4.16.0 2025-07-23 */async function gx(o,e){const t=new oo(o);return await t.initialize(),wd.createController(t,e)}/*! @azure/msal-browser v4.16.0 2025-07-23 */class Lp{static async createPublicClientApplication(e){const t=await gx(e);return new Lp(e,t)}constructor(e,t){this.isBroker=!1,this.controller=t||new wd(new oo(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}const mx={auth:{clientId:"b9b1650d-b32e-4ba1-a391-62e0ff4a059b",authority:"https://login.microsoftonline.com/common",redirectUri:"https://craigberry1983.github.io/proof-of-concept/send"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},gg={scopes:["User.Read","Mail.Send"]},fr=new Lp(mx),Bb=D.createContext(),px=({children:o})=>{const[e,t]=D.useState(!1),[r,s]=D.useState(null),[l,u]=D.useState(null);D.useEffect(()=>{(async()=>{await fr.initialize();const v=(await fr.handleRedirectPromise())?.account||fr.getAllAccounts()[0];if(v)try{const C=await fr.acquireTokenSilent({...gg,account:v});s(v),u(C.accessToken)}catch(C){console.warn("[MSAL] Failed to acquire token silently:",C)}t(!0)})()},[]);const h=async m=>{try{const p=await fr.loginPopup(gg),v=await fr.acquireTokenSilent({...gg,account:p.account});s(p.account),u(v.accessToken),m("/send")}catch(p){console.error("[MSAL] Login failed:",p)}},f=()=>{fr.logoutPopup(),s(null),u(null),navigate("/")};return ne.jsx(Bb.Provider,{value:{msalInstance:fr,isReady:e,account:r,accessToken:l,login:h,logout:f},children:o})},Hp=()=>D.useContext(Bb);function yx(){const o=sd(),{login:e,isReady:t}=Hp(),r=()=>{if(!t){alert("Auth system is not ready yet. Please wait a moment.");return}e(o)};return ne.jsxs("div",{className:"disclaimer",children:[ne.jsx("h1",{children:"Proof of Concept"}),ne.jsx("p",{children:"Due to platform limitations, a custom email client wrapper is required on Android and iOS to enable real-time message scanning and control over the sending process."}),ne.jsx("p",{children:"This prototype demonstrates live scanning of email content. It highlights a small set of profanities in yellow and potentially violent words in red. These keyword sets are configurable, and you can simulate network lag in the settings page (gear icon)."}),ne.jsx("p",{children:"The application connects to Outlook using secure OAuth login flows and requests send-only permissions. All messages are sent via the Microsoft Graph API."}),ne.jsx("p",{children:ne.jsx("strong",{children:"No data is stored, and the users inbox or message history is never accessed in this proof of concept."})}),ne.jsx("p",{children:"The full product could fully emulate the Outlook clientincluding inbox, rich text formatting, attachments, etc. while layering in live content scanning, policy enforcement, and optional administrative controls, and would be designed to integrate into the user's workflow without disruption."}),ne.jsx("p",{children:ne.jsx("strong",{children:"For the best experience on mobile, please use your browsers PWA installation option (typically found in the menu or address bar) to add the app to your home screen. It will then behave like a (stripped-down) native email client."})}),ne.jsx("p",{children:"To use, sign in using an Outlook email account (including Microsoft 365 accounts). Once authenticated, you can experiment with composing and sending test messages."}),ne.jsx("p",{children:ne.jsxs("em",{children:["Note: If your email address does not end in ",ne.jsx("code",{children:"@outlook.com"}),", messages may initially appear in the recipients spam folder. This can be resolved in production through proper domain configuration (e.g., SPF, DKIM, DMARC)."]})}),ne.jsx("button",{onClick:r,children:"Sign In"})]})}const Kb=D.createContext(null);function vx(o,e){return{getTheme:function(){return e??null}}}function po(){const o=D.useContext(Kb);return o==null&&function(e,...t){const r=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",e);for(const l of t)s.append("v",l);throw r.search=s.toString(),Error(`Minified Lexical error #${e}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),o}function W(o,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",o);for(const s of e)r.append("v",s);throw t.search=r.toString(),Error(`Minified Lexical error #${o}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Yn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Cx=Yn&&"documentMode"in document?document.documentMode:null,ni=Yn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),ao=Yn&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Bu=!(!Yn||!("InputEvent"in window)||Cx)&&"getTargetRanges"in new window.InputEvent("input"),ll=Yn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Ca=Yn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,_x=Yn&&/Android/.test(navigator.userAgent),Fb=Yn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),iS=Yn&&_x&&Fb,Ku=Yn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Fb;function Fu(...o){const e=[];for(const t of o)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}const Tx=1,Sx=3,Ex=9,Ax=11,so=0,Gb=1,_a=2,bx=0,wx=1,kx=2,Gu=4,qu=8,zp=128,Rx=1792|(112|(3|Gu|qu)|zp),Bp=1,Kp=2,Fp=3,Gp=4,qp=5,jp=6,kd=ll||Ca||Ku?"":"",Hi=`

`,Ox=ao?"":kd,qb="---",jb="A-Za-z--------",Ix=new RegExp("^[^"+jb+"]*["+qb+"]"),Nx=new RegExp("^[^"+qb+"]*["+jb+"]"),lo={bold:1,capitalize:1024,code:16,highlight:zp,italic:2,lowercase:256,strikethrough:Gu,subscript:32,superscript:64,underline:qu,uppercase:512},Mx={directionless:1,unmergeable:2},rS={center:Kp,end:jp,justify:Gp,left:Bp,right:Fp,start:qp},xx={[Kp]:"center",[jp]:"end",[Gp]:"justify",[Bp]:"left",[Fp]:"right",[qp]:"start"},Dx={normal:0,segmented:2,token:1},Px={[bx]:"normal",[kx]:"segmented",[wx]:"token"},oS="$config";function Yb(o,e,t,r,s,l){let u=o.getFirstChild();for(;u!==null;){const h=u.__key;u.__parent===e&&(Q(u)&&Yb(u,h,t,r,s,l),t.has(h)||l.delete(h),s.push(h)),u=u.getNextSibling()}}const Ux=100;let $g=!1,Yp=0;function Lx(o){Yp=o.timeStamp}function mg(o,e,t){const r=o.nodeName==="BR",s=e.__lexicalLineBreak;return s&&(o===s||r&&o.previousSibling===s)||r&&Ud(o,t)!==void 0}function Hx(o,e,t){const r=qn(Nn(t));let s=null,l=null;r!==null&&r.anchorNode===o&&(s=r.anchorOffset,l=r.focusOffset);const u=o.nodeValue;u!==null&&sy(e,u,s,l,!1)}function zx(o,e,t){if(ee(o)){const r=o.anchor.getNode();if(r.is(t)&&o.format!==r.getFormat())return!1}return Ki(e)&&t.isAttached()}function Bx(o,e,t,r){for(let s=o;s&&!K2(s);s=Rl(s)){const l=Ud(s,e);if(l!==void 0){const u=Et(l,t);if(u)return Be(u)||!rn(s)?void 0:[s,u]}else if(s===r)return[r,Yw(t)]}}function Vb(o,e,t){$g=!0;const r=performance.now()-Yp>Ux;try{yn(o,()=>{const s=ue()||function(C){return C.getEditorState().read(()=>{const S=ue();return S!==null?S.clone():null})}(o),l=new Map,u=o.getRootElement(),h=o._editorState,f=o._blockCursorElement;let m=!1,p="";for(let C=0;C<e.length;C++){const S=e[C],T=S.type,E=S.target,A=Bx(E,o,h,u);if(!A)continue;const[w,k]=A;if(T==="characterData")r&&re(k)&&Ki(E)&&zx(s,E,k)&&Hx(E,k,o);else if(T==="childList"){m=!0;const I=S.addedNodes;for(let K=0;K<I.length;K++){const Y=I[K],G=qw(Y),H=Y.parentNode;if(H!=null&&Y!==f&&G===null&&!mg(Y,H,o)){if(ao){const ie=(rn(Y)?Y.innerText:null)||Y.nodeValue;ie&&(p+=ie)}H.removeChild(Y)}}const B=S.removedNodes,L=B.length;if(L>0){let K=0;for(let Y=0;Y<L;Y++){const G=B[Y];(mg(G,E,o)||f===G)&&(E.appendChild(G),K++)}L!==K&&l.set(w,k)}}}if(l.size>0)for(const[C,S]of l)S.reconcileObservedMutation(C,o);const v=t.takeRecords();if(v.length>0){for(let C=0;C<v.length;C++){const S=v[C],T=S.addedNodes,E=S.target;for(let A=0;A<T.length;A++){const w=T[A],k=w.parentNode;k==null||w.nodeName!=="BR"||mg(w,E,o)||k.removeChild(w)}}t.takeRecords()}s!==null&&(m&&nn(s),ao&&Xw(o)&&s.insertRawText(p))})}finally{$g=!1}}function Qb(o){const e=o._observer;e!==null&&Vb(o,e.takeRecords(),e)}function $b(o){(function(e){Yp===0&&Nn(e).addEventListener("textInput",Lx,!0)})(o),o._observer=new MutationObserver((e,t)=>{Vb(o,e,t)})}function Kx(o){const e=new Map,t=new Set;for(let r=typeof o=="function"?o:o.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){const{ownNodeConfig:s}=hy(r);if(s&&s.stateConfigs)for(const l of s.stateConfigs){let u;"stateConfig"in l?(u=l.stateConfig,l.flat&&t.add(u.key)):u=l,e.set(u.key,u)}}return{flatKeys:t,sharedConfigMap:e}}let Fx=class Xb{constructor(e,t,r=void 0,s=new Map,l=void 0){this.node=e,this.sharedNodeState=t,this.unknownState=r,this.knownState=s;const{sharedConfigMap:u}=this.sharedNodeState,h=l!==void 0?l:function(f,m,p){let v=p.size;if(m)for(const C in m){const S=f.get(C);S&&p.has(S)||v++}return v}(u,r,s);this.size=h}getValue(e){const t=this.knownState.get(e);if(t!==void 0)return t;this.sharedNodeState.sharedConfigMap.set(e.key,e);let r=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const s=this.unknownState[e.key];s!==void 0&&(r=e.parse(s)),this.updateFromKnown(e,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},t={};for(const[r,s]of this.knownState)r.isEqual(s,r.defaultValue)?delete e[r.key]:e[r.key]=r.unparse(s);for(const r of this.sharedNodeState.flatKeys)r in e&&(t[r]=e[r],delete e[r]);return aS(e)&&(t.$=e),t}getWritable(e){if(this.node===e)return this;const{sharedNodeState:t,unknownState:r}=this,s=new Map(this.knownState);return new Xb(e,t,function(l,u,h){let f;if(h)for(const[m,p]of Object.entries(h)){const v=l.get(m);v?u.has(v)||u.set(v,v.parse(p)):(f=f||{},f[m]=p)}return f}(t.sharedConfigMap,s,r),s,this.size)}updateFromKnown(e,t){const r=e.key;this.sharedNodeState.sharedConfigMap.set(r,e);const{knownState:s,unknownState:l}=this;s.has(e)||l&&r in l||(l&&(delete l[r],this.unknownState=aS(l)),this.size++),s.set(e,t)}updateFromUnknown(e,t){const r=this.sharedNodeState.sharedConfigMap.get(e);r?this.updateFromKnown(r,r.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const r of t.keys())t.set(r,r.defaultValue);if(this.size=t.size,this.unknownState=void 0,e)for(const[r,s]of Object.entries(e))this.updateFromUnknown(r,s)}};function Gx(o){const e=o.getWritable(),t=e.__state?e.__state.getWritable(e):new Fx(e,Jb(e));return e.__state=t,t}function Jb(o){return o.__state?o.__state.sharedNodeState:Fw(uy(),o.getType()).sharedNodeState}function aS(o){if(o)for(const e in o)return o}function sS(o,e,t){for(const[r,s]of e.knownState){if(o.has(r.key))continue;o.add(r.key);const l=t?t.getValue(r):r.defaultValue;if(l!==s&&!r.isEqual(l,s))return!0}return!1}function lS(o,e,t){const{unknownState:r}=e,s=t?t.unknownState:void 0;if(r){for(const[l,u]of Object.entries(r))if(!o.has(l)&&(o.add(l),u!==(s?s[l]:void 0)))return!0}return!1}function cS(o,e){const t=o.__state;return t&&t.node===o?t.getWritable(e):t}function uS(o,e){const t=o.__mode,r=o.__format,s=o.__style,l=e.__mode,u=e.__format,h=e.__style,f=o.__state,m=e.__state;return(t===null||t===l)&&(r===null||r===u)&&(s===null||s===h)&&(o.__state===null||f===m||function(p,v){if(p===v)return!0;if(p&&v&&p.size!==v.size)return!1;const C=new Set;return!(p&&sS(C,p,v)||v&&sS(C,v,p)||p&&lS(C,p,v)||v&&lS(C,v,p))}(f,m))}function dS(o,e){const t=o.mergeWithSibling(e),r=rt()._normalizedNodes;return r.add(o.__key),r.add(e.__key),t}function hS(o){let e,t,r=o;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&re(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(uS(e,r)){r=dS(e,r);break}break}e.remove()}for(;(t=r.getNextSibling())!==null&&re(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(uS(r,t)){r=dS(r,t);break}break}t.remove()}}else r.remove()}function ju(o){return fS(o.anchor),fS(o.focus),o}function fS(o){for(;o.type==="element";){const e=o.getNode(),t=o.offset;let r,s;if(t===e.getChildrenSize()?(r=e.getChildAtIndex(t-1),s=!0):(r=e.getChildAtIndex(t),s=!1),re(r)){o.set(r.__key,s?r.getTextContentSize():0,"text",!0);break}if(!Q(r))break;o.set(r.__key,s?r.getChildrenSize():0,"element",!0)}}let br,Yt,cl,Rd,Xg,Jg,co,Bn,Wg,ul,mt="",qt="",ei=null,ti="",Mi="",Wb=!1,dl=!1,gu=null;function Yu(o,e){const t=co.get(o);if(e!==null){const r=tm(o);r.parentNode===e&&e.removeChild(r)}if(Bn.has(o)||Yt._keyToDOMMap.delete(o),Q(t)){const r=Qu(t,co);Zg(r,0,r.length-1,null)}t!==void 0&&ly(ul,cl,Rd,t,"destroyed")}function Zg(o,e,t,r){let s=e;for(;s<=t;++s){const l=o[s];l!==void 0&&Yu(l,r)}}function Vr(o,e){o.setProperty("text-align",e)}const qx="40px";function Zb(o,e){const t=br.theme.indent;if(typeof t=="string"){const s=o.classList.contains(t);e>0&&!s?o.classList.add(t):e<1&&s&&o.classList.remove(t)}const r=getComputedStyle(o).getPropertyValue("--lexical-indent-base-value")||qx;o.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function ew(o,e){const t=o.style;e===0?Vr(t,""):e===Bp?Vr(t,"left"):e===Kp?Vr(t,"center"):e===Fp?Vr(t,"right"):e===Gp?Vr(t,"justify"):e===qp?Vr(t,"start"):e===jp&&Vr(t,"end")}function Vu(o,e){const t=Bn.get(o);t===void 0&&W(60);const r=t.createDOM(br,Yt);if(function(s,l,u){const h=u._keyToDOMMap;(function(f,m,p){const v=`__lexicalKey_${m._key}`;f[v]=p})(l,u,s),h.set(s,l)}(o,r,Yt),re(t)?r.setAttribute("data-lexical-text","true"):Be(t)&&r.setAttribute("data-lexical-decorator","true"),Q(t)){const s=t.__indent,l=t.__size;if(s!==0&&Zb(r,s),l!==0){const h=l-1;(function(f,m,p,v){const C=qt;qt="",em(f,p,0,m,p.getDOMSlot(v)),nw(p,v),qt=C})(Qu(t,Bn),h,t,r)}const u=t.__format;u!==0&&ew(r,u),t.isInline()||tw(null,t,r),Ld(t)&&(mt+=Hi,Mi+=Hi)}else{const s=t.getTextContent();if(Be(t)){const l=t.decorate(Yt,br);l!==null&&iw(o,l),r.contentEditable="false"}else re(t)&&(t.isDirectionless()||(qt+=s));mt+=s,Mi+=s}return e!==null&&e.insertChild(r),ly(ul,cl,Rd,t,"created"),r}function em(o,e,t,r,s){const l=mt;mt="";let u=t;for(;u<=r;++u){Vu(o[u],s);const h=Bn.get(o[u]);h!==null&&re(h)&&(ei===null&&(ei=h.getFormat()),ti===""&&(ti=h.getStyle()))}Ld(e)&&(mt+=Hi),s.element.__lexicalTextContent=mt,mt=l+mt}function gS(o,e){if(o){const t=o.__last;if(t){const r=e.get(t);if(r)return Ws(r)?"line-break":Be(r)&&r.isInline()?"decorator":null}return"empty"}return null}function tw(o,e,t){const r=gS(o,co),s=gS(e,Bn);r!==s&&e.getDOMSlot(t).setManagedLineBreak(s)}function nw(o,e){const t=e.__lexicalDirTextContent||"",r=e.__lexicalDir||"";if(t!==qt||r!==gu){const s=qt==="",l=s?gu:function(u){return Ix.test(u)?"rtl":Nx.test(u)?"ltr":null}(qt);if(l!==r){const u=e.classList,h=br.theme;let f=r!==null?h[r]:void 0,m=l!==null?h[l]:void 0;if(f!==void 0){if(typeof f=="string"){const p=Fu(f);f=h[r]=p}u.remove(...f)}if(l===null||s&&l==="ltr")e.removeAttribute("dir");else{if(m!==void 0){if(typeof m=="string"){const p=Fu(m);m=h[l]=p}m!==void 0&&u.add(...m)}e.dir=l}dl||(o.getWritable().__dir=l)}gu=l,e.__lexicalDirTextContent=qt,e.__lexicalDir=l}}function jx(o,e,t){const r=qt;var s;qt="",ei=null,ti="",function(l,u,h){const f=mt,m=l.__size,p=u.__size;mt="";const v=h.element;if(m===1&&p===1){const C=l.__first,S=u.__first;if(C===S)qs(C,v);else{const E=tm(C),A=Vu(S,null);try{v.replaceChild(A,E)}catch(w){if(typeof w=="object"&&w!=null){const k=`${w.toString()} Parent: ${v.tagName}, new child: {tag: ${A.tagName} key: ${S}}, old child: {tag: ${E.tagName}, key: ${C}}.`;throw new Error(k)}throw w}Yu(C,null)}const T=Bn.get(S);re(T)&&(ei===null&&(ei=T.getFormat()),ti===""&&(ti=T.getStyle()))}else{const C=Qu(l,co),S=Qu(u,Bn);if(C.length!==m&&W(227),S.length!==p&&W(228),m===0)p!==0&&em(S,u,0,p-1,h);else if(p===0){if(m!==0){const T=h.after==null&&h.before==null&&h.element.__lexicalLineBreak==null;Zg(C,0,m-1,T?null:v),T&&(v.textContent="")}}else(function(T,E,A,w,k,I){const B=w-1,L=k-1;let K,Y,G=I.getFirstChild(),H=0,ie=0;for(;H<=B&&ie<=L;){const be=E[H],Se=A[ie];if(be===Se)G=pg(qs(Se,I.element)),H++,ie++;else{K===void 0&&(K=new Set(E)),Y===void 0&&(Y=new Set(A));const F=Y.has(be),te=K.has(Se);if(F)if(te){const de=Ea(Yt,Se);de===G?G=pg(qs(Se,I.element)):(I.withBefore(G).insertChild(de),qs(Se,I.element)),H++,ie++}else Vu(Se,I.withBefore(G)),ie++;else G=pg(tm(be)),Yu(be,I.element),H++}const Ee=Bn.get(Se);Ee!==null&&re(Ee)&&(ei===null&&(ei=Ee.getFormat()),ti===""&&(ti=Ee.getStyle()))}const fe=H>B,Ae=ie>L;if(fe&&!Ae){const be=A[L+1],Se=be===void 0?null:Yt.getElementByKey(be);em(A,T,ie,L,I.withBefore(Se))}else Ae&&!fe&&Zg(E,H,B,I.element)})(u,C,S,m,p,h)}Ld(u)&&(mt+=Hi),v.__lexicalTextContent=mt,mt=f+mt}(o,e,e.getDOMSlot(t)),nw(e,t),s=e,ei==null||ei===s.__textFormat||dl||s.setTextFormat(ei),function(l){ti===""||ti===l.__textStyle||dl||l.setTextStyle(ti)}(e),qt=r}function Qu(o,e){const t=[];let r=o.__first;for(;r!==null;){const s=e.get(r);s===void 0&&W(101),t.push(r),r=s.__next}return t}function qs(o,e){const t=co.get(o);let r=Bn.get(o);t!==void 0&&r!==void 0||W(61);const s=Wb||Jg.has(o)||Xg.has(o),l=Ea(Yt,o);if(t===r&&!s){if(Q(t)){const u=l.__lexicalTextContent;u!==void 0&&(mt+=u,Mi+=u);const h=l.__lexicalDirTextContent;h!==void 0&&(qt+=h)}else{const u=t.getTextContent();re(t)&&!t.isDirectionless()&&(qt+=u),Mi+=u,mt+=u}return l}if(t!==r&&s&&ly(ul,cl,Rd,r,"updated"),r.updateDOM(t,l,br)){const u=Vu(o,null);return e===null&&W(62),e.replaceChild(u,l),Yu(o,null),u}if(Q(t)&&Q(r)){const u=r.__indent;u!==t.__indent&&Zb(l,u);const h=r.__format;h!==t.__format&&ew(l,h),s&&(jx(t,r,l),Mt(r)||r.isInline()||tw(t,r,l)),Ld(r)&&(mt+=Hi,Mi+=Hi)}else{const u=r.getTextContent();if(Be(r)){const h=r.decorate(Yt,br);h!==null&&iw(o,h)}else re(r)&&!r.isDirectionless()&&(qt+=u);mt+=u,Mi+=u}if(!dl&&Mt(r)&&r.__cachedText!==Mi){const u=r.getWritable();u.__cachedText=Mi,r=u}return l}function iw(o,e){let t=Yt._pendingDecorators;const r=Yt._decorators;if(t===null){if(r[o]===e)return;t=jw(Yt)}t[o]=e}function pg(o){let e=o.nextSibling;return e!==null&&e===Yt._blockCursorElement&&(e=e.nextSibling),e}function Yx(o,e,t,r,s,l){mt="",Mi="",qt="",Wb=r===_a,gu=null,Yt=t,br=t._config,cl=t._nodes,Rd=Yt._listeners.mutation,Xg=s,Jg=l,co=o._nodeMap,Bn=e._nodeMap,dl=e._readOnly,Wg=new Map(t._keyToDOMMap);const u=new Map;return ul=u,qs("root",null),Yt=void 0,cl=void 0,Xg=void 0,Jg=void 0,co=void 0,Bn=void 0,br=void 0,Wg=void 0,ul=void 0,u}function tm(o){const e=Wg.get(o);return e===void 0&&W(75,o),e}function Te(o){return{type:o}}const rw=Te("SELECTION_CHANGE_COMMAND"),Vx=Te("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),ow=Te("CLICK_COMMAND"),Zr=Te("DELETE_CHARACTER_COMMAND"),fa=Te("INSERT_LINE_BREAK_COMMAND"),$u=Te("INSERT_PARAGRAPH_COMMAND"),ga=Te("CONTROLLED_TEXT_INSERTION_COMMAND"),Vp=Te("PASTE_COMMAND"),nm=Te("REMOVE_TEXT_COMMAND"),hl=Te("DELETE_WORD_COMMAND"),fl=Te("DELETE_LINE_COMMAND"),In=Te("FORMAT_TEXT_COMMAND"),Od=Te("UNDO_COMMAND"),Id=Te("REDO_COMMAND"),Qx=Te("KEYDOWN_COMMAND"),aw=Te("KEY_ARROW_RIGHT_COMMAND"),$x=Te("MOVE_TO_END"),sw=Te("KEY_ARROW_LEFT_COMMAND"),Xx=Te("MOVE_TO_START"),lw=Te("KEY_ARROW_UP_COMMAND"),cw=Te("KEY_ARROW_DOWN_COMMAND"),Xu=Te("KEY_ENTER_COMMAND"),uw=Te("KEY_SPACE_COMMAND"),dw=Te("KEY_BACKSPACE_COMMAND"),hw=Te("KEY_ESCAPE_COMMAND"),fw=Te("KEY_DELETE_COMMAND"),gw=Te("KEY_TAB_COMMAND"),Jx=Te("INSERT_TAB_COMMAND"),Wx=Te("INDENT_CONTENT_COMMAND"),mS=Te("OUTDENT_CONTENT_COMMAND"),mw=Te("DROP_COMMAND"),mu=Te("FORMAT_ELEMENT_COMMAND"),pw=Te("DRAGSTART_COMMAND"),yw=Te("DRAGOVER_COMMAND"),Zx=Te("DRAGEND_COMMAND"),Nd=Te("COPY_COMMAND"),Qp=Te("CUT_COMMAND"),im=Te("SELECT_ALL_COMMAND"),e2=Te("CLEAR_EDITOR_COMMAND"),t2=Te("CLEAR_HISTORY_COMMAND"),Zc=Te("CAN_REDO_COMMAND"),eu=Te("CAN_UNDO_COMMAND"),n2=Te("FOCUS_COMMAND"),i2=Te("BLUR_COMMAND"),r2=Te("KEY_MODIFIER_COMMAND"),ki=Object.freeze({}),rm=30,om=[["keydown",function(o,e){if(Xs=o.timeStamp,vw=o.key,!e.isComposing()&&!le(e,Qx,o)&&o.key!=null){if(yg&&GS(o))return yn(e,()=>{tu(e,vg)}),yg=!1,void(vg="");if(function(t){return Ge(t,"ArrowRight",{shiftKey:"any"})}(o))le(e,aw,o);else if(function(t){return Ge(t,"ArrowRight",Oi)}(o))le(e,$x,o);else if(function(t){return Ge(t,"ArrowLeft",{shiftKey:"any"})}(o))le(e,sw,o);else if(function(t){return Ge(t,"ArrowLeft",Oi)}(o))le(e,Xx,o);else if(function(t){return Ge(t,"ArrowUp",{altKey:"any",shiftKey:"any"})}(o))le(e,lw,o);else if(function(t){return Ge(t,"ArrowDown",{altKey:"any",shiftKey:"any"})}(o))le(e,cw,o);else if(function(t){return Ge(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(o))Js=!0,le(e,Xu,o);else if(function(t){return t.key===" "}(o))le(e,uw,o);else if(function(t){return ni&&Ge(t,"o",{ctrlKey:!0})}(o))o.preventDefault(),Js=!0,le(e,fa,!0);else if(function(t){return Ge(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(o))Js=!1,le(e,Xu,o);else if(function(t){return Ge(t,"Backspace",{shiftKey:"any"})||ni&&Ge(t,"h",{ctrlKey:!0})}(o))GS(o)?le(e,dw,o):(o.preventDefault(),le(e,Zr,!0));else if(function(t){return t.key==="Escape"}(o))le(e,hw,o);else if(function(t){return Ge(t,"Delete",{})||ni&&Ge(t,"d",{ctrlKey:!0})}(o))(function(t){return t.key==="Delete"})(o)?le(e,fw,o):(o.preventDefault(),le(e,Zr,!1));else if(function(t){return Ge(t,"Backspace",FS)}(o))o.preventDefault(),le(e,hl,!0);else if(function(t){return Ge(t,"Delete",FS)}(o))o.preventDefault(),le(e,hl,!1);else if(function(t){return ni&&Ge(t,"Backspace",{metaKey:!0})}(o))o.preventDefault(),le(e,fl,!0);else if(function(t){return ni&&(Ge(t,"Delete",{metaKey:!0})||Ge(t,"k",{ctrlKey:!0}))}(o))o.preventDefault(),le(e,fl,!1);else if(function(t){return Ge(t,"b",Oi)}(o))o.preventDefault(),le(e,In,"bold");else if(function(t){return Ge(t,"u",Oi)}(o))o.preventDefault(),le(e,In,"underline");else if(function(t){return Ge(t,"i",Oi)}(o))o.preventDefault(),le(e,In,"italic");else if(function(t){return Ge(t,"Tab",{shiftKey:"any"})}(o))le(e,gw,o);else if(function(t){return Ge(t,"z",Oi)}(o))o.preventDefault(),le(e,Od,void 0);else if(function(t){return ni?Ge(t,"z",{metaKey:!0,shiftKey:!0}):Ge(t,"y",{ctrlKey:!0})||Ge(t,"z",{ctrlKey:!0,shiftKey:!0})}(o))o.preventDefault(),le(e,Id,void 0);else{const t=e._editorState._selection;t===null||ee(t)?qS(o)&&(o.preventDefault(),le(e,im,o)):function(r){return Ge(r,"c",Oi)}(o)?(o.preventDefault(),le(e,Nd,o)):function(r){return Ge(r,"x",Oi)}(o)?(o.preventDefault(),le(e,Qp,o)):qS(o)&&(o.preventDefault(),le(e,im,o))}(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey})(o)&&le(e,r2,o)}}],["pointerdown",function(o,e){const t=o.target,r=o.pointerType;Ua(t)&&r!=="touch"&&r!=="pen"&&o.button===0&&yn(e,()=>{zS(t)||(sm=!0)})}],["compositionstart",function(o,e){yn(e,()=>{const t=ue();if(ee(t)&&!e.isComposing()){const r=t.anchor,s=t.anchor.getNode();Nt(r.key),(o.timeStamp<Xs+rm||r.type==="element"||!t.isCollapsed()||s.getFormat()!==t.format||re(s)&&s.getStyle()!==t.style)&&le(e,ga,Ox)}})}],["compositionend",function(o,e){ao?Bs=!0:Ca||!ll&&!Ku?yn(e,()=>{tu(e,o.data)}):(yg=!0,vg=o.data)}],["input",function(o,e){o.stopPropagation(),yn(e,()=>{if(rn(o.target)&&zS(o.target))return;const t=ue(),r=o.data,s=Ew(o);if(r!=null&&ee(t)&&Tw(t,s,r,o.timeStamp,!1)){Bs&&(tu(e,r),Bs=!1);const l=t.anchor.getNode(),u=qn(Nn(e));if(u===null)return;const h=t.isBackward(),f=h?t.anchor.offset:t.focus.offset,m=h?t.focus.offset:t.anchor.offset;Bu&&!t.isCollapsed()&&re(l)&&u.anchorNode!==null&&l.getTextContent().slice(0,f)+r+l.getTextContent().slice(f+m)===$w(u.anchorNode)||le(e,ga,r);const p=r.length;ao&&p>1&&o.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=p),ll||Ca||Ku||!e.isComposing()||(Xs=0,Nt(null))}else ay(!1,e,r!==null?r:void 0),Bs&&(tu(e,r||void 0),Bs=!1);(function(){Ht();const l=rt();Qb(l)})()},{event:o}),la=null}],["click",function(o,e){yn(e,()=>{const t=ue(),r=qn(Nn(e)),s=Pa();if(r){if(ee(t)){const l=t.anchor,u=l.getNode();if(l.type==="element"&&l.offset===0&&t.isCollapsed()&&!Mt(u)&&ot().getChildrenSize()===1&&u.getTopLevelElementOrThrow().isEmpty()&&s!==null&&t.is(s))r.removeAllRanges(),t.dirty=!0;else if(o.detail===3&&!t.isCollapsed()&&u!==t.focus.getNode()){const h=function(f,m){let p=f;for(;p!==ot()&&p!=null;){if(m(p))return p;p=p.getParent()}return null}(u,f=>Q(f)&&!f.isInline());Q(h)&&h.select(0)}}else if(o.pointerType==="touch"||o.pointerType==="pen"){const l=r.anchorNode;(rn(l)||Ki(l))&&nn(Xp(s,r,e,o))}}le(e,ow,o)})}],["cut",ki],["copy",ki],["dragstart",ki],["dragover",ki],["dragend",ki],["paste",ki],["focus",ki],["blur",ki],["drop",ki]];Bu&&om.push(["beforeinput",(o,e)=>function(t,r){const s=t.inputType,l=Ew(t);s==="deleteCompositionText"||ao&&Xw(r)||s!=="insertCompositionText"&&yn(r,()=>{const u=ue();if(s==="deleteContentBackward"){if(u===null){const S=Pa();if(!ee(S))return;nn(S.clone())}if(ee(u)){const S=u.anchor.key===u.focus.key;if(h=t.timeStamp,vw==="MediaLast"&&h<Xs+rm&&r.isComposing()&&S){if(Nt(null),Xs=0,setTimeout(()=>{yn(r,()=>{Nt(null)})},rm),ee(u)){const T=u.anchor.getNode();T.markDirty(),re(T)||W(142),Sw(u,T)}}else{Nt(null),t.preventDefault();const T=u.anchor.getNode(),E=T.getTextContent(),A=T.canInsertTextAfter(),w=u.anchor.offset===0&&u.focus.offset===E.length;let k=iS&&S&&!w&&A;if(k&&u.isCollapsed()&&(k=!Be(fm(u.anchor,!0))),!k){le(r,Zr,!0);const I=ue();iS&&ee(I)&&I.isCollapsed()&&($r=I,setTimeout(()=>$r=null))}}return}}var h;if(!ee(u))return;const f=t.data;la!==null&&ay(!1,r,la),u.dirty&&la===null||!u.isCollapsed()||Mt(u.anchor.getNode())||l===null||u.applyDOMRange(l),la=null;const m=u.anchor,p=u.focus,v=m.getNode(),C=p.getNode();if(s!=="insertText"&&s!=="insertTranspose")switch(t.preventDefault(),s){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":le(r,ga,t);break;case"insertFromComposition":Nt(null),le(r,ga,t);break;case"insertLineBreak":Nt(null),le(r,fa,!1);break;case"insertParagraph":Nt(null),Js&&!Ca?(Js=!1,le(r,fa,!1)):le(r,$u,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":le(r,Vp,t);break;case"deleteByComposition":(function(S,T){return S!==T||Q(S)||Q(T)||!eo(S)||!eo(T)})(v,C)&&le(r,nm,t);break;case"deleteByDrag":case"deleteByCut":le(r,nm,t);break;case"deleteContent":le(r,Zr,!1);break;case"deleteWordBackward":le(r,hl,!0);break;case"deleteWordForward":le(r,hl,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":le(r,fl,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":le(r,fl,!1);break;case"formatStrikeThrough":le(r,In,"strikethrough");break;case"formatBold":le(r,In,"bold");break;case"formatItalic":le(r,In,"italic");break;case"formatUnderline":le(r,In,"underline");break;case"historyUndo":le(r,Od,void 0);break;case"historyRedo":le(r,Id,void 0)}else{if(f===`
`)t.preventDefault(),le(r,fa,!1);else if(f===Hi)t.preventDefault(),le(r,$u,void 0);else if(f==null&&t.dataTransfer){const S=t.dataTransfer.getData("text/plain");t.preventDefault(),u.insertRawText(S)}else f!=null&&Tw(u,l,f,t.timeStamp,!0)?(t.preventDefault(),le(r,ga,f)):la=f;Cw=t.timeStamp}})}(o,e)]);let Xs=0,vw=null,Cw=0,la=null;const Ju=new WeakMap;let am=!1,sm=!1,Js=!1,Bs=!1,yg=!1,vg="",$r=null,_w=[0,"",0,"root",0];function Tw(o,e,t,r,s){const l=o.anchor,u=o.focus,h=l.getNode(),f=rt(),m=qn(Nn(f)),p=m!==null?m.anchorNode:null,v=l.key,C=f.getElementByKey(v),S=t.length;return v!==u.key||!re(h)||(!s&&(!Bu||Cw<r+50)||h.isDirty()&&S<2||Vw(t))&&l.offset!==u.offset&&!h.isComposing()||Ni(h)||h.isDirty()&&S>1||(s||!Bu)&&C!==null&&!h.isComposing()&&p!==Ta(C)||m!==null&&e!==null&&(!e.collapsed||e.startContainer!==m.anchorNode||e.startOffset!==m.anchorOffset)||h.getFormat()!==o.format||h.getStyle()!==o.style||function(T,E){if(E.isSegmented())return!0;if(!T.isCollapsed())return!1;const A=T.anchor.offset,w=E.getParentOrThrow(),k=eo(E);return A===0?!E.canInsertTextBefore()||!w.canInsertTextBefore()&&!E.isComposing()||k||function(I){const B=I.getPreviousSibling();return(re(B)||Q(B)&&B.isInline())&&!B.canInsertTextAfter()}(E):A===E.getTextContentSize()&&(!E.canInsertTextAfter()||!w.canInsertTextAfter()&&!E.isComposing()||k)}(o,h)}function pS(o,e){return Ki(o)&&o.nodeValue!==null&&e!==0&&e!==o.nodeValue.length}function yS(o,e,t){const{anchorNode:r,anchorOffset:s,focusNode:l,focusOffset:u}=o;am&&(am=!1,pS(r,s)&&pS(l,u)&&!$r)||yn(e,()=>{if(!t)return void nn(null);if(!kl(e,r,l))return;let h=ue();if($r&&ee(h)&&h.isCollapsed()){const f=h.anchor,m=$r.anchor;(f.key===m.key&&f.offset===m.offset+1||f.offset===1&&m.getNode().is(f.getNode().getPreviousSibling()))&&(h=$r.clone(),nn(h))}if($r=null,ee(h)){const f=h.anchor,m=f.getNode();if(h.isCollapsed()){o.type==="Range"&&o.anchorNode===o.focusNode&&(h.dirty=!0);const p=Nn(e).event,v=p?p.timeStamp:performance.now(),[C,S,T,E,A]=_w,w=ot(),k=e.isComposing()===!1&&w.getTextContent()==="";if(v<A+200&&f.offset===T&&f.key===E)pu(h,C,S);else if(f.type==="text")re(m)||W(141),Sw(h,m);else if(f.type==="element"&&!k){Q(m)||W(259);const I=f.getNode();I.isEmpty()?function(B,L){const K=L.getTextFormat(),Y=L.getTextStyle();pu(B,K,Y)}(h,I):pu(h,0,"")}}else{const p=f.key,v=h.focus.key,C=h.getNodes(),S=C.length,T=h.isBackward(),E=T?u:s,A=T?s:u,w=T?v:p,k=T?p:v;let I=Rx,B=!1;for(let L=0;L<S;L++){const K=C[L],Y=K.getTextContentSize();if(re(K)&&Y!==0&&!(L===0&&K.__key===w&&E===Y||L===S-1&&K.__key===k&&A===0)&&(B=!0,I&=K.getFormat(),I===0))break}h.format=B?I:0}}le(e,rw,void 0)})}function pu(o,e,t){o.format===e&&o.style===t||(o.format=e,o.style=t,o.dirty=!0)}function Sw(o,e){pu(o,e.getFormat(),e.getStyle())}function Ew(o){if(!o.getTargetRanges)return null;const e=o.getTargetRanges();return e.length===0?null:e[0]}function tu(o,e){const t=o._compositionKey;if(Nt(null),t!==null&&e!=null){if(e===""){const r=Et(t),s=Ta(o.getElementByKey(t));return void(s!==null&&s.nodeValue!==null&&re(r)&&sy(r,s.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=ue();if(ee(r)){const s=r.focus;return r.anchor.set(s.key,s.offset,s.type),void le(o,Xu,null)}}}ay(!0,o,e)}function Aw(o){let e=o.__lexicalEventHandles;return e===void 0&&(e=[],o.__lexicalEventHandles=e),e}const ma=new Map;function bw(o){const e=H2(o.target);if(e===null)return;const t=Gw(e.anchorNode);if(t===null)return;sm&&(sm=!1,yn(t,()=>{const f=Pa(),m=e.anchorNode;(rn(m)||Ki(m))&&nn(Xp(f,e,t,o))}));const r=oy(t),s=r[r.length-1],l=s._key,u=ma.get(l),h=u||s;h!==t&&yS(e,h,!1),yS(e,t,!0),t!==s?ma.set(l,t):u&&ma.delete(l)}function vS(o){o._lexicalHandled=!0}function CS(o){return o._lexicalHandled===!0}function o2(o){const e=o.ownerDocument,t=Ju.get(e);if(t===void 0)return;const r=t-1;r>=0||W(164),Ju.set(e,r),r===0&&e.removeEventListener("selectionchange",bw);const s=Pd(o);ry(s)?(function(u){if(u._parentEditor!==null){const h=oy(u),f=h[h.length-1]._key;ma.get(f)===u&&ma.delete(f)}else ma.delete(u._key)}(s),o.__lexicalEditor=null):s&&W(198);const l=Aw(o);for(let u=0;u<l.length;u++)l[u]();o.__lexicalEventHandles=[]}function lm(o,e,t){Ht();const r=o.__key,s=o.getParent();if(s===null)return;const l=function(h){const f=ue();if(!ee(f)||!Q(h))return f;const{anchor:m,focus:p}=f,v=m.getNode(),C=p.getNode();return gm(v,h)&&m.set(h.__key,0,"element"),gm(C,h)&&p.set(h.__key,0,"element"),f}(o);let u=!1;if(ee(l)&&e){const h=l.anchor,f=l.focus;h.key===r&&(Zu(h,o,s,o.getPreviousSibling(),o.getNextSibling()),u=!0),f.key===r&&(Zu(f,o,s,o.getPreviousSibling(),o.getNextSibling()),u=!0)}else pn(l)&&e&&o.isSelected()&&o.selectPrevious();if(ee(l)&&e&&!u){const h=o.getIndexWithinParent();to(o),Wu(l,s,h,-1)}else to(o);t||Fi(s)||s.canBeEmpty()||!s.isEmpty()||lm(s,e),e&&l&&Mt(s)&&s.isEmpty()&&s.selectEnd()}class xa{static getType(){const{ownNodeType:e}=hy(this);return e===void 0&&W(64,this.name),e}static clone(e){W(65,this.name)}$config(){return{}}config(e,t){const r=t.extends||Object.getPrototypeOf(this.constructor);return Object.assign(t,{extends:r,type:e}),{[e]:t}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),N2(this,e)}getType(){return this.__type}isInline(){W(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const t=Et(e);if(t===null)break;e=t.__parent}return!1}isSelected(e){const t=e||ue();if(t==null)return!1;const r=t.getNodes().some(s=>s.__key===this.__key);if(re(this))return r;if(ee(t)&&t.anchor.type==="element"&&t.focus.type==="element"){if(t.isCollapsed())return!1;const s=this.getParent();if(Be(this)&&this.isInline()&&s){const l=t.isBackward()?t.focus:t.anchor;if(s.is(l.getNode())&&l.offset===s.getChildrenSize()&&this.is(s.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let t=e.getFirstChild(),r=0;for(;t!==null;){if(this.is(t))return r;r++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:Et(e)}getParentOrThrow(){const e=this.getParent();return e===null&&W(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const t=e.getParent();if(Fi(t))return Q(e)||e===this&&Be(e)||W(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&W(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:Et(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(t===null)return e;let r=t.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:Et(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=Q(this)?this:this.getParent(),r=Q(e)?e:e.getParent(),s=t&&r?vu(t,r):null;return s?s.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const t=vu(this,e);return t!==null&&(t.type==="descendant"||(t.type==="branch"?e0(t)===-1:(t.type!=="same"&&t.type!=="ancestor"&&W(279),!1)))}isParentOf(e){const t=vu(this,e);return t!==null&&t.type==="ancestor"}getNodesBetween(e){const t=this.isBefore(e),r=[],s=new Set;let l=this;for(;l!==null;){const u=l.__key;if(s.has(u)||(s.add(u),r.push(l)),l===e)break;const h=Q(l)?t?l.getFirstChild():l.getLastChild():null;if(h!==null){l=h;continue}const f=t?l.getNextSibling():l.getPreviousSibling();if(f!==null){l=f;continue}const m=l.getParentOrThrow();if(s.has(m.__key)||r.push(m),m===e)break;let p=null,v=m;do{if(v===null&&W(68),p=t?v.getNextSibling():v.getPreviousSibling(),v=v.getParent(),v===null)break;p!==null||s.has(v.__key)||r.push(v)}while(p===null);l=p}return t||r.reverse(),r}isDirty(){const e=rt()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=Et(this.__key);return e===null&&W(113),e}getWritable(){Ht();const e=Rr(),t=rt(),r=e._nodeMap,s=this.__key,l=this.getLatest(),u=t._cloneNotNeeded,h=ue();if(h!==null&&h.setCachedNodes(null),u.has(s))return td(l),l;const f=dy(l);return u.add(s),td(f),r.set(s,f),f}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){W(70)}updateDOM(e,t,r){W(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){W(18,this.name)}updateFromJSON(e){return function(t,r){const s=t.getWritable(),l=r.$;let u=l;for(const h of Jb(s).flatKeys)h in r&&(u!==void 0&&u!==l||(u={...l}),u[h]=r[h]);return(s.__state||u)&&Gx(t).updateFromJSON(u),s}(this,e)}static transform(){return null}remove(e){lm(this,!0,e)}replace(e,t){Ht();let r=ue();r!==null&&(r=r.clone()),Ag(this,e);const s=this.getLatest(),l=this.__key,u=e.__key,h=e.getWritable(),f=this.getParentOrThrow().getWritable(),m=f.__size;to(h);const p=s.getPreviousSibling(),v=s.getNextSibling(),C=s.__prev,S=s.__next,T=s.__parent;if(lm(s,!1,!0),p===null?f.__first=u:p.getWritable().__next=u,h.__prev=C,v===null?f.__last=u:v.getWritable().__prev=u,h.__next=S,h.__parent=T,f.__size=m,t&&(Q(this)&&Q(h)||W(139),this.getChildren().forEach(E=>{h.append(E)})),ee(r)){nn(r);const E=r.anchor,A=r.focus;E.key===l&&ES(E,h),A.key===l&&ES(A,h)}return yr()===l&&Nt(u),h}insertAfter(e,t=!0){Ht(),Ag(this,e);const r=this.getWritable(),s=e.getWritable(),l=s.getParent(),u=ue();let h=!1,f=!1;if(l!==null){const S=e.getIndexWithinParent();if(to(s),ee(u)){const T=l.__key,E=u.anchor,A=u.focus;h=E.type==="element"&&E.key===T&&E.offset===S+1,f=A.type==="element"&&A.key===T&&A.offset===S+1}}const m=this.getNextSibling(),p=this.getParentOrThrow().getWritable(),v=s.__key,C=r.__next;if(m===null?p.__last=v:m.getWritable().__prev=v,p.__size++,r.__next=v,s.__next=C,s.__prev=r.__key,s.__parent=r.__parent,t&&ee(u)){const S=this.getIndexWithinParent();Wu(u,p,S+1);const T=p.__key;h&&u.anchor.set(T,S+2,"element"),f&&u.focus.set(T,S+2,"element")}return e}insertBefore(e,t=!0){Ht(),Ag(this,e);const r=this.getWritable(),s=e.getWritable(),l=s.__key;to(s);const u=this.getPreviousSibling(),h=this.getParentOrThrow().getWritable(),f=r.__prev,m=this.getIndexWithinParent();u===null?h.__first=l:u.getWritable().__next=l,h.__size++,r.__prev=l,s.__prev=f,s.__next=r.__key,s.__parent=r.__parent;const p=ue();return t&&ee(p)&&Wu(p,this.getParentOrThrow(),m),e}isParentRequired(){return!1}createParentElementNode(){return si()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){Ht();const r=this.getPreviousSibling(),s=this.getParentOrThrow();if(r===null)return s.select(0,0);if(Q(r))return r.select();if(!re(r)){const l=r.getIndexWithinParent()+1;return s.select(l,l)}return r.select(e,t)}selectNext(e,t){Ht();const r=this.getNextSibling(),s=this.getParentOrThrow();if(r===null)return s.select();if(Q(r))return r.select(0,0);if(!re(r)){const l=r.getIndexWithinParent();return s.select(l,l)}return r.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class _l extends xa{static getType(){return"linebreak"}static clone(e){return new _l(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>function(t){const r=t.parentElement;if(r!==null&&nd(r)){const s=r.firstChild;if(s===t||s.nextSibling===t&&nu(s)){const l=r.lastChild;if(l===t||l.previousSibling===t&&nu(l))return!0}}return!1}(e)||function(t){const r=t.parentElement;if(r!==null&&nd(r)){const s=r.firstChild;if(s===t||s.nextSibling===t&&nu(s))return!1;const l=r.lastChild;if(l===t||l.previousSibling===t&&nu(l))return!0}return!1}(e)?null:{conversion:a2,priority:0}}}static importJSON(e){return uo().updateFromJSON(e)}}function a2(o){return{node:uo()}}function uo(){return Hd(new _l)}function Ws(o){return o instanceof _l}function nu(o){return Ki(o)&&/^( |\t|\r?\n)+$/.test(o.textContent||"")}function Cg(o,e){return 16&e?"code":e&zp?"mark":32&e?"sub":64&e?"sup":null}function _g(o,e){return 1&e?"strong":2&e?"em":"span"}function ww(o,e,t,r,s){const l=r.classList;let u=pa(s,"base");u!==void 0&&l.add(...u),u=pa(s,"underlineStrikethrough");let h=!1;const f=e&qu&&e&Gu;u!==void 0&&(t&qu&&t&Gu?(h=!0,f||l.add(...u)):f&&l.remove(...u));for(const m in lo){const p=lo[m];if(u=pa(s,m),u!==void 0)if(t&p){if(h&&(m==="underline"||m==="strikethrough")){e&p&&l.remove(...u);continue}e&p&&(!f||m!=="underline")&&m!=="strikethrough"||l.add(...u)}else e&p&&l.remove(...u)}}function kw(o,e,t){const r=e.firstChild,s=t.isComposing(),l=o+(s?kd:"");if(r==null)e.textContent=l;else{const u=r.nodeValue;if(u!==l)if(s||ao){const[h,f,m]=function(p,v){const C=p.length,S=v.length;let T=0,E=0;for(;T<C&&T<S&&p[T]===v[T];)T++;for(;E+T<C&&E+T<S&&p[C-E-1]===v[S-E-1];)E++;return[T,C-T-E,v.slice(T,S-E)]}(u,l);f!==0&&r.deleteData(h,f),r.insertData(h,m)}else r.nodeValue=l}}function _S(o,e,t,r,s,l){kw(s,o,e);const u=l.theme.text;u!==void 0&&ww(0,0,r,o,u)}function iu(o,e){const t=document.createElement(e);return t.appendChild(o),t}class Da extends xa{static getType(){return"text"}static clone(e){return new Da(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return Px[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===yr()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=lo[e];return!!(this.getFormat()&t)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return ed(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const r=this.__format,s=Cg(0,r),l=_g(0,r),u=s===null?l:s,h=document.createElement(u);let f=h;this.hasFormat("code")&&h.setAttribute("spellcheck","false"),s!==null&&(f=document.createElement(l),h.appendChild(f)),_S(f,this,0,r,this.__text,e);const m=this.__style;return m!==""&&(h.style.cssText=m),h}updateDOM(e,t,r){const s=this.__text,l=e.__format,u=this.__format,h=Cg(0,l),f=Cg(0,u),m=_g(0,l),p=_g(0,u);if((h===null?m:h)!==(f===null?p:f))return!0;if(h===f&&m!==p){const E=t.firstChild;E==null&&W(48);const A=document.createElement(p);return _S(A,this,0,u,s,r),t.replaceChild(A,E),!1}let v=t;f!==null&&h!==null&&(v=t.firstChild,v==null&&W(49)),kw(s,v,this);const C=r.theme.text;C!==void 0&&l!==u&&ww(0,l,u,v,C);const S=e.__style,T=this.__style;return S!==T&&(t.style.cssText=T),!1}static importDOM(){return{"#text":()=>({conversion:u2,priority:0}),b:()=>({conversion:l2,priority:0}),code:()=>({conversion:Ri,priority:0}),em:()=>({conversion:Ri,priority:0}),i:()=>({conversion:Ri,priority:0}),mark:()=>({conversion:Ri,priority:0}),s:()=>({conversion:Ri,priority:0}),span:()=>({conversion:s2,priority:0}),strong:()=>({conversion:Ri,priority:0}),sub:()=>({conversion:Ri,priority:0}),sup:()=>({conversion:Ri,priority:0}),u:()=>({conversion:Ri,priority:0})}}static importJSON(e){return It().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return rn(t)||W(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=iu(t,"b")),this.hasFormat("italic")&&(t=iu(t,"i")),this.hasFormat("strikethrough")&&(t=iu(t,"s")),this.hasFormat("underline")&&(t=iu(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format=typeof e=="string"?lo[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail=typeof e=="string"?Mx[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=ed(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=Dx[e];if(this.__mode===t)return this;const r=this.getWritable();return r.__mode=t,r}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){Ht();let r=e,s=t;const l=ue(),u=this.getTextContent(),h=this.__key;if(typeof u=="string"){const f=u.length;r===void 0&&(r=f),s===void 0&&(s=f)}else r=0,s=0;if(!ee(l))return Nw(h,r,h,s,"text","text");{const f=yr();f!==l.anchor.key&&f!==l.focus.key||Nt(h),l.setTextNodeRange(this,r,this,s)}return l}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,r,s){const l=this.getWritable(),u=l.__text,h=r.length;let f=e;f<0&&(f=h+f,f<0&&(f=0));const m=ue();if(s&&ee(m)){const v=e+h;m.setTextNodeRange(l,v,l,v)}const p=u.slice(0,f)+r+u.slice(f+t);return l.__text=p,l}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){Ht();const t=this.getLatest(),r=t.getTextContent();if(r==="")return[];const s=t.__key,l=yr(),u=r.length;e.sort((G,H)=>G-H),e.push(u);const h=[],f=e.length;for(let G=0,H=0;G<u&&H<=f;H++){const ie=e[H];ie>G&&(h.push(r.slice(G,ie)),G=ie)}const m=h.length;if(m===1)return[t];const p=h[0],v=t.getParent();let C;const S=t.getFormat(),T=t.getStyle(),E=t.__detail;let A=!1,w=null,k=null;const I=ue();if(ee(I)){const[G,H]=I.isBackward()?[I.focus,I.anchor]:[I.anchor,I.focus];G.type==="text"&&G.key===s&&(w=G),H.type==="text"&&H.key===s&&(k=H)}t.isSegmented()?(C=It(p),C.__format=S,C.__style=T,C.__detail=E,C.__state=cS(t,C),A=!0):C=t.setTextContent(p);const B=[C];for(let G=1;G<m;G++){const H=It(h[G]);H.__format=S,H.__style=T,H.__detail=E,H.__state=cS(t,H);const ie=H.__key;l===s&&Nt(ie),B.push(H)}const L=w?w.offset:null,K=k?k.offset:null;let Y=0;for(const G of B){if(!w&&!k)break;const H=Y+G.getTextContentSize();if(w!==null&&L!==null&&L<=H&&L>=Y&&(w.set(G.getKey(),L-Y,"text"),L<H&&(w=null)),k!==null&&K!==null&&K<=H&&K>=Y){k.set(G.getKey(),K-Y,"text");break}Y=H}if(v!==null){(function(ie){const fe=ie.getPreviousSibling(),Ae=ie.getNextSibling();fe!==null&&td(fe),Ae!==null&&td(Ae)})(this);const G=v.getWritable(),H=this.getIndexWithinParent();A?(G.splice(H,0,B),this.remove()):G.splice(H,1,B),ee(I)&&Wu(I,v,H,m-1)}return B}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||W(50);const r=this.__key,s=e.__key,l=this.__text,u=l.length;yr()===s&&Nt(r);const h=ue();if(ee(h)){const v=h.anchor,C=h.focus;v!==null&&v.key===s&&IS(v,t,r,e,u),C!==null&&C.key===s&&IS(C,t,r,e,u)}const f=e.__text,m=t?f+l:l+f;this.setTextContent(m);const p=this.getWritable();return e.remove(),p}isTextEntity(){return!1}}function s2(o){return{forChild:$p(o.style),node:null}}function l2(o){const e=o,t=e.style.fontWeight==="normal";return{forChild:$p(e.style,t?void 0:"bold"),node:null}}const TS=new WeakMap;function c2(o){if(!rn(o))return!1;if(o.nodeName==="PRE")return!0;const e=o.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function u2(o){const e=o;o.parentElement===null&&W(129);let t=e.textContent||"";if(function(r){let s,l=r.parentNode;const u=[r];for(;l!==null&&(s=TS.get(l))===void 0&&!c2(l);)u.push(l),l=l.parentNode;const h=s===void 0?l:s;for(let f=0;f<u.length;f++)TS.set(u[f],h);return h}(e)!==null){const r=t.split(/(\r?\n|\t)/),s=[],l=r.length;for(let u=0;u<l;u++){const h=r[u];h===`
`||h===`\r
`?s.push(uo()):h==="	"?s.push(Sl()):h!==""&&s.push(It(h))}return{node:s}}if(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," "),t==="")return{node:null};if(t[0]===" "){let r=e,s=!0;for(;r!==null&&(r=SS(r,!1))!==null;){const l=r.textContent||"";if(l.length>0){/[ \t\n]$/.test(l)&&(t=t.slice(1)),s=!1;break}}s&&(t=t.slice(1))}if(t[t.length-1]===" "){let r=e,s=!0;for(;r!==null&&(r=SS(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){s=!1;break}s&&(t=t.slice(0,t.length-1))}return t===""?{node:null}:{node:It(t)}}function SS(o,e){let t=o;for(;;){let r;for(;(r=e?t.nextSibling:t.previousSibling)===null;){const l=t.parentElement;if(l===null)return null;t=l}if(t=r,rn(t)){const l=t.style.display;if(l===""&&!ym(t)||l!==""&&!l.startsWith("inline"))return null}let s=t;for(;(s=e?t.firstChild:t.lastChild)!==null;)t=s;if(Ki(t))return t;if(t.nodeName==="BR")return null}}const d2={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Ri(o){const e=d2[o.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:$p(o.style,e),node:null}}function It(o=""){return Hd(new Da(o))}function re(o){return o instanceof Da}function $p(o,e){const t=o.fontWeight,r=o.textDecoration.split(" "),s=t==="700"||t==="bold",l=r.includes("line-through"),u=o.fontStyle==="italic",h=r.includes("underline"),f=o.verticalAlign;return m=>(re(m)&&(s&&!m.hasFormat("bold")&&m.toggleFormat("bold"),l&&!m.hasFormat("strikethrough")&&m.toggleFormat("strikethrough"),u&&!m.hasFormat("italic")&&m.toggleFormat("italic"),h&&!m.hasFormat("underline")&&m.toggleFormat("underline"),f!=="sub"||m.hasFormat("subscript")||m.toggleFormat("subscript"),f!=="super"||m.hasFormat("superscript")||m.toggleFormat("superscript"),e&&!m.hasFormat(e)&&m.toggleFormat(e)),m)}class Tl extends Da{static getType(){return"tab"}static clone(e){return new Tl(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),r=pa(e.theme,"tab");return r!==void 0&&t.classList.add(...r),t}static importJSON(e){return Sl().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&W(126),super.setTextContent("	")}spliceText(e,t,r,s){return r===""&&t===0||r==="	"&&t===1||W(286),this}setDetail(e){return e!==2&&W(127),this}setMode(e){return e!=="normal"&&W(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Sl(){return Hd(new Tl)}function Rw(o){return o instanceof Tl}class h2{constructor(e,t,r){this._selection=null,this.key=e,this.offset=t,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:Zw(oi(Bi(this,"next")),oi(Bi(e,"next")))<0}getNode(){const e=Et(this.key);return e===null&&W(20),e}set(e,t,r,s){const l=this._selection,u=this.key;s&&this.key===e&&this.offset===t&&this.type===r||(this.key=e,this.offset=t,this.type=r,El()||(yr()===u&&Nt(e),l!==null&&(l.setCachedNodes(null),l.dirty=!0)))}}function ci(o,e,t){return new h2(o,e,t)}function Tg(o,e){let t=e.__key,r=o.offset,s="element";if(re(e)){s="text";const l=e.getTextContentSize();r>l&&(r=l)}else if(!Q(e)){const l=e.getNextSibling();if(re(l))t=l.__key,r=0,s="text";else{const u=e.getParent();u&&(t=u.__key,r=e.getIndexWithinParent()+1)}}o.set(t,r,s)}function ES(o,e){if(Q(e)){const t=e.getLastDescendant();Q(t)||re(t)?Tg(o,t):Tg(o,e)}else Tg(o,e)}class Md{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!pn(e))return!1;const t=this._nodes,r=e._nodes;return t.size===r.size&&Array.from(t).every(s=>r.has(s))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Md(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),r=t.length,s=t[r-1];let l;if(re(s))l=s.select();else{const u=s.getIndexWithinParent()+1;l=s.getParentOrThrow().select(u,u)}l.insertNodes(e);for(let u=0;u<r;u++)t[u].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=this._nodes,r=[];for(const s of t){const l=Et(s);l!==null&&r.push(l)}return El()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((ue()||Pa())===this&&e[0]){const t=zt(e[0],"next");X2(wr(t,t))}for(const t of e)t.remove()}}function ee(o){return o instanceof yo}class yo{constructor(e,t,r,s){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=r,this.style=s,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!ee(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=function(r){const s=[],[l,u]=r.getTextSlices();l&&s.push(l.caret.origin);const h=new Set,f=new Set;for(const m of r)if(li(m)){const{origin:p}=m;s.length===0?h.add(p):(f.add(p),s.push(p))}else{const{origin:p}=m;Q(p)&&f.has(p)||s.push(p)}if(u&&s.push(u.caret.origin),Aa(r.focus)&&Q(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let m=zi(r.focus.origin,"previous");li(m)&&h.has(m.origin)&&!m.origin.isEmpty()&&m.origin.is(s[s.length-1]);m=my(m))h.delete(m.origin),s.pop();for(;s.length>1;){const m=s[s.length-1];if(!Q(m)||f.has(m)||m.isEmpty()||h.has(m))break;s.pop()}if(s.length===0&&r.isCollapsed()){const m=oi(r.anchor),p=oi(r.anchor.getFlipped()),v=S=>Sr(S)?S.origin:S.getNodeAtCaret(),C=v(m)||v(p)||(r.anchor.getNodeAtCaret()?m.origin:p.origin);s.push(C)}return s}(n0(XS(this),"next"));return El()||(this._cachedNodes=t),t}setTextNodeRange(e,t,r,s){this.anchor.set(e.__key,t,"text"),this.focus.set(r.__key,s,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const t=e[0],r=e[e.length-1],s=this.anchor,l=this.focus,u=s.isBefore(l),[h,f]=cm(this);let m="",p=!0;for(let v=0;v<e.length;v++){const C=e[v];if(Q(C)&&!C.isInline())p||(m+=`
`),p=!C.isEmpty();else if(p=!1,re(C)){let S=C.getTextContent();C===t?C===r?s.type==="element"&&l.type==="element"&&l.offset!==s.offset||(S=h<f?S.slice(h,f):S.slice(f,h)):S=u?S.slice(h):S.slice(f):C===r&&(S=u?S.slice(0,f):S.slice(0,h)),m+=S}else!Be(C)&&!Ws(C)||C===r&&this.isCollapsed()||(m+=C.getTextContent())}return m}applyDOMRange(e){const t=rt(),r=t.getEditorState()._selection,s=Iw(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,r);if(s===null)return;const[l,u]=s;this.anchor.set(l.key,l.offset,l.type,!0),this.focus.set(u.key,u.offset,u.type,!0),ju(this)}clone(){const e=this.anchor,t=this.focus;return new yo(ci(e.key,e.offset,e.type),ci(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=ed(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=lo[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),r=[],s=t.length;for(let l=0;l<s;l++){const u=t[l];u===`
`||u===`\r
`?r.push(uo()):u==="	"?r.push(Sl()):r.push(It(u))}this.insertNodes(r)}insertText(e){const t=this.anchor,r=this.focus,s=this.format,l=this.style;let u=t,h=r;!this.isCollapsed()&&r.isBefore(t)&&(u=r,h=t),u.type==="element"&&function(A,w,k,I){const B=A.getNode(),L=B.getChildAtIndex(A.offset),K=It(),Y=Mt(B)?si().append(K):K;K.setFormat(k),K.setStyle(I),L===null?B.append(Y):L.insertBefore(Y),A.is(w)&&w.set(K.__key,0,"text"),A.set(K.__key,0,"text")}(u,h,s,l),h.type==="element"&&ml(h,oi(Bi(h,"next")));const f=u.offset;let m=h.offset;const p=this.getNodes(),v=p.length;let C=p[0];re(C)||W(26);const S=C.getTextContent().length,T=C.getParentOrThrow();let E=p[v-1];if(v===1&&h.type==="element"&&(m=S,h.set(u.key,m,"text")),this.isCollapsed()&&f===S&&(Ni(C)||!C.canInsertTextAfter()||!T.canInsertTextAfter()&&C.getNextSibling()===null)){let A=C.getNextSibling();if(re(A)&&A.canInsertTextBefore()&&!Ni(A)||(A=It(),A.setFormat(s),A.setStyle(l),T.canInsertTextAfter()?C.insertAfter(A):T.insertAfter(A)),A.select(0,0),C=A,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&f===0&&(Ni(C)||!C.canInsertTextBefore()||!T.canInsertTextBefore()&&C.getPreviousSibling()===null)){let A=C.getPreviousSibling();if(re(A)&&!Ni(A)||(A=It(),A.setFormat(s),T.canInsertTextBefore()?C.insertBefore(A):T.insertBefore(A)),A.select(),C=A,e!=="")return void this.insertText(e)}else if(C.isSegmented()&&f!==S){const A=It(C.getTextContent());A.setFormat(s),C.replace(A),C=A}else if(!this.isCollapsed()&&e!==""){const A=E.getParent();if(!T.canInsertTextBefore()||!T.canInsertTextAfter()||Q(A)&&(!A.canInsertTextBefore()||!A.canInsertTextAfter()))return this.insertText(""),Ow(this.anchor,this.focus,null),void this.insertText(e)}if(v===1){if(eo(C)){const I=It(e);return I.select(),void C.replace(I)}const A=C.getFormat(),w=C.getStyle();if(f!==m||A===s&&w===l){if(Rw(C)){const I=It(e);return I.setFormat(s),I.setStyle(l),I.select(),void C.replace(I)}}else{if(C.getTextContent()!==""){const I=It(e);if(I.setFormat(s),I.setStyle(l),I.select(),f===0)C.insertBefore(I,!1);else{const[B]=C.splitText(f);B.insertAfter(I,!1)}return void(I.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}C.setFormat(s),C.setStyle(l)}const k=m-f;C=C.spliceText(f,k,e,!0),C.getTextContent()===""?C.remove():this.anchor.type==="text"&&(C.isComposing()?this.anchor.offset-=e.length:(this.format=A,this.style=w))}else{const A=new Set([...C.getParentKeys(),...E.getParentKeys()]),w=Q(C)?C:C.getParentOrThrow();let k=Q(E)?E:E.getParentOrThrow(),I=E;if(!w.is(k)&&k.isInline())do I=k,k=k.getParentOrThrow();while(k.isInline());if(h.type==="text"&&(m!==0||E.getTextContent()==="")||h.type==="element"&&E.getIndexWithinParent()<m)if(re(E)&&!eo(E)&&m!==E.getTextContentSize()){if(E.isSegmented()){const G=It(E.getTextContent());E.replace(G),E=G}Mt(h.getNode())||h.type!=="text"||(E=E.spliceText(0,m,"")),A.add(E.__key)}else{const G=E.getParentOrThrow();G.canBeEmpty()||G.getChildrenSize()!==1?E.remove():G.remove()}else A.add(E.__key);const B=k.getChildren(),L=new Set(p),K=w.is(k),Y=w.isInline()&&C.getNextSibling()===null?w:C;for(let G=B.length-1;G>=0;G--){const H=B[G];if(H.is(C)||Q(H)&&H.isParentOf(C))break;H.isAttached()&&(!L.has(H)||H.is(I)?K||Y.insertAfter(H,!1):H.remove())}if(!K){let G=k,H=null;for(;G!==null;){const ie=G.getChildren(),fe=ie.length;(fe===0||ie[fe-1].is(H))&&(A.delete(G.__key),H=G),G=G.getParent()}}if(eo(C))if(f===S)C.select();else{const G=It(e);G.select(),C.replace(G)}else C=C.spliceText(f,S-f,e,!0),C.getTextContent()===""?C.remove():C.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let G=1;G<v;G++){const H=p[G],ie=H.__key;A.has(ie)||H.remove()}}}removeText(){const e=ue()===this;Cu(this,J2(XS(this))),e&&ue()!==this&&nn(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void Nt(null);const r=this.getNodes(),s=[];for(const B of r)re(B)&&s.push(B);const l=B=>{r.forEach(L=>{if(Q(L)){const K=L.getFormatFlags(e,B);L.setTextFormat(K)}})},u=s.length;if(u===0)return this.toggleFormat(e),Nt(null),void l(t);const h=this.anchor,f=this.focus,m=this.isBackward(),p=m?f:h,v=m?h:f;let C=0,S=s[0],T=p.type==="element"?0:p.offset;if(p.type==="text"&&T===S.getTextContentSize()&&(C=1,S=s[1],T=0),S==null)return;const E=S.getFormatFlags(e,t);l(E);const A=u-1;let w=s[A];const k=v.type==="text"?v.offset:w.getTextContentSize();if(S.is(w)){if(T===k)return;if(Ni(S)||T===0&&k===S.getTextContentSize())S.setFormat(E);else{const B=S.splitText(T,k),L=T===0?B[0]:B[1];L.setFormat(E),p.type==="text"&&p.set(L.__key,0,"text"),v.type==="text"&&v.set(L.__key,k-T,"text")}return void(this.format=E)}T===0||Ni(S)||([,S]=S.splitText(T),T=0),S.setFormat(E);const I=w.getFormatFlags(e,E);k>0&&(k===w.getTextContentSize()||Ni(w)||([w]=w.splitText(k)),w.setFormat(I));for(let B=C+1;B<A;B++){const L=s[B],K=L.getFormatFlags(e,I);L.setFormat(K)}p.type==="text"&&p.set(S.__key,T,"text"),v.type==="text"&&v.set(w.__key,k,"text"),this.format=E|I}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const T=ue();return ee(T)||W(134),T.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),r=wg(t,mr),s=e[e.length-1];if(Q(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const T=Sg(this);r.splice(T,0,e),s.selectEnd()}return}if(!e.some(T=>(Q(T)||Be(T))&&!T.isInline())){Q(r)||W(211,t.constructor.name,t.getType());const T=Sg(this);return r.splice(T,0,e),void s.selectEnd()}const l=function(T){const E=si();let A=null;for(let w=0;w<T.length;w++){const k=T[w],I=Ws(k);if(I||Be(k)&&k.isInline()||Q(k)&&k.isInline()||re(k)||k.isParentRequired()){if(A===null&&(A=k.createParentElementNode(),E.append(A),I))continue;A!==null&&A.append(k)}else E.append(k),A=null}return E}(e),u=l.getLastDescendant(),h=l.getChildren(),f=!Q(r)||!r.isEmpty()?this.insertParagraph():null,m=h[h.length-1];let p=h[0];var v;Q(v=p)&&mr(v)&&!v.isEmpty()&&Q(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(Q(r)||W(211,t.constructor.name,t.getType()),r.append(...p.getChildren()),p=h[1]),p&&(r===null&&W(212,t.constructor.name,t.getType()),function(T,E,A){const w=E.getParentOrThrow().getLastChild();let k=E;const I=[E];for(;k!==w;)k.getNextSibling()||W(140),k=k.getNextSibling(),I.push(k);let B=T;for(const L of I)B=B.insertAfter(L)}(r,p));const C=wg(u,mr);f&&Q(C)&&(f.canMergeWhenEmpty()||mr(m))&&(C.append(...f.getChildren()),f.remove()),Q(r)&&r.isEmpty()&&r.remove(),u.selectEnd();const S=Q(r)?r.getLastChild():null;Ws(S)&&C!==r&&S.remove()}insertParagraph(){if(this.anchor.key==="root"){const u=si();return ot().splice(this.anchor.offset,0,[u]),u.select(),u}const e=Sg(this),t=wg(this.anchor.getNode(),mr);Q(t)||W(213);const r=t.getChildAtIndex(e),s=r?[r,...r.getNextSiblings()]:[],l=t.insertNewAfter(this,!1);return l?(l.append(...s),l.selectStart(),l):null}insertLineBreak(e){const t=uo();if(this.insertNodes([t]),e){const r=t.getParentOrThrow(),s=t.getIndexWithinParent();r.select(s,s)}}extract(){const e=this.getNodes(),t=e.length,r=t-1,s=this.anchor,l=this.focus;let u=e[0],h=e[r];const[f,m]=cm(this);if(t===0)return[];if(t===1){if(re(u)&&!this.isCollapsed()){const v=f>m?m:f,C=f>m?f:m,S=u.splitText(v,C),T=v===0?S[0]:S[1];return T!=null?[T]:[]}return[u]}const p=s.isBefore(l);if(re(u)){const v=p?f:m;v===u.getTextContentSize()?e.shift():v!==0&&([,u]=u.splitText(v),e[0]=u)}if(re(h)){const v=h.getTextContent().length,C=p?m:f;C===0?e.pop():C!==v&&([h]=h.splitText(C),e[r]=h)}return e}modify(e,t,r){if(NS(this,e,t,r))return;const s=e==="move",l=rt(),u=qn(Nn(l));if(!u)return;const h=l._blockCursorElement,f=l._rootElement,m=this.focus.getNode();if(f===null||h===null||!Q(m)||m.isInline()||m.canBeEmpty()||mm(h,l,f),this.dirty){let p=Ea(l,this.anchor.key),v=Ea(l,this.focus.key);this.anchor.type==="text"&&(p=Ta(p)),this.focus.type==="text"&&(v=Ta(v)),p&&v&&Dw(u,p,this.anchor.offset,v,this.focus.offset)}if(function(p,v,C,S){p.modify(v,C,S)}(u,e,t?"backward":"forward",r),u.rangeCount>0){const p=u.getRangeAt(0),v=this.anchor.getNode(),C=Mt(v)?v:U2(v);if(this.applyDOMRange(p),this.dirty=!0,!s){const S=this.getNodes(),T=[];let E=!1;for(let A=0;A<S.length;A++){const w=S[A];gm(w,C)?T.push(w):E=!0}if(E&&T.length>0)if(t){const A=T[0];Q(A)?A.selectStart():A.getParentOrThrow().selectStart()}else{const A=T[T.length-1];Q(A)?A.selectEnd():A.getParentOrThrow().selectEnd()}u.anchorNode===p.startContainer&&u.anchorOffset===p.startOffset||function(A){const w=A.focus,k=A.anchor,I=k.key,B=k.offset,L=k.type;k.set(w.key,w.offset,w.type,!0),w.set(I,B,L,!0)}(this)}}r==="lineboundary"&&NS(this,e,t,r,"decorators")}forwardDeletion(e,t,r){if(!r&&(e.type==="element"&&Q(t)&&e.offset===t.getChildrenSize()||e.type==="text"&&e.offset===t.getTextContentSize())){const s=t.getParent(),l=t.getNextSibling()||(s===null?null:s.getNextSibling());if(Q(l)&&l.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let s=r.getNode();if(this.forwardDeletion(r,s,e))return;const l=yy(Bi(r,e?"previous":"next"));if(l.getTextSlices().every(h=>h===null||h.distance===0)){let h={type:"initial"};for(const f of l.iterNodeCarets("shadowRoot"))if(li(f)){if(!f.origin.isInline()){if(f.origin.isShadowRoot()){if(h.type==="merge-block")break;if(Q(l.anchor.origin)&&l.anchor.origin.isEmpty()){const m=oi(f);Cu(this,wr(m,m)),l.anchor.origin.remove()}return}h.type!=="merge-next-block"&&h.type!=="merge-block"||(h={block:h.block,caret:f,type:"merge-block"})}}else{if(h.type==="merge-block")break;if(Aa(f)){if(Q(f.origin)){if(f.origin.isInline()){if(!f.origin.isParentOf(l.anchor.origin))break}else h={block:f.origin,type:"merge-next-block"};continue}if(Be(f.origin)){if(!f.origin.isIsolated())if(h.type==="merge-next-block"&&(f.origin.isKeyboardSelectable()||!f.origin.isInline())&&Q(l.anchor.origin)&&l.anchor.origin.isEmpty()){l.anchor.origin.remove();const m=xw();m.add(f.origin.getKey()),nn(m)}else f.origin.remove();return}break}}if(h.type==="merge-block"){const{caret:f,block:m}=h;return Cu(this,wr(!f.origin.isEmpty()&&m.isEmpty()?vy(zt(m,f.direction)):l.anchor,f)),this.removeText()}}const u=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&bS(this,r.getNode()))return}else{const h=u.type==="text"?u.getNode():null;if(s=r.type==="text"?r.getNode():null,h!==null&&h.isSegmented()){const f=u.offset,m=h.getTextContentSize();if(h.is(s)||e&&f!==m||!e&&f!==0)return void wS(h,e,f)}else if(s!==null&&s.isSegmented()){const f=r.offset,m=s.getTextContentSize();if(s.is(h)||e&&f!==0||!e&&f!==m)return void wS(s,e,f)}(function(f,m){const p=f.anchor,v=f.focus,C=p.getNode(),S=v.getNode();if(C===S&&p.type==="text"&&v.type==="text"){const T=p.offset,E=v.offset,A=T<E,w=A?T:E,k=A?E:T,I=k-1;w!==I&&function(B){return!(Vw(B)||f2(B))}(C.getTextContent().slice(w,k))&&(m?v.set(v.key,I,v.type):p.set(p.key,I,p.type))}})(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&Mt(r.getParent())&&r.getPreviousSibling()===null&&bS(this,r)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,r=t.getNode();if(this.forwardDeletion(t,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function pn(o){return o instanceof Md}function AS(o){const e=o.offset;if(o.type==="text")return e;const t=o.getNode();return e===t.getChildrenSize()?t.getTextContent().length:0}function cm(o){const e=o.getStartEndPoints();if(e===null)return[0,0];const[t,r]=e;return t.type==="element"&&r.type==="element"&&t.key===r.key&&t.offset===r.offset?[0,0]:[AS(t),AS(r)]}function bS(o,e){for(let t=e;t;t=t.getParent()){if(Q(t)){if(t.collapseAtStart(o))return!0;if(Fi(t))break}if(t.getPreviousSibling())break}return!1}const f2=(()=>{try{const o=new RegExp("\\p{Emoji}","u"),e=o.test.bind(o);if(e("")&&e("#")&&e(""))return e}catch{}return()=>!1})();function wS(o,e,t){const r=o,s=r.getTextContent().split(/(?=\s)/g),l=s.length;let u=0,h=0;for(let m=0;m<l;m++){const p=m===l-1;if(h=u,u+=s[m].length,e&&u===t||u>t||p){s.splice(m,1),p&&(h=void 0);break}}const f=s.join("").trim();f===""?r.remove():(r.setTextContent(f),r.select(h,h))}function kS(o,e,t,r){let s,l=e;if(rn(o)){let u=!1;const h=o.childNodes,f=h.length,m=r._blockCursorElement;l===f&&(u=!0,l=f-1);let p=h[l],v=!1;if(p===m)p=h[l+1],v=!0;else if(m!==null){const C=m.parentNode;o===C&&e>Array.prototype.indexOf.call(C.children,m)&&l--}if(s=ca(p),re(s))l=KS(s,u);else{let C=ca(o);if(C===null)return null;if(Q(C)){const S=r.getElementByKey(C.getKey());S===null&&W(214),[C,l]=C.getDOMSlot(S).resolveChildIndex(C,S,o,e),Q(C)||W(215),u&&l>=C.getChildrenSize()&&(l=Math.max(0,C.getChildrenSize()-1));let E=C.getChildAtIndex(l);if(Q(E)&&function(A,w,k){const I=A.getParent();return k===null||I===null||!I.canBeEmpty()||I!==k.getNode()}(E,0,t)){const A=u?E.getLastDescendant():E.getFirstDescendant();A===null?C=E:(E=A,C=Q(E)?E:E.getParentOrThrow()),l=0}re(E)?(s=E,C=null,l=KS(E,u)):E!==C&&u&&!v&&(Q(C)||W(216),l=Math.min(C.getChildrenSize(),l+1))}else{const S=C.getIndexWithinParent();l=e===0&&Be(C)&&ca(o)===C?S:S+1,C=C.getParentOrThrow()}if(Q(C))return ci(C.__key,l,"element")}}else s=ca(o);return re(s)?ci(s.__key,l,"text"):null}function RS(o,e,t){const r=o.offset,s=o.getNode();if(r===0){const l=s.getPreviousSibling(),u=s.getParent();if(e){if((t||!e)&&l===null&&Q(u)&&u.isInline()){const h=u.getPreviousSibling();re(h)&&o.set(h.__key,h.getTextContent().length,"text")}}else Q(l)&&!t&&l.isInline()?o.set(l.__key,l.getChildrenSize(),"element"):re(l)&&o.set(l.__key,l.getTextContent().length,"text")}else if(r===s.getTextContent().length){const l=s.getNextSibling(),u=s.getParent();if(e&&Q(l)&&l.isInline())o.set(l.__key,0,"element");else if((t||e)&&l===null&&Q(u)&&u.isInline()&&!u.canInsertTextAfter()){const h=u.getNextSibling();re(h)&&o.set(h.__key,0,"text")}}}function Ow(o,e,t){if(o.type==="text"&&e.type==="text"){const r=o.isBefore(e),s=o.is(e);RS(o,r,s),RS(e,!r,s),s&&e.set(o.key,o.offset,o.type);const l=rt();if(l.isComposing()&&l._compositionKey!==o.key&&ee(t)){const u=t.anchor,h=t.focus;o.set(u.key,u.offset,u.type,!0),e.set(h.key,h.offset,h.type,!0)}}}function Iw(o,e,t,r,s,l){if(o===null||t===null||!kl(s,o,t))return null;const u=kS(o,e,ee(l)?l.anchor:null,s);if(u===null)return null;const h=kS(t,r,ee(l)?l.focus:null,s);if(h===null)return null;if(u.type==="element"&&h.type==="element"){const f=ca(o),m=ca(t);if(Be(f)&&Be(m))return null}return Ow(u,h,l),[u,h]}function um(o){return Q(o)&&!o.isInline()}function Nw(o,e,t,r,s,l){const u=Rr(),h=new yo(ci(o,e,s),ci(t,r,l),0,"");return h.dirty=!0,u._selection=h,h}function Mw(){const o=ci("root",0,"element"),e=ci("root",0,"element");return new yo(o,e,0,"")}function xw(){return new Md(new Set)}function Xp(o,e,t,r){const s=t._window;if(s===null)return null;const l=r||s.event,u=l?l.type:void 0,h=u==="selectionchange",f=!$g&&(h||u==="beforeinput"||u==="compositionstart"||u==="compositionend"||u==="click"&&l&&l.detail===3||u==="drop"||u===void 0);let m,p,v,C;if(ee(o)&&!f)return o.clone();if(e===null)return null;if(m=e.anchorNode,p=e.focusNode,v=e.anchorOffset,C=e.focusOffset,h&&ee(o)&&!kl(t,m,p))return o.clone();const S=Iw(m,v,p,C,t,o);if(S===null)return null;const[T,E]=S;return new yo(T,E,ee(o)?o.format:0,ee(o)?o.style:"")}function ue(){return Rr()._selection}function Pa(){return rt()._editorState._selection}function Wu(o,e,t,r=1){const s=o.anchor,l=o.focus,u=s.getNode(),h=l.getNode();if(!e.is(u)&&!e.is(h))return;const f=e.__key;if(o.isCollapsed()){const m=s.offset;if(t<=m&&r>0||t<m&&r<0){const p=Math.max(0,m+r);s.set(f,p,"element"),l.set(f,p,"element"),OS(o)}}else{const m=o.isBackward(),p=m?l:s,v=p.getNode(),C=m?s:l,S=C.getNode();if(e.is(v)){const T=p.offset;(t<=T&&r>0||t<T&&r<0)&&p.set(f,Math.max(0,T+r),"element")}if(e.is(S)){const T=C.offset;(t<=T&&r>0||t<T&&r<0)&&C.set(f,Math.max(0,T+r),"element")}}OS(o)}function OS(o){const e=o.anchor,t=e.offset,r=o.focus,s=r.offset,l=e.getNode(),u=r.getNode();if(o.isCollapsed()){if(!Q(l))return;const h=l.getChildrenSize(),f=t>=h,m=f?l.getChildAtIndex(h-1):l.getChildAtIndex(t);if(re(m)){let p=0;f&&(p=m.getTextContentSize()),e.set(m.__key,p,"text"),r.set(m.__key,p,"text")}}else{if(Q(l)){const h=l.getChildrenSize(),f=t>=h,m=f?l.getChildAtIndex(h-1):l.getChildAtIndex(t);if(re(m)){let p=0;f&&(p=m.getTextContentSize()),e.set(m.__key,p,"text")}}if(Q(u)){const h=u.getChildrenSize(),f=s>=h,m=f?u.getChildAtIndex(h-1):u.getChildAtIndex(s);if(re(m)){let p=0;f&&(p=m.getTextContentSize()),r.set(m.__key,p,"text")}}}}function Zu(o,e,t,r,s){let l=null,u=0,h=null;r!==null?(l=r.__key,re(r)?(u=r.getTextContentSize(),h="text"):Q(r)&&(u=r.getChildrenSize(),h="element")):s!==null&&(l=s.__key,re(s)?h="text":Q(s)&&(h="element")),l!==null&&h!==null?o.set(l,u,h):(u=e.getIndexWithinParent(),u===-1&&(u=t.getChildrenSize()),o.set(t.__key,u,"element"))}function IS(o,e,t,r,s){o.type==="text"?o.set(t,o.offset+(e?0:s),"text"):o.offset>r.getIndexWithinParent()&&o.set(o.key,o.offset-1,"element")}function Dw(o,e,t,r,s){try{o.setBaseAndExtent(e,t,r,s)}catch{}}function g2(o,e,t,r,s,l,u){const h=r.anchorNode,f=r.focusNode,m=r.anchorOffset,p=r.focusOffset,v=document.activeElement;if(s.has(T2)&&v!==l||v!==null&&iy(v))return;if(!ee(e))return void(o!==null&&kl(t,h,f)&&r.removeAllRanges());const C=e.anchor,S=e.focus,T=C.key,E=S.key,A=Ea(t,T),w=Ea(t,E),k=C.offset,I=S.offset,B=e.format,L=e.style,K=e.isCollapsed();let Y=A,G=w,H=!1;if(C.type==="text"){Y=Ta(A);const Ee=C.getNode();H=Ee.getFormat()!==B||Ee.getStyle()!==L}else ee(o)&&o.anchor.type==="text"&&(H=!0);var ie,fe,Ae,be,Se;if(S.type==="text"&&(G=Ta(w)),Y!==null&&G!==null&&(K&&(o===null||H||ee(o)&&(o.format!==B||o.style!==L))&&(ie=B,fe=L,Ae=k,be=T,Se=performance.now(),_w=[ie,fe,Ae,be,Se]),m!==k||p!==I||h!==Y||f!==G||r.type==="Range"&&K||(v!==null&&l.contains(v)||l.focus({preventScroll:!0}),C.type==="element"))){if(Dw(r,Y,k,G,I),!s.has(S2)&&e.isCollapsed()&&l!==null&&l===document.activeElement){const Ee=ee(e)&&e.anchor.type==="element"?Y.childNodes[k]||null:r.rangeCount>0?r.getRangeAt(0):null;if(Ee!==null){let F;if(Ee instanceof Text){const te=document.createRange();te.selectNode(Ee),F=te.getBoundingClientRect()}else F=Ee.getBoundingClientRect();(function(te,de,Ie){const R=Jw(Ie),J=cy(R);if(R===null||J===null)return;let{top:ae,bottom:oe}=de,ge=0,Ne=0,me=Ie;for(;me!==null;){const bt=me===R.body;if(bt)ge=0,Ne=Nn(te).innerHeight;else{const on=me.getBoundingClientRect();ge=on.top,Ne=on.bottom}let ze=0;if(ae<ge?ze=-(ge-ae):oe>Ne&&(ze=oe-Ne),ze!==0)if(bt)J.scrollBy(0,ze);else{const on=me.scrollTop;me.scrollTop+=ze;const vo=me.scrollTop-on;ae-=vo,oe-=vo}if(bt)break;me=Rl(me)}})(t,F,l)}}am=!0}}function m2(o){let e=ue()||Pa();e===null&&(e=ot().selectEnd()),e.insertNodes(o)}function Sg(o){let e=o;o.isCollapsed()||e.removeText();const t=ue();ee(t)&&(e=t),ee(e)||W(161);const r=e.anchor;let s=r.getNode(),l=r.offset;for(;!mr(s);){const u=s;if([s,l]=p2(s,l),u.is(s))break}return l}function p2(o,e){const t=o.getParent();if(!t){const s=si();return ot().append(s),s.select(),[ot(),0]}if(re(o)){const s=o.splitText(e);if(s.length===0)return[t,o.getIndexWithinParent()];const l=e===0?0:1;return[t,s[0].getIndexWithinParent()+l]}if(!Q(o)||e===0)return[t,o.getIndexWithinParent()];const r=o.getChildAtIndex(e);if(r){const s=new yo(ci(o.__key,e,"element"),ci(o.__key,e,"element"),0,""),l=o.insertNewAfter(s);l&&l.append(r,...r.getNextSiblings())}return[t,o.getIndexWithinParent()+1]}function NS(o,e,t,r,s="decorators-and-blocks"){if(e==="move"&&r==="character"&&!o.isCollapsed()){const[p,v]=t===o.isBackward()?[o.focus,o.anchor]:[o.anchor,o.focus];return v.set(p.key,p.offset,p.type),!0}const l=Bi(o.focus,t?"previous":"next"),u=r==="lineboundary",h=e==="move";let f=l,m=s==="decorators-and-blocks";if(!t0(f)){for(const p of f){m=!1;const{origin:v}=p;if(!Be(v)||v.isIsolated()||(f=p,!u||!v.isInline()))break}if(m)for(const p of yy(l).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(li(p))p.origin.isInline()||(f=p);else{if(Q(p.origin))continue;Be(p.origin)&&!p.origin.isInline()&&(f=p)}break}}if(f===l)return!1;if(h&&!u&&Be(f.origin)&&f.origin.isKeyboardSelectable()){const p=xw();return p.add(f.origin.getKey()),nn(p),!0}return f=oi(f),h&&ml(o.anchor,f),ml(o.focus,f),m||!u}let Tt=null,St=null,en=!1,Eg=!1,yu=0;const MS={characterData:!0,childList:!0,subtree:!0};function El(){return en||Tt!==null&&Tt._readOnly}function Ht(){en&&W(13)}function Pw(){yu>99&&W(14)}function Rr(){return Tt===null&&W(195,Uw()),Tt}function rt(){return St===null&&W(196,Uw()),St}function Uw(){let o=0;const e=new Set,t=Dd.version;if(typeof window<"u")for(const s of document.querySelectorAll("[contenteditable]")){const l=Pd(s);if(ry(l))o++;else if(l){let u=String(l.constructor.version||"<0.17.1");u===t&&(u+=" (separately built, likely a bundler configuration issue)"),e.add(u)}}let r=` Detected on the page: ${o} compatible editor(s) with version ${t}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function y2(){return St}function xS(o,e,t){const r=e.__type,s=Fw(o,r);let l=t.get(r);l===void 0&&(l=Array.from(s.transforms),t.set(r,l));const u=l.length;for(let h=0;h<u&&(l[h](e),e.isAttached());h++);}function DS(o,e){return o!==void 0&&o.__key!==e&&o.isAttached()}function Lw(o,e){if(!e)return;const t=o._updateTags;let r=e;Array.isArray(e)||(r=[e]);for(const s of r)t.add(s)}function v2(o){return Jp(o,rt()._nodes)}function Jp(o,e){const t=o.type,r=e.get(t);r===void 0&&W(17,t);const s=r.klass;o.type!==s.getType()&&W(18,s.name);const l=s.importJSON(o),u=o.children;if(Q(l)&&Array.isArray(u))for(let h=0;h<u.length;h++){const f=Jp(u[h],e);l.append(f)}return l}function PS(o,e,t){const r=Tt,s=en,l=St;Tt=e,en=!0,St=o;try{return t()}finally{Tt=r,en=s,St=l}}function xi(o,e){const t=o._pendingEditorState,r=o._rootElement,s=o._headless||r===null;if(t===null)return;const l=o._editorState,u=l._selection,h=t._selection,f=o._dirtyType!==so,m=Tt,p=en,v=St,C=o._updating,S=o._observer;let T=null;if(o._pendingEditorState=null,o._editorState=t,!s&&f&&S!==null){St=o,Tt=t,en=!1,o._updating=!0;try{const K=o._dirtyType,Y=o._dirtyElements,G=o._dirtyLeaves;S.disconnect(),T=Yx(l,t,o,K,Y,G)}catch(K){if(K instanceof Error&&o._onError(K),Eg)throw K;return Kw(o,null,r,t),$b(o),o._dirtyType=_a,Eg=!0,xi(o,l),void(Eg=!1)}finally{S.observe(r,MS),o._updating=C,Tt=m,en=p,St=v}}t._readOnly||(t._readOnly=!0);const E=o._dirtyLeaves,A=o._dirtyElements,w=o._normalizedNodes,k=o._updateTags,I=o._deferred;f&&(o._dirtyType=so,o._cloneNotNeeded.clear(),o._dirtyLeaves=new Set,o._dirtyElements=new Map,o._normalizedNodes=new Set,o._updateTags=new Set),function(K,Y){const G=K._decorators;let H=K._pendingDecorators||G;const ie=Y._nodeMap;let fe;for(fe in H)ie.has(fe)||(H===G&&(H=jw(K)),delete H[fe])}(o,t);const B=s?null:qn(Nn(o));if(o._editable&&B!==null&&(f||h===null||h.dirty)&&r!==null&&!k.has(E2)){St=o,Tt=t;try{if(S!==null&&S.disconnect(),f||h===null||h.dirty){const K=o._blockCursorElement;K!==null&&mm(K,o,r),g2(u,h,o,B,k,r)}(function(K,Y,G){let H=K._blockCursorElement;if(ee(G)&&G.isCollapsed()&&G.anchor.type==="element"&&Y.contains(document.activeElement)){const ie=G.anchor,fe=ie.getNode(),Ae=ie.offset;let be=!1,Se=null;if(Ae===fe.getChildrenSize())bg(fe.getChildAtIndex(Ae-1))&&(be=!0);else{const Ee=fe.getChildAtIndex(Ae);if(Ee!==null&&bg(Ee)){const F=Ee.getPreviousSibling();(F===null||bg(F))&&(be=!0,Se=K.getElementByKey(Ee.__key))}}if(be){const Ee=K.getElementByKey(fe.__key);return H===null&&(K._blockCursorElement=H=function(F){const te=F.theme,de=document.createElement("div");de.contentEditable="false",de.setAttribute("data-lexical-cursor","true");let Ie=te.blockCursor;if(Ie!==void 0){if(typeof Ie=="string"){const R=Fu(Ie);Ie=te.blockCursor=R}Ie!==void 0&&de.classList.add(...Ie)}return de}(K._config)),Y.style.caretColor="transparent",void(Se===null?Ee.appendChild(H):Ee.insertBefore(H,Se))}}H!==null&&mm(H,K,Y)})(o,r,h)}finally{S!==null&&S.observe(r,MS),St=v,Tt=m}}T!==null&&function(K,Y,G,H,ie){const fe=Array.from(K._listeners.mutation),Ae=fe.length;for(let be=0;be<Ae;be++){const[Se,Ee]=fe[be];for(const F of Ee){const te=Y.get(F);te!==void 0&&Se(te,{dirtyLeaves:H,prevEditorState:ie,updateTags:G})}}}(o,T,k,E,l),ee(h)||h===null||u!==null&&u.is(h)||o.dispatchCommand(rw,void 0);const L=o._pendingDecorators;L!==null&&(o._decorators=L,o._pendingDecorators=null,Zs("decorator",o,!0,L)),function(K,Y,G){const H=BS(Y),ie=BS(G);H!==ie&&Zs("textcontent",K,!0,ie)}(o,e||l,t),Zs("update",o,!0,{dirtyElements:A,dirtyLeaves:E,editorState:t,mutatedNodes:T,normalizedNodes:w,prevEditorState:e||l,tags:k}),function(K,Y){if(K._deferred=[],Y.length!==0){const G=K._updating;K._updating=!0;try{for(let H=0;H<Y.length;H++)Y[H]()}finally{K._updating=G}}}(o,I),function(K){const Y=K._updates;if(Y.length!==0){const G=Y.shift();if(G){const[H,ie]=G;Wp(K,H,ie)}}}(o)}function Zs(o,e,t,...r){const s=e._updating;e._updating=t;try{const l=Array.from(e._listeners[o]);for(let u=0;u<l.length;u++)l[u].apply(null,r)}finally{e._updating=s}}function US(o,e){const t=o._updates;let r=e||!1;for(;t.length!==0;){const s=t.shift();if(s){const[l,u]=s;let h;if(u!==void 0){if(h=u.onUpdate,u.skipTransforms&&(r=!0),u.discrete){const f=o._pendingEditorState;f===null&&W(191),f._flushSync=!0}h&&o._deferred.push(h),Lw(o,u.tag)}l()}}return r}function Wp(o,e,t){const r=o._updateTags;let s,l=!1,u=!1;t!==void 0&&(s=t.onUpdate,Lw(o,t.tag),l=t.skipTransforms||!1,u=t.discrete||!1),s&&o._deferred.push(s);const h=o._editorState;let f=o._pendingEditorState,m=!1;(f===null||f._readOnly)&&(f=o._pendingEditorState=zw(f||h),m=!0),f._flushSync=u;const p=Tt,v=en,C=St,S=o._updating;Tt=f,en=!1,o._updating=!0,St=o;const T=o._headless||o.getRootElement()===null;ty(null);try{m&&(T?h._selection!==null&&(f._selection=h._selection.clone()):f._selection=function(k,I){const B=k.getEditorState()._selection,L=qn(Nn(k));return ee(B)||B==null?Xp(B,L,k,I):B.clone()}(o,t&&t.event||null));const A=o._compositionKey;e(),l=US(o,l),function(k,I){const B=I.getEditorState()._selection,L=k._selection;if(ee(L)){const K=L.anchor,Y=L.focus;let G;if(K.type==="text"&&(G=K.getNode(),G.selectionTransform(B,L)),Y.type==="text"){const H=Y.getNode();G!==H&&H.selectionTransform(B,L)}}}(f,o),o._dirtyType!==so&&(l?function(k,I){const B=I._dirtyLeaves,L=k._nodeMap;for(const K of B){const Y=L.get(K);re(Y)&&Y.isAttached()&&Y.isSimpleText()&&!Y.isUnmergeable()&&hS(Y)}}(f,o):function(k,I){const B=I._dirtyLeaves,L=I._dirtyElements,K=k._nodeMap,Y=yr(),G=new Map;let H=B,ie=H.size,fe=L,Ae=fe.size;for(;ie>0||Ae>0;){if(ie>0){I._dirtyLeaves=new Set;for(const be of H){const Se=K.get(be);re(Se)&&Se.isAttached()&&Se.isSimpleText()&&!Se.isUnmergeable()&&hS(Se),Se!==void 0&&DS(Se,Y)&&xS(I,Se,G),B.add(be)}if(H=I._dirtyLeaves,ie=H.size,ie>0){yu++;continue}}I._dirtyLeaves=new Set,I._dirtyElements=new Map,fe.delete("root")&&fe.set("root",!0);for(const be of fe){const Se=be[0],Ee=be[1];if(L.set(Se,Ee),!Ee)continue;const F=K.get(Se);F!==void 0&&DS(F,Y)&&xS(I,F,G)}H=I._dirtyLeaves,ie=H.size,fe=I._dirtyElements,Ae=fe.size,yu++}I._dirtyLeaves=B,I._dirtyElements=L}(f,o),US(o),function(k,I,B,L){const K=k._nodeMap,Y=I._nodeMap,G=[];for(const[H]of L){const ie=Y.get(H);ie!==void 0&&(ie.isAttached()||(Q(ie)&&Yb(ie,H,K,Y,G,L),K.has(H)||L.delete(H),G.push(H)))}for(const H of G)Y.delete(H);for(const H of B){const ie=Y.get(H);ie===void 0||ie.isAttached()||(K.has(H)||B.delete(H),Y.delete(H))}}(h,f,o._dirtyLeaves,o._dirtyElements)),A!==o._compositionKey&&(f._flushSync=!0);const w=f._selection;if(ee(w)){const k=f._nodeMap,I=w.anchor.key,B=w.focus.key;k.get(I)!==void 0&&k.get(B)!==void 0||W(19)}else pn(w)&&w._nodes.size===0&&(f._selection=null)}catch(A){return A instanceof Error&&o._onError(A),o._pendingEditorState=h,o._dirtyType=_a,o._cloneNotNeeded.clear(),o._dirtyLeaves=new Set,o._dirtyElements.clear(),void xi(o)}finally{Tt=p,en=v,St=C,o._updating=S,yu=0}o._dirtyType!==so||o._deferred.length>0||function(A,w){const k=w.getEditorState()._selection,I=A._selection;if(I!==null){if(I.dirty||!I.is(k))return!0}else if(k!==null)return!0;return!1}(f,o)?f._flushSync?(f._flushSync=!1,xi(o)):m&&O2(()=>{xi(o)}):(f._flushSync=!1,m&&(r.clear(),o._deferred=[],o._pendingEditorState=null))}function yn(o,e,t){St===o&&t===void 0?e():Wp(o,e,t)}class el{constructor(e,t,r){this.element=e,this.before=t||null,this.after=r||null}withBefore(e){return new el(this.element,e,this.after)}withAfter(e){return new el(this.element,this.before,e)}withElement(e){return this.element===e?this:new el(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return t!==null&&t.parentElement!==this.element&&W(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&W(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&W(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const t=e==="decorator"&&(Ca||ll);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,r=e.nodeName==="IMG"?e.nextSibling:null;r&&t.removeChild(r),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===(t.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,s=this.before,l=document.createElement("br");if(r.insertBefore(l,s),e){const u=document.createElement("img");u.setAttribute("data-lexical-linebreak","true"),u.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",u.alt="",r.insertBefore(u,l),r.__lexicalLineBreak=u}else r.__lexicalLineBreak=l}getFirstChildOffset(){let e=0;for(let t=this.after;t!==null;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,r,s){if(r===this.element){const f=this.getFirstChildOffset();return[e,Math.min(f+e.getChildrenSize(),Math.max(f,s))]}const l=LS(t,r);l.push(s);const u=LS(t,this.element);let h=e.getIndexWithinParent();for(let f=0;f<u.length;f++){const m=l[f],p=u[f];if(m===void 0||m<p)break;if(m>p){h+=1;break}}return[e.getParentOrThrow(),h]}}function LS(o,e){const t=[];let r=e;for(;r!==o&&r!==null;r=r.parentNode){let s=0;for(let l=r.previousSibling;l!==null;l=l.previousSibling)s++;t.push(s)}return r!==o&&W(225),t.reverse()}class Al extends xa{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return xx[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=rt()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return t!==null&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;t!==null;){if(re(t)&&e.push(t),Q(t)){const r=t.getAllTextNodes();e.push(...r)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;Q(e);){const t=e.getFirstChild();if(t===null)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;Q(e);){const t=e.getLastChild();if(t===null)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),r=t.length;if(e>=r){const l=t[r-1];return Q(l)&&l.getLastDescendant()||l||null}const s=t[e];return Q(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:Et(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&W(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:Et(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&W(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let r,s;if(e<t/2){for(r=this.getFirstChild(),s=0;r!==null&&s<=e;){if(s===e)return r;r=r.getNextSibling(),s++}return null}for(r=this.getLastChild(),s=t-1;r!==null&&s>=e;){if(s===e)return r;r=r.getPreviousSibling(),s--}return null}getTextContent(){let e="";const t=this.getChildren(),r=t.length;for(let s=0;s<r;s++){const l=t[s];e+=l.getTextContent(),Q(l)&&s!==r-1&&!l.isInline()&&(e+=Hi)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),r=t.length;for(let s=0;s<r;s++){const l=t[s];e+=l.getTextContentSize(),Q(l)&&s!==r-1&&!l.isInline()&&(e+=Hi.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const t=rS[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){const t=lo[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return ed(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){Ht();const r=ue();let s=e,l=t;const u=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&t===0){const f=this.getFirstChild();if(re(f)||Q(f))return f.select(0,0)}else if(!(e!==void 0&&e!==u||t!==void 0&&t!==u)){const f=this.getLastChild();if(re(f)||Q(f))return f.select()}}s===void 0&&(s=u),l===void 0&&(l=u);const h=this.__key;return ee(r)?(r.anchor.set(h,s,"element"),r.focus.set(h,l,"element"),r.dirty=!0,r):Nw(h,s,h,l,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(t=>t.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=e!==""?rS[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,r){const s=r.length,l=this.getChildrenSize(),u=this.getWritable();e+t<=l||W(226,String(e),String(t),String(l));const h=u.__key,f=[],m=[],p=this.getChildAtIndex(e+t);let v=null,C=l-t+s;if(e!==0)if(e===l)v=this.getLastChild();else{const T=this.getChildAtIndex(e);T!==null&&(v=T.getPreviousSibling())}if(t>0){let T=v===null?this.getFirstChild():v.getNextSibling();for(let E=0;E<t;E++){T===null&&W(100);const A=T.getNextSibling(),w=T.__key;to(T.getWritable()),m.push(w),T=A}}let S=v;for(let T=0;T<s;T++){const E=r[T];S!==null&&E.is(S)&&(v=S=S.getPreviousSibling());const A=E.getWritable();A.__parent===h&&C--,to(A);const w=E.__key;if(S===null)u.__first=w,A.__prev=null;else{const k=S.getWritable();k.__next=w,A.__prev=k.__key}E.__key===h&&W(76),A.__parent=h,f.push(w),S=E}if(e+t===l)S!==null&&(S.getWritable().__next=null,u.__last=S.__key);else if(p!==null){const T=p.getWritable();if(S!==null){const E=S.getWritable();T.__prev=S.__key,E.__next=p.__key}else T.__prev=null}if(u.__size=C,m.length){const T=ue();if(ee(T)){const E=new Set(m),A=new Set(f),{anchor:w,focus:k}=T;HS(w,E,A)&&Zu(w,w.getNode(),this,v,p),HS(k,E,A)&&Zu(k,k.getNode(),this,v,p),C!==0||this.canBeEmpty()||Fi(this)||this.remove()}}return u}getDOMSlot(e){return new el(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(rn(t)){const r=this.getIndent();r>0&&(t.style.paddingInlineStart=40*r+"px");const s=this.getDirection();s&&(t.dir=s)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),r=this.getTextStyle();return t!==0&&(e.textFormat=t),r!==""&&(e.textStyle=r),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const r=this.getDOMSlot(e);let s=r.getFirstChild();for(let l=this.getFirstChild();l;l=l.getNextSibling()){const u=t.getElementByKey(l.getKey());u!==null&&(s==null?(r.insertChild(u),s=u):s!==u&&r.replaceChild(u,s),s=s.nextSibling)}}}function Q(o){return o instanceof Al}function HS(o,e,t){let r=o.getNode();for(;r;){const s=r.__key;if(e.has(s)&&!t.has(s))return!0;r=r.getParent()}return!1}class Hw extends xa{decorate(e,t){W(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Be(o){return o instanceof Hw}class bl extends Al{static getType(){return"root"}static clone(){return new bl}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){W(51)}getTextContent(){const e=this.__cachedText;return!El()&&rt()._dirtyType!==so||e===null?super.getTextContent():e}remove(){W(52)}replace(e){W(53)}insertBefore(e){W(54)}insertAfter(e){W(55)}updateDOM(e,t){return!1}splice(e,t,r){for(const s of r)Q(s)||Be(s)||W(282);return super.splice(e,t,r)}static importJSON(e){return ot().updateFromJSON(e)}collapseAtStart(){return!0}}function Mt(o){return o instanceof bl}function zw(o){return new xd(new Map(o._nodeMap))}function Zp(){return new xd(new Map([["root",new bl]]))}function Bw(o){const e=o.exportJSON(),t=o.constructor;if(e.type!==t.getType()&&W(130,t.name),Q(o)){const r=e.children;Array.isArray(r)||W(59,t.name);const s=o.getChildren();for(let l=0;l<s.length;l++){const u=Bw(s[l]);r.push(u)}}return e}class xd{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,t){return PS(t&&t.editor||null,this,e)}clone(e){const t=new xd(this._nodeMap,e===void 0?this._selection:e);return t._readOnly=!0,t}toJSON(){return PS(null,this,()=>({root:Bw(ot())}))}}const dm="historic",C2="history-push",tl="history-merge",_2="paste",T2="collaboration",S2="skip-scroll-into-view",E2="skip-dom-selection";class ey extends Al{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class wl extends Al{static getType(){return"paragraph"}static clone(e){return new wl(e.__key)}createDOM(e){const t=document.createElement("p"),r=pa(e.theme,"paragraph");return r!==void 0&&t.classList.add(...r),t}updateDOM(e,t,r){return!1}static importDOM(){return{p:e=>({conversion:A2,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(rn(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r)}return{element:t}}static importJSON(e){return si().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){const r=si();r.setTextFormat(e.format),r.setTextStyle(e.style);const s=this.getDirection();return r.setDirection(s),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,t),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||re(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function A2(o){const e=si();return o.style&&(e.setFormat(o.style.textAlign),B2(o,e)),{node:e}}function si(){return Hd(new wl)}function b2(o){return o instanceof wl}const Pe=0,w2=4;function Kw(o,e,t,r){const s=o._keyToDOMMap;s.clear(),o._editorState=Zp(),o._pendingEditorState=r,o._compositionKey=null,o._dirtyType=so,o._cloneNotNeeded.clear(),o._dirtyLeaves=new Set,o._dirtyElements.clear(),o._normalizedNodes=new Set,o._updateTags=new Set,o._updates=[],o._blockCursorElement=null;const l=o._observer;l!==null&&(l.disconnect(),o._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",s.set("root",t))}function k2(o){const e=o||{},t=y2(),r=e.theme||{},s=o===void 0?t:e.parentEditor||null,l=e.disableEvents||!1,u=Zp(),h=e.namespace||(s!==null?s._config.namespace:Qw()),f=e.editorState,m=[bl,Da,_l,Tl,wl,ey,...e.nodes||[]],{onError:p,html:v}=e,C=e.editable===void 0||e.editable;let S;if(o===void 0&&t!==null)S=t._nodes;else{S=new Map;for(let E=0;E<m.length;E++){let A=m[E],w=null,k=null;if(typeof A!="function"){const Y=A;A=Y.replace,w=Y.with,k=Y.withKlass||null}const{ownNodeConfig:I}=hy(A),B=A.getType(),L=A.transform(),K=new Set;I&&I.$transform&&K.add(I.$transform),L!==null&&K.add(L),S.set(B,{exportDOM:v&&v.export?v.export.get(A):void 0,klass:A,replace:w,replaceWithKlass:k,sharedNodeState:Kx(m[E]),transforms:K})}}const T=new Dd(u,s,S,{disableEvents:l,namespace:h,theme:r},p||console.error,function(E,A){const w=new Map,k=new Set,I=B=>{Object.keys(B).forEach(L=>{let K=w.get(L);K===void 0&&(K=[],w.set(L,K)),K.push(B[L])})};return E.forEach(B=>{const L=B.klass.importDOM;if(L==null||k.has(L))return;k.add(L);const K=L.call(B.klass);K!==null&&I(K)}),A&&I(A),w}(S,v?v.import:void 0),C,o);return f!==void 0&&(T._pendingEditorState=f,T._dirtyType=_a),T}class Dd{constructor(e,t,r,s,l,u,h,f){this._createEditorArgs=f,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=s,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=so,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Qw(),this._onError=l,this._htmlConversions=u,this._editable=h,this._headless=t!==null&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,r){r===void 0&&W(35);const s=this._commands;s.has(e)||s.set(e,[new Set,new Set,new Set,new Set,new Set]);const l=s.get(e);l===void 0&&W(36,String(e));const u=l[r];return u.add(t),()=>{u.delete(t),l.every(h=>h.size===0)&&s.delete(e)}}registerMutationListener(e,t,r){const s=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,l=this._listeners.mutation;let u=l.get(t);u===void 0&&(u=new Set,l.set(t,u)),u.add(s);const h=r&&r.skipInitialization;return h!==void 0&&h||this.initializeMutationListener(t,s),()=>{u.delete(s),u.size===0&&l.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return t===void 0&&W(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const r=this._editorState,s=VS(r).get(t.getType());if(!s)return;const l=new Map;for(const u of s.keys())l.set(u,"created");l.size>0&&e(l,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const r=this.getRegisteredNode(e);return r.transforms.add(t),r}registerNodeTransform(e,t){const r=this.registerNodeTransformToKlass(e,t),s=[r],l=r.replaceWithKlass;if(l!=null){const u=this.registerNodeTransformToKlass(l,t);s.push(u)}return function(u,h){const f=VS(u.getEditorState()),m=[];for(const p of h){const v=f.get(p);v&&m.push(v)}m.length!==0&&u.update(()=>{for(const p of m)for(const v of p.keys()){const C=Et(v);C&&C.markDirty()}},u._pendingEditorState===null?{tag:tl}:void 0)}(this,s.map(u=>u.klass.getType())),()=>{s.forEach(u=>u.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return le(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const r=pa(this._config.theme,"root"),s=this._pendingEditorState||this._editorState;if(this._rootElement=e,Kw(this,t,e,s),t!==null&&(this._config.disableEvents||o2(t),r!=null&&t.classList.remove(...r)),e!==null){const l=cy(e),u=e.style;u.userSelect="text",u.whiteSpace="pre-wrap",u.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=l,this._dirtyType=_a,$b(this),this._updateTags.add(tl),xi(this),this._config.disableEvents||function(h,f){const m=h.ownerDocument,p=Ju.get(m);(p===void 0||p<1)&&m.addEventListener("selectionchange",bw),Ju.set(m,(p||0)+1),h.__lexicalEditor=f;const v=Aw(h);for(let C=0;C<om.length;C++){const[S,T]=om[C],E=typeof T=="function"?A=>{CS(A)||(vS(A),(f.isEditable()||S==="click")&&T(A,f))}:A=>{if(CS(A))return;vS(A);const w=f.isEditable();switch(S){case"cut":return w&&le(f,Qp,A);case"copy":return le(f,Nd,A);case"paste":return w&&le(f,Vp,A);case"dragstart":return w&&le(f,pw,A);case"dragover":return w&&le(f,yw,A);case"dragend":return w&&le(f,Zx,A);case"focus":return w&&le(f,n2,A);case"blur":return w&&le(f,i2,A);case"drop":return w&&le(f,mw,A)}};h.addEventListener(S,E),v.push(()=>{h.removeEventListener(S,E)})}}(e,this),r!=null&&e.classList.add(...r)}else this._window=null,this._updateTags.add(tl),xi(this);Zs("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&W(38);let r=e;r._readOnly&&(r=zw(e),r._selection=e._selection?e._selection.clone():null),Qb(this);const s=this._pendingEditorState,l=this._updateTags,u=t!==void 0?t.tag:null;s===null||s.isEmpty()||(u!=null&&l.add(u),xi(this)),this._pendingEditorState=r,this._dirtyType=_a,this._dirtyElements.set("root",!1),this._compositionKey=null,u!=null&&l.add(u),this._updating||xi(this)}parseEditorState(e,t){return function(r,s,l){const u=Zp(),h=Tt,f=en,m=St,p=s._dirtyElements,v=s._dirtyLeaves,C=s._cloneNotNeeded,S=s._dirtyType;s._dirtyElements=new Map,s._dirtyLeaves=new Set,s._cloneNotNeeded=new Set,s._dirtyType=0,Tt=u,en=!1,St=s,ty(null);try{const T=s._nodes;Jp(r.root,T),l&&l(),u._readOnly=!0}catch(T){T instanceof Error&&s._onError(T)}finally{s._dirtyElements=p,s._dirtyLeaves=v,s._cloneNotNeeded=C,s._dirtyType=S,Tt=h,en=f,St=m}return u}(typeof e=="string"?JSON.parse(e):e,this,t)}read(e){return xi(this),this.getEditorState().read(e,{editor:this})}update(e,t){(function(r,s,l){r._updating?r._updates.push([s,l]):Wp(r,s,l)})(this,e,t)}focus(e,t={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),yn(this,()=>{const s=ue(),l=ot();s!==null?s.dirty||nn(s.clone()):l.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?l.selectStart():l.selectEnd()),D2("focus"),P2(()=>{r.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const t=qn(this._window);t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Zs("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}Dd.version="0.33.1+prod.esm";let hm=null;function ty(o){hm=o}let R2=1;function Fw(o,e){const t=ny(o,e);return t===void 0&&W(30,e),t}function ny(o,e){return o._nodes.get(e)}const O2=typeof queueMicrotask=="function"?queueMicrotask:o=>{Promise.resolve().then(o)};function zS(o){return Be(Sa(o))}function iy(o){const e=document.activeElement;if(!rn(e))return!1;const t=e.nodeName;return Be(Sa(o))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&Pd(e)==null)}function kl(o,e,t){const r=o.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(t)&&e!==null&&!iy(e)&&Gw(e)===o}catch{return!1}}function ry(o){return o instanceof Dd}function Gw(o){let e=o;for(;e!=null;){const t=Pd(e);if(ry(t))return t;e=Rl(e)}return null}function Pd(o){return o?o.__lexicalEditor:null}function eo(o){return Rw(o)||o.isToken()}function Ni(o){return eo(o)||o.isSegmented()}function Ki(o){return Ua(o)&&o.nodeType===Sx}function I2(o){return Ua(o)&&o.nodeType===Ex}function Ta(o){let e=o;for(;e!=null;){if(Ki(e))return e;e=e.firstChild}return null}function ed(o,e,t){const r=lo[e];if(t!==null&&(o&r)==(t&r))return o;let s=o^r;return e==="subscript"?s&=-65:e==="superscript"?s&=-33:e==="lowercase"?(s&=-513,s&=-1025):e==="uppercase"?(s&=-257,s&=-1025):e==="capitalize"&&(s&=-257,s&=-513),s}function N2(o,e){const t=function(){const u=hm;return hm=null,u}();if((e=e||t&&t.__key)!=null)return void(o.__key=e);Ht(),Pw();const r=rt(),s=Rr(),l=""+R2++;s._nodeMap.set(l,o),Q(o)?r._dirtyElements.set(l,!0):r._dirtyLeaves.add(l),r._cloneNotNeeded.add(l),r._dirtyType=Gb,o.__key=l}function to(o){const e=o.getParent();if(e!==null){const t=o.getWritable(),r=e.getWritable(),s=o.getPreviousSibling(),l=o.getNextSibling(),u=l!==null?l.__key:null,h=s!==null?s.__key:null,f=s!==null?s.getWritable():null,m=l!==null?l.getWritable():null;s===null&&(r.__first=u),l===null&&(r.__last=h),f!==null&&(f.__next=u),m!==null&&(m.__prev=h),t.__prev=null,t.__next=null,t.__parent=null,r.__size--}}function td(o){Pw();const e=o.getLatest(),t=e.__parent,r=Rr(),s=rt(),l=r._nodeMap,u=s._dirtyElements;t!==null&&function(f,m,p){let v=f;for(;v!==null;){if(p.has(v))return;const C=m.get(v);if(C===void 0)break;p.set(v,!1),v=C.__parent}}(t,l,u);const h=e.__key;s._dirtyType=Gb,Q(o)?u.set(h,!0):s._dirtyLeaves.add(h)}function Nt(o){Ht();const e=rt(),t=e._compositionKey;if(o!==t){if(e._compositionKey=o,t!==null){const r=Et(t);r!==null&&r.getWritable()}if(o!==null){const r=Et(o);r!==null&&r.getWritable()}}}function yr(){return El()?null:rt()._compositionKey}function Et(o,e){const t=(e||Rr())._nodeMap.get(o);return t===void 0?null:t}function qw(o,e){const t=Ud(o,rt());return t!==void 0?Et(t,e):null}function Ud(o,e){return o[`__lexicalKey_${e._key}`]}function Sa(o,e){let t=o;for(;t!=null;){const r=qw(t,e);if(r!==null)return r;t=Rl(t)}return null}function jw(o){const e=o._decorators,t=Object.assign({},e);return o._pendingDecorators=t,t}function BS(o){return o.read(()=>ot().getTextContent())}function ot(){return Yw(Rr())}function Yw(o){return o._nodeMap.get("root")}function nn(o){Ht();const e=Rr();o!==null&&(o.dirty=!0,o.setCachedNodes(null)),e._selection=o}function ca(o){const e=rt(),t=function(r,s){let l=r;for(;l!=null;){const u=Ud(l,s);if(u!==void 0)return u;l=Rl(l)}return null}(o,e);return t===null?o===e.getRootElement()?Et("root"):null:Et(t)}function KS(o,e){return e?o.getTextContentSize():0}function Vw(o){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(o)}function oy(o){const e=[];let t=o;for(;t!==null;)e.push(t),t=t._parentEditor;return e}function Qw(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function $w(o){return Ki(o)?o.nodeValue:null}function ay(o,e,t){const r=qn(Nn(e));if(r===null)return;const s=r.anchorNode;let{anchorOffset:l,focusOffset:u}=r;if(s!==null){let h=$w(s);const f=Sa(s);if(h!==null&&re(f)){if(h===kd&&t){const m=t.length;h=t,l=m,u=m}h!==null&&sy(f,h,l,u,o)}}}function sy(o,e,t,r,s){let l=o;if(l.isAttached()&&(s||!l.isDirty())){const u=l.isComposing();let h=e;(u||s)&&e[e.length-1]===kd&&(h=e.slice(0,-1));const f=l.getTextContent();if(s||h!==f){if(h===""){if(Nt(null),ll||Ca||Ku)l.remove();else{const E=rt();setTimeout(()=>{E.update(()=>{l.isAttached()&&l.remove()})},20)}return}const m=l.getParent(),p=Pa(),v=l.getTextContentSize(),C=yr(),S=l.getKey();if(l.isToken()||C!==null&&S===C&&!u||ee(p)&&(m!==null&&!m.canInsertTextBefore()&&p.anchor.offset===0||p.anchor.key===o.__key&&p.anchor.offset===0&&!l.canInsertTextBefore()&&!u||p.focus.key===o.__key&&p.focus.offset===v&&!l.canInsertTextAfter()&&!u))return void l.markDirty();const T=ue();if(!ee(T)||t===null||r===null)return void l.setTextContent(h);if(T.setTextNodeRange(l,t,l,r),l.isSegmented()){const E=It(l.getTextContent());l.replace(E),l=E}l.setTextContent(h)}}}function ru(o,e,t){const r=e[t]||!1;return r==="any"||r===o[t]}function M2(o,e){return ru(o,e,"altKey")&&ru(o,e,"ctrlKey")&&ru(o,e,"shiftKey")&&ru(o,e,"metaKey")}function Ge(o,e,t){return M2(o,t)&&o.key.toLowerCase()===e.toLowerCase()}const Oi={ctrlKey:!ni,metaKey:ni},FS={altKey:ni,ctrlKey:!ni};function GS(o){return o.key==="Backspace"}function qS(o){return Ge(o,"a",Oi)}function x2(o){const e=ot();if(ee(o)){const t=o.anchor,r=o.focus,s=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(s.getKey(),0,"element"),r.set(s.getKey(),s.getChildrenSize(),"element"),ju(o),o}{const t=e.select(0,e.getChildrenSize());return nn(ju(t)),t}}function pa(o,e){o.__lexicalClassNameCache===void 0&&(o.__lexicalClassNameCache={});const t=o.__lexicalClassNameCache,r=t[e];if(r!==void 0)return r;const s=o[e];if(typeof s=="string"){const l=Fu(s);return t[e]=l,l}return s}function ly(o,e,t,r,s){if(t.size===0)return;const l=r.__type,u=r.__key,h=e.get(l);h===void 0&&W(33,l);const f=h.klass;let m=o.get(f);m===void 0&&(m=new Map,o.set(f,m));const p=m.get(u),v=p==="destroyed"&&s==="created";(p===void 0||v)&&m.set(u,v?"updated":s)}function jS(o,e,t){const r=o.getParent();let s=t,l=o;return r!==null&&(e&&t===0?(s=l.getIndexWithinParent(),l=r):e||t!==l.getChildrenSize()||(s=l.getIndexWithinParent()+1,l=r)),l.getChildAtIndex(e?s-1:s)}function fm(o,e){const t=o.offset;if(o.type==="element")return jS(o.getNode(),e,t);{const r=o.getNode();if(e&&t===0||!e&&t===r.getTextContentSize()){const s=e?r.getPreviousSibling():r.getNextSibling();return s===null?jS(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):s}}return null}function Xw(o){const e=Nn(o).event,t=e&&e.inputType;return t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function le(o,e,t){return function(r,s,l){const u=oy(r);for(let h=4;h>=0;h--)for(let f=0;f<u.length;f++){const m=u[f],p=m._commands.get(s);if(p!==void 0){const v=p[h];if(v!==void 0){const C=Array.from(v),S=C.length;let T=!1;if(yn(m,()=>{for(let E=0;E<S;E++)if(C[E](l,r))return void(T=!0)}),T)return T}}}return!1}(o,e,t)}function Ld(o){return!Mt(o)&&!o.isLastChild()&&!o.isInline()}function Ea(o,e){const t=o._keyToDOMMap.get(e);return t===void 0&&W(75,e),t}function Rl(o){const e=o.assignedSlot||o.parentElement;return pm(e)?e.host:e}function Jw(o){return I2(o)?o:rn(o)?o.ownerDocument:null}function D2(o){Ht(),rt()._updateTags.add(o)}function P2(o){Ht(),rt()._deferred.push(o)}function gm(o,e){let t=o.getParent();for(;t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function cy(o){const e=Jw(o);return e?e.defaultView:null}function Nn(o){const e=o._window;return e===null&&W(78),e}function U2(o){let e=o.getParentOrThrow();for(;e!==null;){if(Fi(e))return e;e=e.getParentOrThrow()}return e}function Fi(o){return Mt(o)||Q(o)&&o.isShadowRoot()}function Hd(o){const e=rt(),t=o.getType(),r=ny(e,t);r===void 0&&W(200,o.constructor.name,t);const{replace:s,replaceWithKlass:l}=r;if(s!==null){const u=s(o),h=u.constructor;return l!==null?u instanceof l||W(201,l.name,l.getType(),h.name,h.getType(),o.constructor.name,t):u instanceof o.constructor&&h!==o.constructor||W(202,h.name,h.getType(),o.constructor.name,t),u.__key===o.__key&&W(203,o.constructor.name,t,h.name,h.getType()),u}return o}function Ag(o,e){!Mt(o.getParent())||Q(e)||Be(e)||W(99)}function L2(o){const e=Et(o);return e===null&&W(63,o),e}function bg(o){return(Be(o)||Q(o)&&!o.canBeEmpty())&&!o.isInline()}function mm(o,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=o.parentElement;r!==null&&r.removeChild(o)}function qn(o){return Yn?(o||window).getSelection():null}function H2(o){const e=cy(o);return e?e.getSelection():null}function rn(o){return Ua(o)&&o.nodeType===Tx}function Ua(o){return typeof o=="object"&&o!==null&&"nodeType"in o&&typeof o.nodeType=="number"}function pm(o){return Ua(o)&&o.nodeType===Ax}function ym(o){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return o.nodeName.match(e)!==null}function nd(o){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return o.nodeName.match(e)!==null}function mr(o){if(Be(o)&&!o.isInline())return!0;if(!Q(o)||Fi(o))return!1;const e=o.getFirstChild(),t=e===null||Ws(e)||re(e)||e.isInline();return!o.isInline()&&o.canBeEmpty()!==!1&&t}function wg(o,e){let t=o;for(;t!==null&&t.getParent()!==null&&!e(t);)t=t.getParentOrThrow();return e(t)?t:null}function uy(){return rt()}const YS=new WeakMap,z2=new Map;function VS(o){if(!o._readOnly&&o.isEmpty())return z2;o._readOnly||W(192);let e=YS.get(o);return e||(e=function(t){const r=new Map;for(const[s,l]of t._nodeMap){const u=l.__type;let h=r.get(u);h||(h=new Map,r.set(u,h)),h.set(s,l)}return r}(o),YS.set(o,e)),e}function dy(o){const e=o.constructor.clone(o);return e.afterCloneFrom(o),e}function B2(o,e){const t=parseInt(o.style.paddingInlineStart,10)||0,r=Math.round(t/40);e.setIndent(r)}function K2(o){return o.__lexicalUnmanaged===!0}function Ks(o,e){return function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}(o,e)&&o[e]!==xa[e]}function hy(o){const e=oS in o.prototype?o.prototype[oS]():void 0,t=function(u){return u===Hw||u===Al||u===xa}(o),r=!t&&Ks(o,"getType")?o.getType():void 0;let s,l=r;if(e)if(r)s=e[r];else for(const[u,h]of Object.entries(e))l=u,s=h;if(!t&&l&&(Ks(o,"getType")||(o.getType=()=>l),Ks(o,"clone")||(o.clone=u=>(ty(u),new o)),Ks(o,"importJSON")||(o.importJSON=s&&s.$importJSON||(u=>new o().updateFromJSON(u))),!Ks(o,"importDOM")&&s)){const{importDOM:u}=s;u&&(o.importDOM=()=>u)}return{ownNodeConfig:s,ownNodeType:l}}const F2={next:"previous",previous:"next"};class fy{constructor(e){this.origin=e}[Symbol.iterator](){return Ww({hasNext:Aa,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return zt(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return zt(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const r=this.getNodeAtCaret();return e.is(this.origin)||e.is(r)||(r===null?this.insert(e):r.replace(e,t)),this}splice(e,t,r="next"){const s=r===this.direction?t:Array.from(t).reverse();let l=this;const u=this.getParentAtCaret(),h=new Map;for(let f=l.getAdjacentCaret();f!==null&&h.size<e;f=f.getAdjacentCaret()){const m=f.origin.getWritable();h.set(m.getKey(),m)}for(const f of s){if(h.size>0){const m=l.getNodeAtCaret();if(m){if(h.delete(m.getKey()),h.delete(f.getKey()),!(m.is(f)||l.origin.is(f))){const p=f.getParent();p&&p.is(u)&&f.remove(),m.replace(f)}}else m===null&&W(263,Array.from(h).join(" "))}else l.insert(f);l=zt(f,this.direction)}for(const f of h.values())f.remove();return this}}class gl extends fy{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:zi(e,this.direction)}getParentCaret(e="root"){return zt(gy(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=La(this.direction);return zt(this.getNodeAtCaret(),e)||zi(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof gl&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const G2={root:Mt,shadowRoot:Fi};function La(o){return F2[o]}function gy(o,e="root"){return G2[e](o)?null:o}class ho extends fy{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:zt(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return Q(this.origin)?zi(this.origin,this.direction):null}getParentCaret(e="root"){return zt(gy(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=La(this.direction);return zt(this.getNodeAtCaret(),e)||zi(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof ho&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof ho||e instanceof fo)&&this.direction===e.direction&&this.origin.is(e.origin)}}class fo extends fy{type="text";constructor(e,t){super(e),this.offset=t}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:go(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return zt(gy(this.getParentAtCaret(),e),this.direction)}getFlipped(){return go(this.origin,La(this.direction),this.offset)}isSamePointCaret(e){return e instanceof fo&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof ho||e instanceof fo)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return zt(this.origin,this.direction)}}function Sr(o){return o instanceof fo}function Aa(o){return o instanceof ho}function li(o){return o instanceof gl}const q2={next:class extends fo{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(o){return this.origin.insertAfter(o),this}},previous:class extends fo{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(o){return this.origin.insertBefore(o),this}}},j2={next:class extends ho{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(o){return this.origin.insertAfter(o),this}},previous:class extends ho{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(o){return this.origin.insertBefore(o),this}}},Y2={next:class extends gl{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(o){return this.origin.splice(0,0,[o]),this}},previous:class extends gl{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(o){return this.origin.splice(this.origin.getChildrenSize(),0,[o]),this}}};function zt(o,e){return o?new j2[e](o):null}function go(o,e,t){return o?new q2[e](o,zd(o,t)):null}function zd(o,e){const t=o.getTextContentSize();let r=e==="next"?t:e==="previous"?0:e;return(r<0||r>t)&&(function(s,...l){const u=new URL("https://lexical.dev/docs/error"),h=new URLSearchParams;h.append("code",s);for(const f of l)h.append("v",f);u.search=h.toString(),console.warn(`Minified Lexical warning #${s}; visit ${u.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(e),String(t),o.getKey()),r=r<0?0:t),r}function QS(o,e){return new Q2(o,e)}function zi(o,e){return Q(o)?new Y2[e](o):null}function V2(o){return o&&o.getChildCaret()||o}function my(o){return o&&V2(o.getAdjacentCaret())}class py{type="node-caret-range";constructor(e,t,r){this.anchor=e,this.focus=t,this.direction=r}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new py(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=s=>{const l=this[s].getLatest();return Sr(l)?function(u,h){const{direction:f,origin:m}=u,p=zd(m,h==="focus"?La(f):f);return QS(u,p-u.offset)}(l,s):null},t=e("anchor"),r=e("focus");if(t&&r){const{caret:s}=t,{caret:l}=r;if(s.isSameNodeCaret(l))return[QS(s,l.offset-s.offset),null]}return[t,r]}iterNodeCarets(e="root"){const t=Sr(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),s=Sr(r),l=u=>u.isSameNodeCaret(r)?null:my(u)||u.getParentCaret(e);return Ww({hasNext:u=>u!==null&&!(s&&r.isSameNodeCaret(u)),initial:t.isSameNodeCaret(r)?null:l(t),map:u=>u,step:l})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class Q2{type="slice";constructor(e,t){this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,r=t+e;return r<t?[r,t]:[t,r]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[r,s]=this.getSliceIndices(),l=e.getTextContent();return go(e.setTextContent(l.slice(0,r)+l.slice(s)),t,r)}}function yy(o){return wr(o,zt(ot(),o.direction))}function $2(o){return wr(o,o)}function wr(o,e){return o.direction!==e.direction&&W(265),new py(o,e,o.direction)}function Ww(o){const{initial:e,hasNext:t,step:r,map:s}=o;let l=e;return{[Symbol.iterator](){return this},next(){if(!t(l))return{done:!0,value:void 0};const u={done:!1,value:s(l)};return l=r(l),u}}}function Zw(o,e){const t=vu(o.origin,e.origin);switch(t===null&&W(275,o.origin.getKey(),e.origin.getKey()),t.type){case"same":{const r=o.type==="text",s=e.type==="text";return r&&s?function(l,u){return Math.sign(l-u)}(o.offset,e.offset):o.type===e.type?0:r?-1:s?1:o.type==="child"?-1:1}case"ancestor":return o.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return e0(t)}}function e0(o){const{a:e,b:t}=o,r=e.__key,s=t.__key;let l=e,u=t;for(;l&&u;l=l.getNextSibling(),u=u.getNextSibling()){if(l.__key===s)return-1;if(u.__key===r)return 1}return l===null?1:-1}function ou(o,e){return e.is(o)}function $S(o){return Q(o)?[o.getLatest(),null]:[o.getParent(),o.getLatest()]}function vu(o,e){if(o.is(e))return{commonAncestor:o,type:"same"};const t=new Map;for(let[r,s]=$S(o);r;s=r,r=r.getParent())t.set(r,s);for(let[r,s]=$S(e);r;s=r,r=r.getParent()){const l=t.get(r);if(l!==void 0)return l===null?(ou(o,r)||W(276),{commonAncestor:r,type:"ancestor"}):s===null?(ou(e,r)||W(277),{commonAncestor:r,type:"descendant"}):((Q(l)||ou(o,l))&&(Q(s)||ou(e,s))&&r.is(l.getParent())&&r.is(s.getParent())||W(278),{a:l,b:s,commonAncestor:r,type:"branch"})}return null}function Bi(o,e){const{type:t,key:r,offset:s}=o,l=L2(o.key);return t==="text"?(re(l)||W(266,l.getType(),r),go(l,e,s)):(Q(l)||W(267,l.getType(),r),W2(l,o.offset,e))}function ml(o,e){const{origin:t,direction:r}=e,s=r==="next";Sr(e)?o.set(t.getKey(),e.offset,"text"):Aa(e)?re(t)?o.set(t.getKey(),zd(t,r),"text"):o.set(t.getParentOrThrow().getKey(),t.getIndexWithinParent()+(s?1:0),"element"):(li(e)&&Q(t)||W(268),o.set(t.getKey(),s?0:t.getChildrenSize(),"element"))}function X2(o){const e=ue(),t=ee(e)?e:Mw();return Cu(t,o),nn(t),t}function Cu(o,e){ml(o.anchor,e.anchor),ml(o.focus,e.focus)}function XS(o){const{anchor:e,focus:t}=o,r=Bi(e,"next"),s=Bi(t,"next"),l=Zw(r,s)<=0?"next":"previous";return wr(ba(r,l),ba(s,l))}function vy(o){const{direction:e,origin:t}=o,r=zt(t,La(e)).getNodeAtCaret();return r?zt(r,e):zi(t.getParentOrThrow(),e)}function JS(o,e="root"){const t=[o];for(let r=li(o)?o.getParentCaret(e):o.getSiblingCaret();r!==null;r=r.getParentCaret(e))t.push(vy(r));return t}function kg(o){return!!o&&o.origin.isAttached()}function J2(o,e="removeEmptySlices"){if(o.isCollapsed())return o;const t="root",r="next";let s=e;const l=n0(o,r),u=JS(l.anchor,t),h=JS(l.focus.getFlipped(),t),f=new Set,m=[];for(const T of l.iterNodeCarets(t))if(li(T))f.add(T.origin.getKey());else if(Aa(T)){const{origin:E}=T;Q(E)&&!f.has(E.getKey())||m.push(E)}for(const T of m)T.remove();for(const T of l.getTextSlices()){if(!T)continue;const{origin:E}=T.caret,A=E.getTextContentSize(),w=vy(zt(E,r)),k=E.getMode();if(Math.abs(T.distance)===A&&s==="removeEmptySlices"||k==="token"&&T.distance!==0)w.remove();else if(T.distance!==0){s="removeEmptySlices";let I=T.removeTextSlice();const B=T.caret.origin;if(k==="segmented"){const L=I.origin,K=It(L.getTextContent()).setStyle(L.getStyle()).setFormat(L.getFormat());w.replaceOrInsert(K),I=go(K,r,I.offset)}B.is(u[0].origin)&&(u[0]=I),B.is(h[0].origin)&&(h[0]=I.getFlipped())}}let p,v;for(const T of u)if(kg(T)){p=oi(T);break}for(const T of h)if(kg(T)){v=oi(T);break}const C=function(T,E,A){if(!T||!E)return null;const w=T.getParentAtCaret(),k=E.getParentAtCaret();if(!w||!k)return null;const I=w.getParents().reverse();I.push(w);const B=k.getParents().reverse();B.push(k);const L=Math.min(I.length,B.length);let K;for(K=0;K<L&&I[K]===B[K];K++);const Y=(ie,fe)=>{let Ae;for(let be=K;be<ie.length;be++){const Se=ie[be];if(Fi(Se))return;!Ae&&fe(Se)&&(Ae=Se)}return Ae},G=Y(I,mr),H=G&&Y(B,ie=>A.has(ie.getKey())&&mr(ie));return G&&H?[G,H]:null}(p,v,f);if(C){const[T,E]=C;zi(T,"previous").splice(0,E.getChildren()),E.remove()}const S=[p,v,...u,...h].find(kg);if(S)return $2(ba(oi(S),o.direction));W(269,JSON.stringify(u.map(T=>T.origin.__key)))}function oi(o){const e=function(s){let l=s;for(;li(l);){const u=my(l);if(!li(u))break;l=u}return l}(o.getLatest()),{direction:t}=e;if(re(e.origin))return Sr(e)?e:go(e.origin,t,t);const r=e.getAdjacentCaret();return Aa(r)&&re(r.origin)?go(r.origin,t,La(t)):e}function t0(o){return Sr(o)&&o.offset!==zd(o.origin,o.direction)}function ba(o,e){return o.direction===e?o:o.getFlipped()}function n0(o,e){return o.direction===e?o:wr(ba(o.focus,e),ba(o.anchor,e))}function W2(o,e,t){let r=zi(o,"next");for(let s=0;s<e;s++){const l=r.getAdjacentCaret();if(l===null)break;r=l}return ba(r,t)}const i0=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Z2=i0?D.useLayoutEffect:D.useEffect,au={tag:tl};function eD({initialConfig:o,children:e}){const t=D.useMemo(()=>{const{theme:r,namespace:s,nodes:l,onError:u,editorState:h,html:f}=o,m=vx(null,r),p=k2({editable:o.editable,html:f,namespace:s,nodes:l,onError:v=>u(v,p),theme:r});return function(v,C){if(C!==null){if(C===void 0)v.update(()=>{const S=ot();if(S.isEmpty()){const T=si();S.append(T);const E=i0?document.activeElement:null;(ue()!==null||E!==null&&E===v.getRootElement())&&T.select()}},au);else if(C!==null)switch(typeof C){case"string":{const S=v.parseEditorState(C);v.setEditorState(S,au);break}case"object":v.setEditorState(C,au);break;case"function":v.update(()=>{ot().isEmpty()&&C(v)},au)}}}(p,h),[p,m]},[]);return Z2(()=>{const r=o.editable,[s]=t;s.setEditable(r===void 0||r)},[]),ne.jsx(Kb.Provider,{value:t,children:e})}function tD(){return ot().getTextContent()}function nD(o,e=!0){if(o)return!1;let t=tD();return e&&(t=t.trim()),t===""}function iD(o){if(!nD(o,!1))return!1;const e=ot().getChildren(),t=e.length;if(t>1)return!1;for(let r=0;r<t;r++){const s=e[r];if(Be(s))return!1;if(Q(s)){if(!b2(s)||s.__indent!==0)return!1;const l=s.getChildren(),u=l.length;for(let h=0;h<u;h++){const f=l[r];if(!re(f))return!1}}}return!0}function r0(o){return()=>iD(o)}const rD=new Map;function oD(o){const e={};if(!o)return e;const t=o.split(";");for(const r of t)if(r!==""){const[s,l]=r.split(/:([^]+)/);s&&l&&(e[s.trim()]=l.trim())}return e}function o0(o,e){const t=o.getStartEndPoints();if(e.isSelected(o)&&!Ni(e)&&t!==null){const[r,s]=t,l=o.isBackward(),u=r.getNode(),h=s.getNode(),f=e.is(u),m=e.is(h);if(f||m){const[p,v]=cm(o),C=u.is(h),S=e.is(l?h:u),T=e.is(l?u:h);let E,A=0;C?(A=p>v?v:p,E=p>v?p:v):S?(A=l?v:p,E=void 0):T&&(A=0,E=l?p:v),e.__text=e.__text.slice(A,E)}}return e}function aD(o){const e=o.getStyle(),t=oD(e);rD.set(e,t)}function a0(o){const e=o.anchor.getNode(),t=Mt(e)?e:e.getParentOrThrow(),r=uy().getElementByKey(t.getKey());if(r===null)return!1;const s=r.ownerDocument.defaultView;return s===null?!1:s.getComputedStyle(r).writingMode==="vertical-rl"}function WS(o,e){const t=a0(o)?!e:e,r=Bi(o.focus,t?"previous":"next");if(t0(r))return!1;for(const s of yy(r)){if(li(s))return!s.origin.isInline();if(!Q(s.origin)){if(Be(s.origin))return!0;break}}return!1}function sD(o,e,t,r){o.modify(e?"extend":"move",t,r)}function lD(o){const e=o.anchor.getNode();return(Mt(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function ZS(o,e,t){const r=lD(o);let s;s=a0(o)||r?!t:t,sD(o,e,s,"character")}function cD(o,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",o);for(const s of e)r.append("v",s);throw t.search=r.toString(),Error(`Minified Lexical error #${o}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const s0=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,uD=s0&&"documentMode"in document?document.documentMode:null;!(!s0||!("InputEvent"in window)||uD)&&"getTargetRanges"in new window.InputEvent("input");function Ol(...o){return()=>{for(let e=o.length-1;e>=0;e--)o[e]();o.length=0}}function dD(o){const e=Cy(o,t=>Q(t)&&!t.isInline());return Q(e)||cD(4,o.__key),e}const Cy=(o,e)=>{let t=o;for(;t!==ot()&&t!=null;){if(e(t))return t;t=t.getParent()}return null};function Jr(o,e){return o!==null&&Object.getPrototypeOf(o).constructor.name===e.name}const l0=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?D.useLayoutEffect:D.useEffect;function hD({editor:o,ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:r,ariaDescribedBy:s,ariaErrorMessage:l,ariaExpanded:u,ariaInvalid:h,ariaLabel:f,ariaLabelledBy:m,ariaMultiline:p,ariaOwns:v,ariaRequired:C,autoCapitalize:S,className:T,id:E,role:A="textbox",spellCheck:w=!0,style:k,tabIndex:I,"data-testid":B,...L},K){const[Y,G]=D.useState(o.isEditable()),H=D.useCallback(fe=>{fe&&fe.ownerDocument&&fe.ownerDocument.defaultView?o.setRootElement(fe):o.setRootElement(null)},[o]),ie=D.useMemo(()=>function(...fe){return Ae=>{fe.forEach(be=>{typeof be=="function"?be(Ae):be!=null&&(be.current=Ae)})}}(K,H),[H,K]);return l0(()=>(G(o.isEditable()),o.registerEditableListener(fe=>{G(fe)})),[o]),ne.jsx("div",{"aria-activedescendant":Y?e:void 0,"aria-autocomplete":Y?t:"none","aria-controls":Y?r:void 0,"aria-describedby":s,...l!=null?{"aria-errormessage":l}:{},"aria-expanded":Y&&A==="combobox"?!!u:void 0,...h!=null?{"aria-invalid":h}:{},"aria-label":f,"aria-labelledby":m,"aria-multiline":p,"aria-owns":Y?v:void 0,"aria-readonly":!Y||void 0,"aria-required":C,autoCapitalize:S,className:T,contentEditable:Y,"data-testid":B,id:E,ref:ie,role:A,spellCheck:w,style:k,tabIndex:I,...L})}const fD=D.forwardRef(hD);function eE(o){return o.getEditorState().read(r0(o.isComposing()))}const gD=D.forwardRef(mD);function mD(o,e){const{placeholder:t,...r}=o,[s]=po();return ne.jsxs(ne.Fragment,{children:[ne.jsx(fD,{editor:s,...r,ref:e}),t!=null&&ne.jsx(pD,{editor:s,content:t})]})}function pD({content:o,editor:e}){const t=function(u){const[h,f]=D.useState(()=>eE(u));return l0(()=>{function m(){const p=eE(u);f(p)}return m(),Ol(u.registerUpdateListener(()=>{m()}),u.registerEditableListener(()=>{m()}))},[u]),h}(e),[r,s]=D.useState(e.isEditable());if(D.useLayoutEffect(()=>(s(e.isEditable()),e.registerEditableListener(u=>{s(u)})),[e]),!t)return null;let l=null;return typeof o=="function"?l=o(r):o!==null&&(l=o),l===null?null:ne.jsx("div",{"aria-hidden":!0,children:l})}const yD=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?D.useLayoutEffect:D.useEffect;function vD(o){return{initialValueFn:()=>o.isEditable(),subscribe:e=>o.registerEditableListener(e)}}function CD(){return function(o){const[e]=po(),t=D.useMemo(()=>o(e),[e,o]),[r,s]=D.useState(()=>t.initialValueFn()),l=D.useRef(r);return yD(()=>{const{initialValueFn:u,subscribe:h}=t,f=u();return l.current!==f&&(l.current=f,s(f)),h(m=>{l.current=m,s(m)})},[t,o]),r}(vD)}function _D(o){const e=window.location.origin,t=r=>{if(r.origin!==e)return;const s=o.getRootElement();if(document.activeElement!==s)return;const l=r.data;if(typeof l=="string"){let u;try{u=JSON.parse(l)}catch{return}if(u&&u.protocol==="nuanria_messaging"&&u.type==="request"){const h=u.payload;if(h&&h.functionId==="makeChanges"){const f=h.args;if(f){const[m,p,v,C,S,T]=f;o.update(()=>{const E=ue();if(ee(E)){const A=E.anchor;let w=A.getNode(),k=0,I=0;if(re(w)&&m>=0&&p>=0&&(k=m,I=m+p,E.setTextNodeRange(w,k,w,I)),k===I&&v===""||(E.insertRawText(v),w=A.getNode()),re(w)){k=C,I=C+S;const B=w.getTextContentSize();k=k>B?B:k,I=I>B?B:I,E.setTextNodeRange(w,k,w,I)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",t,!0),()=>{window.removeEventListener("message",t,!0)}}function TD(o,e){const t=e.body?e.body.childNodes:[];let r=[];const s=[];for(let l=0;l<t.length;l++){const u=t[l];if(!u0.has(u.nodeName)){const h=d0(u,o,s,!1);h!==null&&(r=r.concat(h))}}return function(l){for(const u of l)u.getNextSibling()instanceof ey&&u.insertAfter(uo());for(const u of l){const h=u.getChildren();for(const f of h)u.insertBefore(f);u.remove()}}(s),r}function SD(o,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),r=ot().getChildren();for(let s=0;s<r.length;s++)c0(o,r[s],t,e);return t.innerHTML}function c0(o,e,t,r=null){let s=r===null||e.isSelected(r);const l=Q(e)&&e.excludeFromCopy("html");let u=e;if(r!==null){let S=dy(e);S=re(S)&&r!==null?o0(r,S):S,u=S}const h=Q(u)?u.getChildren():[],f=ny(o,u.getType());let m;m=f&&f.exportDOM!==void 0?f.exportDOM(o,u):u.exportDOM(o);const{element:p,after:v}=m;if(!p)return!1;const C=document.createDocumentFragment();for(let S=0;S<h.length;S++){const T=h[S],E=c0(o,T,C,r);!s&&Q(e)&&E&&e.extractWithChild(T,r,"html")&&(s=!0)}if(s&&!l){if((rn(p)||pm(p))&&p.append(C),t.append(p),v){const S=v.call(u,p);S&&(pm(p)?p.replaceChildren(S):p.replaceWith(S))}}else t.append(C);return s}const u0=new Set(["STYLE","SCRIPT"]);function d0(o,e,t,r,s=new Map,l){let u=[];if(u0.has(o.nodeName))return u;let h=null;const f=function(T,E){const{nodeName:A}=T,w=E._htmlConversions.get(A.toLowerCase());let k=null;if(w!==void 0)for(const I of w){const B=I(T);B!==null&&(k===null||(k.priority||0)<=(B.priority||0))&&(k=B)}return k!==null?k.conversion:null}(o,e),m=f?f(o):null;let p=null;if(m!==null){p=m.after;const T=m.node;if(h=Array.isArray(T)?T[T.length-1]:T,h!==null){for(const[,E]of s)if(h=E(h,l),!h)break;h&&u.push(...Array.isArray(T)?T:[h])}m.forChild!=null&&s.set(o.nodeName,m.forChild)}const v=o.childNodes;let C=[];const S=(h==null||!Fi(h))&&(h!=null&&um(h)||r);for(let T=0;T<v.length;T++)C.push(...d0(v[T],e,t,S,new Map(s),h));return p!=null&&(C=p(C)),nd(o)&&(C=ED(o,C,S?()=>{const T=new ey;return t.push(T),T}:si)),h==null?C.length>0?u=u.concat(C):nd(o)&&function(T){return T.nextSibling==null||T.previousSibling==null?!1:ym(T.nextSibling)&&ym(T.previousSibling)}(o)&&(u=u.concat(uo())):Q(h)&&h.append(...C),u}function ED(o,e,t){const r=o.style.textAlign,s=[];let l=[];for(let u=0;u<e.length;u++){const h=e[u];if(um(h))r&&!h.getFormat()&&h.setFormat(r),s.push(h);else if(l.push(h),u===e.length-1||u<e.length-1&&um(e[u+1])){const f=t();f.setFormat(r),f.append(...l),s.push(f),l=[]}}return s}function id(o,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",o);for(const s of e)r.append("v",s);throw t.search=r.toString(),Error(`Minified Lexical error #${o}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function AD(o,e=ue()){return e==null&&id(166),ee(e)&&e.isCollapsed()||e.getNodes().length===0?"":SD(o,e)}function bD(o,e=ue()){return e==null&&id(166),ee(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(wD(o,e))}function tE(o,e,t){const r=o.getData("application/x-lexical-editor");if(r)try{const h=JSON.parse(r);if(h.namespace===t._config.namespace&&Array.isArray(h.nodes))return nE(t,kD(h.nodes),e)}catch{}const s=o.getData("text/html"),l=o.getData("text/plain");if(s&&l!==s)try{const h=new DOMParser().parseFromString(function(f){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:m=>m}).createHTML(f):f}(s),"text/html");return nE(t,TD(t,h),e)}catch{}const u=l||o.getData("text/uri-list");if(u!=null)if(ee(e)){const h=u.split(/(\r?\n|\t)/);h[h.length-1]===""&&h.pop();for(let f=0;f<h.length;f++){const m=ue();if(ee(m)){const p=h[f];p===`
`||p===`\r
`?m.insertParagraph():p==="	"?m.insertNodes([Sl()]):m.insertText(p)}}}else e.insertRawText(u)}function nE(o,e,t){o.dispatchCommand(Vx,{nodes:e,selection:t})||(t.insertNodes(e),function(r){if(ee(r)&&r.isCollapsed()){const s=r.anchor;let l=null;const u=Bi(s,"previous");if(u)if(Sr(u))l=u.origin;else{const h=wr(u,zi(ot(),"next").getFlipped());for(const f of h){if(re(f.origin)){l=f.origin;break}if(Q(f.origin)&&!f.origin.isInline())break}}if(l&&re(l)){const h=l.getFormat(),f=l.getStyle();r.format===h&&r.style===f||(r.format=h,r.style=f,r.dirty=!0)}}}(t))}function h0(o,e,t,r=[]){let s=e===null||t.isSelected(e);const l=Q(t)&&t.excludeFromCopy("html");let u=t;if(e!==null){let m=dy(t);m=re(m)&&e!==null?o0(e,m):m,u=m}const h=Q(u)?u.getChildren():[],f=function(m){const p=m.exportJSON(),v=m.constructor;if(p.type!==v.getType()&&id(58,v.name),Q(m)){const C=p.children;Array.isArray(C)||id(59,v.name)}return p}(u);if(re(u)){const m=u.__text;m.length>0?f.text=m:s=!1}for(let m=0;m<h.length;m++){const p=h[m],v=h0(o,e,p,f.children);!s&&Q(t)&&v&&t.extractWithChild(p,e,"clone")&&(s=!0)}if(s&&!l)r.push(f);else if(Array.isArray(f.children))for(let m=0;m<f.children.length;m++){const p=f.children[m];r.push(p)}return s}function wD(o,e){const t=[],r=ot().getChildren();for(let s=0;s<r.length;s++)h0(o,e,r[s],t);return{namespace:o._config.namespace,nodes:t}}function kD(o){const e=[];for(let t=0;t<o.length;t++){const r=o[t],s=v2(r);re(s)&&aD(s),e.push(s)}return e}let oa=null;async function iE(o,e,t){if(oa!==null)return!1;if(e!==null)return new Promise((m,p)=>{o.update(()=>{m(rE(o,e,t))})});const r=o.getRootElement(),s=o._window||window,l=window.document,u=qn(s);if(r===null||u===null)return!1;const h=l.createElement("span");h.style.cssText="position: fixed; top: -1000px;",h.append(l.createTextNode("#")),r.append(h);const f=new Range;return f.setStart(h,0),f.setEnd(h,1),u.removeAllRanges(),u.addRange(f),new Promise((m,p)=>{const v=o.registerCommand(Nd,C=>(Jr(C,ClipboardEvent)&&(v(),oa!==null&&(window.clearTimeout(oa),oa=null),m(rE(o,C,t))),!0),w2);oa=window.setTimeout(()=>{v(),oa=null,m(!1)},50),l.execCommand("copy"),h.remove()})}function rE(o,e,t){if(t===void 0){const s=qn(o._window);if(!s)return!1;const l=s.anchorNode,u=s.focusNode;if(l!==null&&u!==null&&!kl(o,l,u))return!1;const h=ue();if(h===null)return!1;t=OD(h)}e.preventDefault();const r=e.clipboardData;return r!==null&&(ID(r,t),!0)}const RD=[["text/html",AD],["application/x-lexical-editor",bD]];function OD(o=ue()){const e={"text/plain":o?o.getTextContent():""};if(o){const t=uy();for(const[r,s]of RD){const l=s(t,o);l!==null&&(e[r]=l)}}return e}function ID(o,e){for(const t in e){const r=e[t];r!==void 0&&o.setData(t,r)}}function oE(o,e){if(document.caretRangeFromPoint!==void 0){const t=document.caretRangeFromPoint(o,e);return t===null?null:{node:t.startContainer,offset:t.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const t=document.caretPositionFromPoint(o,e);return t===null?null:{node:t.offsetNode,offset:t.offset}}return null}const Ha=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,ND=Ha&&"documentMode"in document?document.documentMode:null,MD=!(!Ha||!("InputEvent"in window)||ND)&&"getTargetRanges"in new window.InputEvent("input"),xD=Ha&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),aE=Ha&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,DD=Ha&&/^(?=.*Chrome).*/i.test(navigator.userAgent),PD=Ha&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!DD,sE=Te("DRAG_DROP_PASTE_FILE");function su(o){let e=null;if(Jr(o,DragEvent)?e=o.dataTransfer:Jr(o,ClipboardEvent)&&(e=o.clipboardData),e===null)return[!1,[],!1];const t=e.types,r=t.includes("Files"),s=t.includes("text/html")||t.includes("text/plain");return[r,Array.from(e.files),s]}function lE(o){const e=ue();if(!ee(e))return!1;const t=new Set,r=e.getNodes();for(let s=0;s<r.length;s++){const l=r[s],u=l.getKey();if(t.has(u))continue;const h=Cy(l,m=>Q(m)&&!m.isInline());if(h===null)continue;const f=h.getKey();h.canIndent()&&!t.has(f)&&(t.add(f),o(h))}return t.size>0}function cE(o){const e=Sa(o);return Be(e)}function Rg(o){for(const e of["lowercase","uppercase","capitalize"])o.hasFormat(e)&&o.toggleFormat(e)}function UD(o){return Ol(o.registerCommand(ow,e=>{const t=ue();return!!pn(t)&&(t.clear(),!0)},Pe),o.registerCommand(Zr,e=>{const t=ue();return ee(t)?(t.deleteCharacter(e),!0):!!pn(t)&&(t.deleteNodes(),!0)},Pe),o.registerCommand(hl,e=>{const t=ue();return!!ee(t)&&(t.deleteWord(e),!0)},Pe),o.registerCommand(fl,e=>{const t=ue();return!!ee(t)&&(t.deleteLine(e),!0)},Pe),o.registerCommand(ga,e=>{const t=ue();if(typeof e=="string")t!==null&&t.insertText(e);else{if(t===null)return!1;const r=e.dataTransfer;if(r!=null)tE(r,t,o);else if(ee(t)){const s=e.data;return s&&t.insertText(s),!0}}return!0},Pe),o.registerCommand(nm,()=>{const e=ue();return!!ee(e)&&(e.removeText(),!0)},Pe),o.registerCommand(In,e=>{const t=ue();return!!ee(t)&&(t.formatText(e),!0)},Pe),o.registerCommand(mu,e=>{const t=ue();if(!ee(t)&&!pn(t))return!1;const r=t.getNodes();for(const s of r){const l=Cy(s,u=>Q(u)&&!u.isInline());l!==null&&l.setFormat(e)}return!0},Pe),o.registerCommand(fa,e=>{const t=ue();return!!ee(t)&&(t.insertLineBreak(e),!0)},Pe),o.registerCommand($u,()=>{const e=ue();return!!ee(e)&&(e.insertParagraph(),!0)},Pe),o.registerCommand(Jx,()=>(m2([Sl()]),!0),Pe),o.registerCommand(Wx,()=>lE(e=>{const t=e.getIndent();e.setIndent(t+1)}),Pe),o.registerCommand(mS,()=>lE(e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),Pe),o.registerCommand(lw,e=>{const t=ue();if(pn(t)){const r=t.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(ee(t)){const r=fm(t.focus,!0);if(!e.shiftKey&&Be(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1},Pe),o.registerCommand(cw,e=>{const t=ue();if(pn(t)){const r=t.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(ee(t)){if(function(s){const l=s.focus;return l.key==="root"&&l.offset===ot().getChildrenSize()}(t))return e.preventDefault(),!0;const r=fm(t.focus,!1);if(!e.shiftKey&&Be(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1},Pe),o.registerCommand(sw,e=>{const t=ue();if(pn(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}if(!ee(t))return!1;if(WS(t,!0)){const r=e.shiftKey;return e.preventDefault(),ZS(t,r,!0),!0}return!1},Pe),o.registerCommand(aw,e=>{const t=ue();if(pn(t)){const s=t.getNodes();if(s.length>0)return e.preventDefault(),s[0].selectNext(0,0),!0}if(!ee(t))return!1;const r=e.shiftKey;return!!WS(t,!1)&&(e.preventDefault(),ZS(t,r,!1),!0)},Pe),o.registerCommand(dw,e=>{if(cE(e.target))return!1;const t=ue();if(ee(t)){if(function(r){if(!r.isCollapsed())return!1;const{anchor:s}=r;if(s.offset!==0)return!1;const l=s.getNode();if(Mt(l))return!1;const u=dD(l);return u.getIndent()>0&&(u.is(l)||l.is(u.getFirstDescendant()))}(t))return e.preventDefault(),o.dispatchCommand(mS,void 0);if(aE&&navigator.language==="ko-KR")return!1}else if(!pn(t))return!1;return e.preventDefault(),o.dispatchCommand(Zr,!0)},Pe),o.registerCommand(fw,e=>{if(cE(e.target))return!1;const t=ue();return!(!ee(t)&&!pn(t))&&(e.preventDefault(),o.dispatchCommand(Zr,!1))},Pe),o.registerCommand(Xu,e=>{const t=ue();if(!ee(t))return!1;if(Rg(t),e!==null){if((aE||xD||PD)&&MD)return!1;if(e.preventDefault(),e.shiftKey)return o.dispatchCommand(fa,!1)}return o.dispatchCommand($u,void 0)},Pe),o.registerCommand(hw,()=>{const e=ue();return!!ee(e)&&(o.blur(),!0)},Pe),o.registerCommand(mw,e=>{const[,t]=su(e);if(t.length>0){const s=oE(e.clientX,e.clientY);if(s!==null){const{offset:l,node:u}=s,h=Sa(u);if(h!==null){const f=Mw();if(re(h))f.anchor.set(h.getKey(),l,"text"),f.focus.set(h.getKey(),l,"text");else{const p=h.getParentOrThrow().getKey(),v=h.getIndexWithinParent()+1;f.anchor.set(p,v,"element"),f.focus.set(p,v,"element")}const m=ju(f);nn(m)}o.dispatchCommand(sE,t)}return e.preventDefault(),!0}const r=ue();return!!ee(r)},Pe),o.registerCommand(pw,e=>{const[t]=su(e),r=ue();return!(t&&!ee(r))},Pe),o.registerCommand(yw,e=>{const[t]=su(e),r=ue();if(t&&!ee(r))return!1;const s=oE(e.clientX,e.clientY);if(s!==null){const l=Sa(s.node);Be(l)&&e.preventDefault()}return!0},Pe),o.registerCommand(im,()=>(x2(),!0),Pe),o.registerCommand(Nd,e=>(iE(o,Jr(e,ClipboardEvent)?e:null),!0),Pe),o.registerCommand(Qp,e=>(async function(t,r){await iE(r,Jr(t,ClipboardEvent)?t:null),r.update(()=>{const s=ue();ee(s)?s.removeText():pn(s)&&s.getNodes().forEach(l=>l.remove())})}(e,o),!0),Pe),o.registerCommand(Vp,e=>{const[,t,r]=su(e);return t.length>0&&!r?(o.dispatchCommand(sE,t),!0):Ua(e.target)&&iy(e.target)?!1:ue()!==null&&(function(s,l){s.preventDefault(),l.update(()=>{const u=ue(),h=Jr(s,InputEvent)||Jr(s,KeyboardEvent)?null:s.clipboardData;h!=null&&u!==null&&tE(h,u,l)},{tag:_2})}(e,o),!0)},Pe),o.registerCommand(uw,e=>{const t=ue();return ee(t)&&Rg(t),!1},Pe),o.registerCommand(gw,e=>{const t=ue();return ee(t)&&Rg(t),!1},Pe))}const vm=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?D.useLayoutEffect:D.useEffect;function uE(o){return o.getEditorState().read(r0(o.isComposing()))}function LD({contentEditable:o,placeholder:e=null,ErrorBoundary:t}){const[r]=po(),s=function(l,u){const[h,f]=D.useState(()=>l.getDecorators());return vm(()=>l.registerDecoratorListener(m=>{kT.flushSync(()=>{f(m)})}),[l]),D.useEffect(()=>{f(l.getDecorators())},[l]),D.useMemo(()=>{const m=[],p=Object.keys(h);for(let v=0;v<p.length;v++){const C=p[v],S=ne.jsx(u,{onError:E=>l._onError(E),children:ne.jsx(D.Suspense,{fallback:null,children:h[C]})}),T=l.getElementByKey(C);T!==null&&m.push(kT.createPortal(S,T,C))}return m},[u,h,l])}(r,t);return function(l){vm(()=>Ol(UD(l),_D(l)),[l])}(r),ne.jsxs(ne.Fragment,{children:[o,ne.jsx(HD,{content:e}),s]})}function HD({content:o}){const[e]=po(),t=function(s){const[l,u]=D.useState(()=>uE(s));return vm(()=>{function h(){const f=uE(s);u(f)}return h(),Ol(s.registerUpdateListener(()=>{h()}),s.registerEditableListener(()=>{h()}))},[s]),l}(e),r=CD();return t?typeof o=="function"?o(r):o:null}const lu=0,Cm=1,_m=2,Un=0,zD=1,dE=2,BD=3,KD=4;function FD(o,e,t,r,s){if(o===null||t.size===0&&r.size===0&&!s)return Un;const l=e._selection,u=o._selection;if(s)return zD;if(!(ee(l)&&ee(u)&&u.isCollapsed()&&l.isCollapsed()))return Un;const h=function(w,k,I){const B=w._nodeMap,L=[];for(const K of k){const Y=B.get(K);Y!==void 0&&L.push(Y)}for(const[K,Y]of I){if(!Y)continue;const G=B.get(K);G===void 0||Mt(G)||L.push(G)}return L}(e,t,r);if(h.length===0)return Un;if(h.length>1){const w=e._nodeMap,k=w.get(l.anchor.key),I=w.get(u.anchor.key);return k&&I&&!o._nodeMap.has(k.__key)&&re(k)&&k.__text.length===1&&l.anchor.offset===1?dE:Un}const f=h[0],m=o._nodeMap.get(f.__key);if(!re(m)||!re(f)||m.__mode!==f.__mode)return Un;const p=m.__text,v=f.__text;if(p===v)return Un;const C=l.anchor,S=u.anchor;if(C.key!==S.key||C.type!=="text")return Un;const T=C.offset,E=S.offset,A=v.length-p.length;return A===1&&E===T-1?dE:A===-1&&E===T+1?BD:A===-1&&E===T?KD:Un}function GD(o,e){let t=Date.now(),r=Un;return(s,l,u,h,f,m)=>{const p=Date.now();if(m.has(dm))return r=Un,t=p,_m;const v=FD(s,l,h,f,o.isComposing()),C=(()=>{const S=u===null||u.editor===o,T=m.has(C2);if(!T&&S&&m.has(tl))return lu;if(s===null)return Cm;const E=l._selection;return h.size>0||f.size>0?T===!1&&v!==Un&&v===r&&p<t+e&&S||h.size===1&&function(A,w,k){const I=w._nodeMap.get(A),B=k._nodeMap.get(A),L=w._selection,K=k._selection;return!(ee(L)&&ee(K)&&L.anchor.type==="element"&&L.focus.type==="element"&&K.anchor.type==="text"&&K.focus.type==="text"||!re(I)||!re(B)||I.__parent!==B.__parent)&&JSON.stringify(w.read(()=>I.exportJSON()))===JSON.stringify(k.read(()=>B.exportJSON()))}(Array.from(h)[0],s,l)?lu:Cm:E!==null?lu:_m})();return t=p,r=v,C}}function hE(o){o.undoStack=[],o.redoStack=[],o.current=null}function qD(o,e,t){const r=GD(o,t);return Ol(o.registerCommand(Od,()=>(function(l,u){const h=u.redoStack,f=u.undoStack;if(f.length!==0){const m=u.current,p=f.pop();m!==null&&(h.push(m),l.dispatchCommand(Zc,!0)),f.length===0&&l.dispatchCommand(eu,!1),u.current=p||null,p&&p.editor.setEditorState(p.editorState,{tag:dm})}}(o,e),!0),Pe),o.registerCommand(Id,()=>(function(l,u){const h=u.redoStack,f=u.undoStack;if(h.length!==0){const m=u.current;m!==null&&(f.push(m),l.dispatchCommand(eu,!0));const p=h.pop();h.length===0&&l.dispatchCommand(Zc,!1),u.current=p||null,p&&p.editor.setEditorState(p.editorState,{tag:dm})}}(o,e),!0),Pe),o.registerCommand(e2,()=>(hE(e),!1),Pe),o.registerCommand(t2,()=>(hE(e),o.dispatchCommand(Zc,!1),o.dispatchCommand(eu,!1),!0),Pe),o.registerUpdateListener(({editorState:l,prevEditorState:u,dirtyLeaves:h,dirtyElements:f,tags:m})=>{const p=e.current,v=e.redoStack,C=e.undoStack,S=p===null?null:p.editorState;if(p!==null&&l===S)return;const T=r(u,l,p,h,f,m);if(T===Cm)v.length!==0&&(e.redoStack=[],o.dispatchCommand(Zc,!1)),p!==null&&(C.push({...p}),o.dispatchCommand(eu,!0));else if(T===_m)return;e.current={editor:o,editorState:l}}))}function jD(){return{current:null,redoStack:[],undoStack:[]}}function YD({delay:o,externalHistoryState:e}){const[t]=po();return function(r,s,l=1e3){const u=D.useMemo(()=>s||jD(),[s]);D.useEffect(()=>qD(r,u,l),[l,r,u])}(t,e,o),null}function Tm(o,e){return Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Tm(o,e)}var fE={error:null},VD=function(o){var e,t;function r(){for(var l,u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];return(l=o.call.apply(o,[this].concat(h))||this).state=fE,l.resetErrorBoundary=function(){for(var m,p=arguments.length,v=new Array(p),C=0;C<p;C++)v[C]=arguments[C];l.props.onReset==null||(m=l.props).onReset.apply(m,v),l.reset()},l}t=o,(e=r).prototype=Object.create(t.prototype),e.prototype.constructor=e,Tm(e,t),r.getDerivedStateFromError=function(l){return{error:l}};var s=r.prototype;return s.reset=function(){this.setState(fE)},s.componentDidCatch=function(l,u){var h,f;(h=(f=this.props).onError)==null||h.call(f,l,u)},s.componentDidUpdate=function(l,u){var h,f,m,p,v=this.state.error,C=this.props.resetKeys;v!==null&&u.error!==null&&((m=l.resetKeys)===void 0&&(m=[]),(p=C)===void 0&&(p=[]),m.length!==p.length||m.some(function(S,T){return!Object.is(S,p[T])}))&&((h=(f=this.props).onResetKeysChange)==null||h.call(f,l.resetKeys,C),this.reset())},s.render=function(){var l=this.state.error,u=this.props,h=u.fallbackRender,f=u.FallbackComponent,m=u.fallback;if(l!==null){var p={error:l,resetErrorBoundary:this.resetErrorBoundary};if(D.isValidElement(m))return m;if(typeof h=="function")return h(p);if(f)return D.createElement(f,p);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r}(D.Component);function QD({children:o,onError:e}){return ne.jsx(VD,{fallback:ne.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:o})}const $D=new Set(["bollocks","bone smuggler","bone-smuggler","1 man 1 jar","1m1j","1man1jar","2 girls 1 cup","2g1c","2girls1cup","acrotomophile","acrotomophilia","alabama hot pocket","alabama tuna melt","alaskan pipeline","algophile","algophilia","anal","anal assassin","anal astronaut","anilingus","anus","ape shit","ape-shit","apeshit","apotemnophile","apotemnophilia","arse","arse bandit","arsehole","ass","ass bandit","asshole","auto erotic","autoerotic","babeland","baby batter","baby gravy","baby juice","ball batter","ball gag","ball gravy","ball kicking","ball licking","ball sack","ball sucking","ball-gag","ball-kicking","ball-licking","ball-sucking","ballcuzi","ballgag","bang bros","bang bus","bangbros","bangbus","bareback","barely legal","bastard","bastinado","batty boi","batty boy","battyboi","battyboy","bdsm","bean flicker","bean queen","bean-flicker","beaner","beaners","beanflicker","beastiality","beaver cleaver","beaver lips","beestiality","bellend","bellesa","bestiality","bicon","big boobs","big breasts","big cock","big knockers","big tits","birdlock","bitch","bitches","black cock","bloody","blow job","blow your load","blow-job","blowjob","blue waffle","bluewaffle","blumpkin","boner","bonesmuggler","boob","booty buffer","booty call","booty-buffer","boston george","breasts","brown piper","brown shower","brown showers","brown-piper","brownie king","brownie queen","brownpiper","buddha head","buddha-head","buddhahead","bufter","bufty","bugger","bukkake","bull shit","bull-shit","bulldyke","bullet vibe","bullet vibrator","bullshit","bum boy","bum chum","bum driller","bum pilot","bum pirate","bum rider","bum robber","bum rustler","bum-boy","bum-chum","bum-driller","bum-pirate","bum-robber","bumboy","bumchum","bumdriller","bumhole engineer","bumrider","bumrobber","butt boy","butt pilot","butt pirate","butt rider","butt robber","butt rustler","butt-boy","butt-pirate","butt-robber","buttboy","butthole engineer","buttrider","buttrobber","camel jockey","camel jockies","camel toe","cameljockey","cameljockies","canadian porch swing","carpet muncher","carpetmuncher","cheese eating surrender monkey","cheese-eating surrender monkey","chi chi man","chi-chi man","chicken queen","china man","china men","chinaman","chinamen","ching chong","ching-chong","chink","chinks","chinky","chocolate rosebud","chocolate rosebuds","cholerophile","cholerophilia","christ","cialis","circle-jerk","circlejerk","cishet","cissie","cissy","claustrophile","claustrophilia","cleveland accordion","cleveland hot waffle","cleveland steamer","clit","clitoris","clover clamp","clover clamps","clunge","cluster fuck","cluster-fuck","clusterfuck","cock","cockpipe cosmonaut","cockstruction worker","coimetrophile","coimetrophilia","collared","collaring","coon","coons","coprolagnia","coprophile","coprophilia","cornhole","crafty butcher","crap","cream-pie","creampie","cum","cum shot","cum shots","cumming","cumshot","cumshots","cunnilingus","cunt","cunt boy","cunt-boy","cuntboy","cunts","curry muncher","curry-muncher","currymuncher","damn","darkey","darkie","darkies","darky","date rape","daterape","ddlg","deep throat","deep-throat","deepthroat","dendrophile","dendrophilia","dick","dick girl","dick-girl","dickgirl","dildo","dildos","dingleberries","dingleberry","dipsea","dirty pillows","dirty sanchez","dishabiliophile","dishabiliophilia","dog shit","dog style","dog-shit","doggie style","doggie-style","doggiestyle","doggy style","doggy-style","doggystyle","dogshit","dolcett","domination","dominatrix","domme","dommes","donkey punch","donut muncher","donut puncher","doon coon","dooncoon","double penetration","dp action","dry hump","dune coon","dune-coon","dutch rudder","dyke","dystychiphile","dystychiphilia","edge play","edgeplay","ejaculate","ejaculated","ejaculating","ejaculation","electro-play","electroplay","emetophile","emetophilia","enby","eskimo trebuchet","eye-tie","eyetie","fag","fag bomb","fag-bomb","fagbomb","faggot","fagot","felch","felching","fellating","fellatio","female squirting","figging","finger bang","fingerbang","fingerbanging","fingered","fingering","finocchio","finoccio","finochio","fisted","fisting","foot job","foot-job","footjob","french rudder","frog eater","frog-eater","frogeater","frolic me","frolicme","frottage","frotting","fuck","fuck-wit","fucken","fucker","fuckers","fuckhead","fuckheads","fuckin","fucking","fucks","fucktard","fucktards","fuckwad","fuckwads","fuckwhit","fuckwit","fuckwits","fudge packer","fudge-packer","fudgepacker","futanari","g-spot","gang bang","gangbang","gay sex","gaysian","genitals","genitorture","gerontophile","gerontophilia","giant cock","gin jockey","gin jocky","girl on top","go-kun","goatcx","goatse","god damn","god damned","god-damn","god-damned","goddamn","goddamned","gokkun","golden shower","golden showers","golliwog","gollywog","gook","gook-eye","gookie","gooks","gooky","goregasm","gray queen","greaseball","grey queen","grope","group sex","gym bunny","gymbunny","hadji","haji","hajji","hand job","hand-job","handjob","heimie","hell","hermie","hickory switch","hippophile","hippophilia","homoerotic","honkey","honkeys","honkies","honky","horny","horse shit","horse-shit","horseshit","hot carl","hot richard","huge cock","humping","hymie","impact play","impact-play","incest","intercourse","jack off","jack-off","jail bait","jailbait","jap","jelly donut","jerk mate","jerk off","jerk-off","jerkmate","jesus","jesus christ","jigaboo","jiggerboo","jizz","juggs","jungle bunny","junglebunny","kennebunkport surprise","kentucky klondike","kentucky tractor puller","kike","kinbaku","kitty puncher","kitty-puncher","kittypuncher","knobbing","kraut","krauts","kunt","kunts","kynophile","kynophilia","lady boy","lady-boy","ladyboy","leather restraint","leather straight jacket","lemon party","lemonparty","leningrad steamer","lesbo","leso","lezzie","lezzies","light in the fedora","light in the loafers","light in the pants","limp wristed","limp-wristed","literotica","lovemaking","male squirting","male-squirting","massive cock","masterb8","masterbate","masturb8","masturbate","masturbating","masturbation","mayonnaise monkey","mayonnaise monkies","mdlb","meat masseuse","meat spin","meatspin","menage a trois","menage-a-trois","menages a trois","menages-a-trois","menophile","menophilia","mexican pancake","milwaukee blizzard","missionary position","mississippi birdbath","mound of venus","mr hands","mr. hands","mrhands","muff diver","muff diver","muff diving","muff-diver","muffdiver","muffdiver","muffdiving","muscle mary","mvtube","nambla","necrophile","necrophilia","negro","neo nazi","neo-nazi","neonazi","nig nog","nigerian hurricane","nigga","nigger","niggs","nignog","nimpho","nimphomania","nimphomaniac","nipple","nipple clamp","nipple clamps","nipples","nude","nudity","nutten","nympho","nymphomania","nymphomaniac","octopussy","oklahomo","omorashi","one cup two girls","one jar one man","one man one jar","only fans","onlyfans","orgasm","orgasmic","orgasms","paedo bear","paedobear","paedophile","paedophilia","pain slut","painslut","paki","panamanian petting zoo","pansy","panties","parthenophile","parthenophilia","pedo bear","pedobear","pedophile","pedophilia","pegging","penis","peter puffer","peter-puffer","peterpuffer","petrol sniffer","petrol-sniffer","petrolsniffer","phagophile","phagophilia","piece of shit","pieces of shit","pikey","pikeys","piss off","piss pig","piss pig","pissed off","pissing","pisspig","pisspig","playboy","pleasure chest","pnigerophile","pnigerophilia","pnigophile","pnigophilia","poinephile","poinephilia","pony boy","pony girl","pony-boy","pony-girl","pony-play","ponyboy","ponygirl","ponyplay","poof","poon","poontang","poop chute","poopchute","porn","porn hub","pornhub","porno","pornographic","pornography","pornos","potato queen","prince albert piercing","proctophile","proctophilia","pubes","punani","punany","pussy","pussy puncher","pussy-puncher","pussypuncher","queaf","queef","quim","rag head","rag heads","raghead","ragheads","raging boner","ramen yarmulke","rape","raping","rapist","rectum","retard","retarded","reverse cowgirl","rhabdophile","rhabdophilia","rhypophile","rhypophilia","rice queen","rimjob","rimming","ring raider","ringraider","rusty trombone","sand nigger","sand-nigger","sandnigger","santorum","scatophile","scatophilia","schlong","scissoring","semen","seplophile","seplophilia","sex","shaved beaver","shaved pussy","she male","she-male","sheep shagger","sheepshagger","shemale","shibari","shit","shit head","shithead","shitty","shlong","shota","shrimping","sissy","skeet","skittle harvest","skittles harvest","slant eye","slant-eye","slanteye","snatch","snowballing","sod off","sodding","sodomise","sodomist","sodomize","sodomy","spastic","spearchucker","spic","spick","spicks","spics","spicy gringo","splooge","splooge moose","spooge","spunk","strap on","strap-on","strap-on","strapon","strappado","suastika","svastika","swamp guinea","swamp-guinea","swastika","switch hitter","t-girl","taphephile","taphephilia","tea bagged","tea bagging","tea-bagged","tea-bagging","tgirl","thanatophile","thanatophilia","threesome","throating","throbbing boner","throbbing cock","thumbzilla","timber nigger","timber-nigger","timbernigger","tits","titties","titty","topless","tosser","towel head","towel-head","towelhead","trannie","tranny","transbian","traumatophile","traumatophilia","tribadism","tribbing","tub girl","tubgirl","twat","twink","two girls one cup","urethra play","urophile","urophilia","vagina","venus mound","viagra","vibrator","violet wand","vorarephile","vorarephilia","voyeurweb","wagon burner","wagon-burner","wank","wanker","wax play","wax-play","wet back","wet dream","wet-back","wetback","whigger","white power","white-power","whitepower","whore","wigga","wigger","wiitwd","wog","wogs","wolfbagging","worldsex","wrapping men","wrinkled starfish","xhamster","xnxx","xtube","xvideos","xxx","xyrophile","xyrophilia","yellow shower","yellow showers","zipper head","zipper-head","zipperhead","zippo cat","zippo-cat","zippocat","zoophile","zoophilia"]),XD=(o,e)=>{o.update(()=>{const t=ot(),r=(l,u=[])=>(re(l)?u.push(l):Q(l)&&l.getChildren().forEach(h=>r(h,u)),u);r(t).forEach(l=>{const u=l.getTextContent(),h=[],f=/\b\w+\b/g;let m;for(;(m=f.exec(u))!==null;){const p=m[0].toLowerCase();e.has(p)&&h.push({start:m.index,end:m.index+p.length})}h.length!==0&&(h.sort((p,v)=>v.start-p.start),h.forEach(({start:p,end:v})=>{try{const S=l.splitText(p,v)[1];S&&S.setStyle("background-color: yellow; font-weight: bold;")}catch(C){console.error("Split failed:",C)}}))})})},JD=()=>{const[o]=po(),e=D.useRef(null);return D.useEffect(()=>{const t=o.registerUpdateListener(()=>{clearTimeout(e.current),e.current=setTimeout(()=>{XD(o,$D)},300)});return()=>{clearTimeout(e.current),t()}},[o]),null};var f0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gE=Wr.createContext&&Wr.createContext(f0),WD=["attr","size","title"];function ZD(o,e){if(o==null)return{};var t=eP(o,e),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(o);for(s=0;s<l.length;s++)r=l[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(o,r)&&(t[r]=o[r])}return t}function eP(o,e){if(o==null)return{};var t={};for(var r in o)if(Object.prototype.hasOwnProperty.call(o,r)){if(e.indexOf(r)>=0)continue;t[r]=o[r]}return t}function rd(){return rd=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r])}return o},rd.apply(this,arguments)}function mE(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(o,s).enumerable})),t.push.apply(t,r)}return t}function od(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mE(Object(t),!0).forEach(function(r){tP(o,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):mE(Object(t)).forEach(function(r){Object.defineProperty(o,r,Object.getOwnPropertyDescriptor(t,r))})}return o}function tP(o,e,t){return e=nP(e),e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function nP(o){var e=iP(o,"string");return typeof e=="symbol"?e:e+""}function iP(o,e){if(typeof o!="object"||!o)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var r=t.call(o,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}function g0(o){return o&&o.map((e,t)=>Wr.createElement(e.tag,od({key:t},e.attr),g0(e.child)))}function Mn(o){return e=>Wr.createElement(rP,rd({attr:od({},o.attr)},e),g0(o.child))}function rP(o){var e=t=>{var{attr:r,size:s,title:l}=o,u=ZD(o,WD),h=s||t.size||"1em",f;return t.className&&(f=t.className),o.className&&(f=(f?f+" ":"")+o.className),Wr.createElement("svg",rd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:od(od({color:o.color||t.color},t.style),o.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&Wr.createElement("title",null,l),o.children)};return gE!==void 0?Wr.createElement(gE.Consumer,null,t=>e(t)):e(f0)}function oP(o){return Mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM108.1 96h231.81A12.09 12.09 0 0 0 352 83.9V44.09A12.09 12.09 0 0 0 339.91 32H108.1A12.09 12.09 0 0 0 96 44.09V83.9A12.1 12.1 0 0 0 108.1 96zm231.81 256A12.09 12.09 0 0 0 352 339.9v-39.81A12.09 12.09 0 0 0 339.91 288H108.1A12.09 12.09 0 0 0 96 300.09v39.81a12.1 12.1 0 0 0 12.1 12.1z"},child:[]}]})(o)}function aP(o){return Mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12.83 352h262.34A12.82 12.82 0 0 0 288 339.17v-38.34A12.82 12.82 0 0 0 275.17 288H12.83A12.82 12.82 0 0 0 0 300.83v38.34A12.82 12.82 0 0 0 12.83 352zm0-256h262.34A12.82 12.82 0 0 0 288 83.17V44.83A12.82 12.82 0 0 0 275.17 32H12.83A12.82 12.82 0 0 0 0 44.83v38.34A12.82 12.82 0 0 0 12.83 96zM432 160H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(o)}function sP(o){return Mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 224h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm416 192H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 44.83v38.34A12.82 12.82 0 0 0 172.83 96h262.34A12.82 12.82 0 0 0 448 83.17V44.83A12.82 12.82 0 0 0 435.17 32zm0 256H172.83A12.82 12.82 0 0 0 160 300.83v38.34A12.82 12.82 0 0 0 172.83 352h262.34A12.82 12.82 0 0 0 448 339.17v-38.34A12.82 12.82 0 0 0 435.17 288z"},child:[]}]})(o)}function lP(o){return Mn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M333.49 238a122 122 0 0 0 27-65.21C367.87 96.49 308 32 233.42 32H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h31.87v288H34a16 16 0 0 0-16 16v48a16 16 0 0 0 16 16h209.32c70.8 0 134.14-51.75 141-122.4 4.74-48.45-16.39-92.06-50.83-119.6zM145.66 112h87.76a48 48 0 0 1 0 96h-87.76zm87.76 288h-87.76V288h87.76a56 56 0 0 1 0 112z"},child:[]}]})(o)}function cP(o){return Mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(o)}function uP(o){return Mn({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M320 48v32a16 16 0 0 1-16 16h-62.76l-80 320H208a16 16 0 0 1 16 16v32a16 16 0 0 1-16 16H16a16 16 0 0 1-16-16v-32a16 16 0 0 1 16-16h62.76l80-320H112a16 16 0 0 1-16-16V48a16 16 0 0 1 16-16h192a16 16 0 0 1 16 16z"},child:[]}]})(o)}function dP(o){return Mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(o)}function hP(o){return Mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(o)}function fP(o){return Mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 224H293.9l-87.17-26.83A43.55 43.55 0 0 1 219.55 112h66.79A49.89 49.89 0 0 1 331 139.58a16 16 0 0 0 21.46 7.15l42.94-21.47a16 16 0 0 0 7.16-21.46l-.53-1A128 128 0 0 0 287.51 32h-68a123.68 123.68 0 0 0-123 135.64c2 20.89 10.1 39.83 21.78 56.36H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h480a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm-180.24 96A43 43 0 0 1 336 356.45 43.59 43.59 0 0 1 292.45 400h-66.79A49.89 49.89 0 0 1 181 372.42a16 16 0 0 0-21.46-7.15l-42.94 21.47a16 16 0 0 0-7.16 21.46l.53 1A128 128 0 0 0 224.49 480h68a123.68 123.68 0 0 0 123-135.64 114.25 114.25 0 0 0-5.34-24.36z"},child:[]}]})(o)}function gP(o){return Mn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(o)}function mP(o){return Mn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 64h32v160c0 88.22 71.78 160 160 160s160-71.78 160-160V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H272a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h32v160a80 80 0 0 1-160 0V64h32a16 16 0 0 0 16-16V16a16 16 0 0 0-16-16H32a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16zm400 384H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(o)}function pP(o){return Mn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"},child:[]}]})(o)}function yP(){const o=sd(),{accessToken:e,account:t,logout:r,isReady:s}=Hp(),[l,u]=D.useState(""),[h,f]=D.useState(""),[m,p]=D.useState(""),[v,C]=D.useState(""),[S,T]=D.useState(!1),E=D.useRef(),A=D.useRef(),w=D.useRef(),k=H=>{H.current&&H.current.scrollIntoView({behavior:"smooth",block:"center"})};D.useEffect(()=>{e&&fetch("https://graph.microsoft.com/v1.0/me",{headers:{Authorization:`Bearer ${e}`}}).then(H=>H.json()).then(H=>{C(H.mail||H.userPrincipalName||t?.username)}).catch(H=>{C(t?.username||"Unknown user")})},[e,t]);const I=async()=>{if(!e||!l){alert("Missing token or recipient.");return}const H={message:{subject:h,body:{contentType:"Text",content:m},toRecipients:[{emailAddress:{address:l}}]},saveToSentItems:"true"};try{const ie=await fetch("https://graph.microsoft.com/v1.0/me/sendMail",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(H)});if(ie.ok)alert("Email sent successfully.");else{const fe=await ie.json();alert("Error sending: "+fe.error?.message||"Unknown error")}}catch{alert("Network error.")}},B=()=>T(!0),L=()=>T(!1),K=async()=>{await r(),o("/")},Y=D.useMemo(()=>ne.jsx(gD,{ref:w,onFocus:()=>k(w),style:{flex:1,overflowY:"auto",userSelect:"text",whiteSpace:"pre-wrap",wordBreak:"break-word",backgroundColor:"transparent"}}),[]),G={namespace:"alphypoc",theme:{text:{bold:"text-bold",italic:"text-italic",underline:"text-underline",strikethrough:"text-strikethrough"}},onError:H=>{console.log("ERROR:",H)}};return ne.jsxs("div",{className:"send-page",children:[ne.jsxs(eD,{initialConfig:G,children:[ne.jsxs("header",{children:[ne.jsx("button",{className:"icon-button close-button",onClick:B,children:ne.jsx(gP,{})}),ne.jsx("strong",{className:"header-title",children:"New message"}),ne.jsx("span",{className:"user-email",children:v}),ne.jsx("button",{className:"icon-button gear-button",children:ne.jsx(cP,{})}),ne.jsx("button",{className:"icon-button send-button",onClick:I,children:ne.jsx(dP,{})})]}),ne.jsx("input",{ref:E,type:"email",placeholder:"To",value:l,onChange:H=>u(H.target.value),onFocus:()=>k(E)}),ne.jsx("input",{ref:A,type:"text",placeholder:"Subject",value:h,onChange:H=>f(H.target.value),onFocus:()=>k(A)}),ne.jsx(vP,{}),ne.jsx(JD,{}),ne.jsx(LD,{className:"message-area",contentEditable:Y,ErrorBoundary:QD}),ne.jsx(YD,{})]}),S&&ne.jsx("div",{className:"modal-overlay",children:ne.jsxs("div",{className:"modal",children:[ne.jsx("p",{children:"Are you sure you want to sign out?"}),ne.jsx("button",{onClick:L,children:"Cancel"}),ne.jsx("button",{onClick:K,children:"Sign Out"})]})})]})}function vP(){const[o]=po();return ne.jsxs("div",{className:"toolbar",children:[ne.jsx("button",{className:"toolbar-button",onClick:()=>o.dispatchCommand(Od,void 0),children:ne.jsx(pP,{})}),ne.jsx("button",{className:"toolbar-button",onClick:()=>o.dispatchCommand(Id,void 0),children:ne.jsx(hP,{})}),ne.jsx("button",{className:"toolbar-button",onClick:()=>o.dispatchCommand(In,"bold"),children:ne.jsx(lP,{})}),ne.jsx("button",{className:"toolbar-button",onClick:()=>o.dispatchCommand(In,"italic"),children:ne.jsx(uP,{})}),ne.jsx("button",{className:"toolbar-button",onClick:()=>o.dispatchCommand(In,"underline"),children:ne.jsx(mP,{})}),ne.jsx("button",{className:"toolbar-button",onClick:()=>o.dispatchCommand(In,"strikethrough"),children:ne.jsx(fP,{})}),ne.jsx("button",{className:"toolbar-button",onClick:()=>o.dispatchCommand(mu,"left"),children:ne.jsx(aP,{})}),ne.jsx("button",{className:"toolbar-button",onClick:()=>o.dispatchCommand(mu,"center"),children:ne.jsx(oP,{})}),ne.jsx("button",{className:"toolbar-button",onClick:()=>o.dispatchCommand(mu,"right"),children:ne.jsx(sP,{})})]})}function CP(){const{isReady:o,accessToken:e}=Hp();return o?ne.jsxs(L1,{children:[ne.jsx(Ig,{path:"/",element:ne.jsx(yx,{})}),ne.jsx(Ig,{path:"/send",element:e?ne.jsx(yP,{}):ne.jsx(P1,{to:"/"})})]}):null}YR.createRoot(document.getElementById("root")).render(ne.jsx(D.StrictMode,{children:ne.jsx(px,{children:ne.jsx(aO,{basename:"/proof-of-concept",children:ne.jsx(CP,{})})})}));
